{"version":3,"sources":["logo.svg","TopBar/TopBar.js","api.js","JsonApi.js","ServerPanel/ServerPanel.js","App.js","reportWebVitals.js","index.js"],"names":["TopBar","className","Component","ApiProvider","server","this","fetchMethod","name","reason","postJsonMethod","isWorking","user","getUserInfo","window","location","constructApiUrl","method","params","paramStr","s","fetch","credentials","result","options","body","JSON","stringify","headers","postMethod","then","json","error","defaultUser","discord","discriminator","avatar","auth","is_signed_in","is_admin","getJsonMethod","response","hasOwnProperty","alert","OperationsApi","React","createContext","ServerPanel","state","ready","nickname","kickPlayer","bind","banPlayer","giveVip","inputNickname","api","context","prompt","checkError","confirm","addVip","ev","target","value","u","setState","type","placeholder","onChange","onClick","title","disabled","openLoginPage","contextType","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4ebea5e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React, { Component } from 'react';\nimport \"./TopBar.css\";\n\nexport default class TopBar extends Component {\n  render() {\n    return (\n      <div className=\"topbar\">\n        Community Operations\n      </div>\n    )\n  }\n}\n","import React from \"react\";\r\nimport JsonClient from \"./JsonApi\";\r\n\r\nexport class ApiProvider extends JsonClient {\r\n  constructor() {\r\n    super();\r\n    this.server = \"Community Operations #1\";\r\n  }\r\n  logout() {\r\n    return this.fetchMethod(\"logout\");\r\n  }\r\n  kickPlayer(name, reason) {\r\n    return this.postJsonMethod(\"changeplayer\", { \"request\": \"kickPlayer\", \"playername\": name, \"servername\": this.server, \"reason\": reason });\r\n  }\r\n  banPlayer(name) {\r\n    return this.postJsonMethod(\"changeserver\", { \"request\": \"addServerBan\", \"playername\": name, \"servername\": this.server });\r\n  }\r\n  addVip(name) {\r\n    return this.postJsonMethod(\"changeserver\", { \"request\": \"addServerVip\", \"playername\": name, \"servername\": this.server });\r\n  }\r\n  getBanList() {\r\n\r\n  }\r\n}\r\n\r\nexport const OperationsApi = React.createContext();\r\n","\r\nexport default class JsonClient {\r\n  constructor() {\r\n    this.isWorking = true;\r\n    this.user = this.getUserInfo();\r\n  }\r\n  openLoginPage() {\r\n    window.location = this.constructApiUrl(\"login\");\r\n  }\r\n  constructApiUrl(method, params) {\r\n    params = params || {};\r\n    let paramStr = \"\";\r\n    for (let s in params) {\r\n      paramStr += s + \"=\" + params[s] + \"&\";\r\n    }\r\n    const apiEP = \"https://operations.bandofbrothers.site/api/\";\r\n    return apiEP + method + \"?\" + paramStr;\r\n  }\r\n  async fetchMethod(method, params) {\r\n    let result = await fetch(this.constructApiUrl(method, params), {\r\n      credentials: \"include\"\r\n    });\r\n    return result;\r\n  }\r\n  async postMethod(method, params) {\r\n    let result = await fetch(this.constructApiUrl(method, {}), params);\r\n    return result;\r\n  }\r\n  async postJsonMethod(method, params) {\r\n    const options = {\r\n      method: 'POST',\r\n      body: JSON.stringify(params),\r\n      credentials: \"include\",\r\n      headers: {\r\n          'Content-Type': 'application/json'\r\n      }\r\n    };\r\n    return await this.postMethod(method, options).then(result => {\r\n      return result.json().then(json => json, error => ({ \"error\": error }));\r\n    }, error => ({ \"error\": error }));\r\n  }\r\n  async getJsonMethod(method, params) {\r\n    return await this.fetchMethod(method, params).then(result => {\r\n      return result.json().then(json => json, error => ({ \"error\": error }));\r\n    }, error => ({ \"error\": error }));\r\n  }\r\n  async getUserInfo() {\r\n    const defaultUser = {\r\n      discord: {\r\n        name: \"\",\r\n        discriminator: 0,\r\n        avatar: \"\"\r\n      },\r\n      auth: {\r\n        is_signed_in: false,\r\n        is_admin: false\r\n      }\r\n    };\r\n    let response = await this.getJsonMethod(\"getinfo\");\r\n    if (!response.hasOwnProperty(\"error\")) {\r\n      return response;\r\n    }\r\n    alert(response.error);\r\n    return defaultUser;\r\n  }\r\n}","import React, { Component } from 'react';\nimport \"./ServerPanel.css\";\n\nimport { OperationsApi } from \"../api\";\n\nexport default class ServerPanel extends Component {\n  static contextType = OperationsApi;\n  state = { ready: false };\n  nickname = \"\";\n  kickPlayer = this.kickPlayer.bind(this);\n  banPlayer = this.banPlayer.bind(this);\n  giveVip = this.giveVip.bind(this);\n  inputNickname = this.inputNickname.bind(this);\n\n  kickPlayer() {\n    let api = this.context;\n    if (this.nickname === \"\") return;\n    var reason = window.prompt(\"Please enter reason to kick\", \"Kicked by admin.\");\n    api.kickPlayer(this.nickname, reason || \"\").then(result => this.checkError(result));\n  }\n  banPlayer() {\n    let api = this.context;\n    if (this.nickname === \"\") return;\n    let state = window.confirm(\"Are you sure you want to ban \" + this.nickname + \"?\");\n    if (state) {\n        api.banPlayer(this.nickname).then(result => this.checkError(result));\n    }\n  }\n  giveVip() {\n    let api = this.context;\n    if (this.nickname === \"\") return;\n    let state = window.confirm(\"Give Vip to \" + this.nickname + \"?\");\n    if (state) {\n        let result = api.addVip(this.nickname).then(result => this.checkError(result));\n    }\n  }\n  inputNickname(ev) {\n    this.nickname = ev.target.value;\n  }\n  checkError(result) {\n    if (!result) {\n        alert(\"Api currently not working.\");\n    } else if (result.hasOwnProperty(\"error\")) {\n        alert(result.error);\n    } else {\n        alert(JSON.stringify(result,null,'\\t'));\n    }\n  }\n  render() {\n    let api = this.context;\n    api.user.then((u) => (!this.state.ready) ? this.setState({ready: true, user: u}) : null);\n    if (!this.state.ready) {\n        return \"Loading..\";\n    }\n    if (this.state.user.auth.is_admin) {\n        return (\n          <div className=\"serverpanel\">\n            <input type=\"text\" placeholder=\"Nickname\" onChange={this.inputNickname} />\n            <input type=\"button\" value=\"Ban\" onClick={this.banPlayer} />\n            <input type=\"button\" value=\"Kick\" onClick={this.kickPlayer} />\n            <input type=\"button\" value=\"Give Vip\" onClick={this.giveVip} title=\"Function is disabled as it may cause issues.\" disabled />\n          </div>\n        )\n    } else {\n        api.openLoginPage();\n        return \"Not an admin.\";\n    }\n  }\n}\n","import logo from './logo.svg';\nimport './App.css';\n\nimport TopBar from \"./TopBar/TopBar.js\";\nimport ServerPanel from \"./ServerPanel/ServerPanel.js\";\n\nimport { OperationsApi, ApiProvider } from \"./api\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <TopBar />\n        <OperationsApi.Provider value={new ApiProvider()}>\n            <ServerPanel />\n        </OperationsApi.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}