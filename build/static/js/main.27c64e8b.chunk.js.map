{"version":3,"sources":["logo.svg","TopBar/TopBar.js","api.js","ServerPanel/ServerPanel.js","App.js","reportWebVitals.js","index.js"],"names":["TopBar","className","Component","defaultUser","discord","name","discriminator","id","avatar","bob","role","role_color","in_server","nickname","auth","is_signed_in","is_admin","origin","platoon","is_in_platoon","ApiProvider","this","isWorking","user","getUserInfo","server","window","location","constructApiUrl","fetchMethod","method","params","paramStr","s","fetch","credentials","result","reason","json","a","hasOwnProperty","undefined","response","catch","e","console","log","userSetInfo","OperationsApi","React","createContext","ServerPanel","state","ready","kickPlayer","bind","banPlayer","giveVip","inputNickname","api","context","prompt","confirm","addVip","ev","target","value","then","u","setState","type","placeholder","onChange","onClick","openLoginPage","contextType","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27c64e8b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React, { Component } from 'react';\nimport \"./TopBar.css\";\n\nexport default class TopBar extends Component {\n  render() {\n    return (\n      <div className=\"topbar\">\n        Community Operations\n      </div>\n    )\n  }\n}\n","import React from \"react\";\r\n\r\nconst defaultUser = {\r\n  discord: {\r\n    name: \"\",\r\n    discriminator: 0,\r\n    id: 0,\r\n    avatar: \"\"\r\n  },\r\n  bob: {\r\n    role: \"\",\r\n    role_color: \"\",\r\n    in_server: false,\r\n    nickname: \"\"\r\n  },\r\n  auth: {\r\n    is_signed_in: false,\r\n    is_admin: false\r\n  },\r\n  origin: {\r\n    name: \"\",\r\n    id: 0,\r\n    platoon: 0,\r\n    is_in_platoon: false\r\n  }\r\n};\r\n\r\nexport class ApiProvider {\r\n  constructor() {\r\n    this.isWorking = true;\r\n    this.user = this.getUserInfo();\r\n    this.server = \"Operations\";\r\n  }\r\n  tryToLogin() {\r\n    this.getUserInfo();\r\n  }\r\n  openLoginPage() {\r\n    window.location = this.constructApiUrl(\"login\");\r\n  }\r\n  async logout() {\r\n    await this.fetchMethod(\"logout\");\r\n  }\r\n  constructApiUrl(method, params) {\r\n    params = params || {};\r\n    let paramStr = \"\";\r\n    for (let s in params) {\r\n      paramStr += s + \"=\" + params[s] + \"&\";\r\n    }\r\n    const apiEP = \"//bandofbrothers.site/api/\";\r\n    return apiEP + method + \"?\" + paramStr;\r\n  }\r\n  async fetchMethod(method, params) {\r\n    let result = await fetch(this.constructApiUrl(method, params), {\r\n      credentials: \"include\"\r\n    });\r\n    return result;\r\n  }\r\n  async kickPlayer(name, reason) {\r\n    let result = await this.fetchMethod(\"changeplayer\", { \"request\": \"kickPlayer\", \"playername\": name, \"servername\": this.server, \"reason\": reason });\r\n    return await result.json();\r\n  }\r\n  async banPlayer(name) {\r\n    let result = await this.fetchMethod(\"changeserver\", { \"request\": \"addServerBan\", \"playername\": name, \"servername\": this.server });\r\n    return await result.json();\r\n  }\r\n  async addVip(name) {\r\n    let result = await this.fetchMethod(\"changeserver\", { \"request\": \"addServerVip\", \"playername\": name, \"servername\": this.server });\r\n    return await result.json();\r\n  }\r\n  userSetInfo(a) {\r\n    if (!a.hasOwnProperty(\"error\")) {\r\n      return a;\r\n    } else {\r\n      return defaultUser;\r\n    }\r\n  }\r\n  async getUserInfo() {\r\n    let response = await this.fetchMethod(\"getinfo\");\r\n    if (response !== undefined) {\r\n      let json = await response.json().catch((e) => console.log(e));\r\n      if (json !== undefined) {\r\n        return this.userSetInfo(json);\r\n      }\r\n    }\r\n    this.isWorking = false;\r\n    return defaultUser;\r\n  }\r\n}\r\n\r\nexport const OperationsApi = React.createContext();\r\n","import React, { Component } from 'react';\nimport \"./ServerPanel.css\";\n\nimport { OperationsApi } from \"../api\";\n\nexport default class ServerPanel extends Component {\n  static contextType = OperationsApi;\n  state = { ready: false };\n  nickname = \"\";\n  kickPlayer = this.kickPlayer.bind(this);\n  banPlayer = this.banPlayer.bind(this);\n  giveVip = this.giveVip.bind(this);\n  inputNickname = this.inputNickname.bind(this);\n\n  kickPlayer() {\n    let api = this.context;\n    console.log(this);\n    var reason = window.prompt(\"Please enter reason to kick\", \"Kicked by admin.\");\n    api.kickPlayer(this.nickname, reason || \"\");\n  }\n  banPlayer() {\n    let api = this.context;\n    let state = window.confirm(\"Are you sure you want to ban \" + this.nickname + \"?\");\n    if (state) {\n      api.banPlayer(this.nickname);\n    }\n  }\n  giveVip() {\n    let api = this.context;\n    let state = window.confirm(\"Give Vip to \" + this.nickname + \"?\");\n    if (state) {\n        api.addVip(this.nickname);\n    }\n  }\n  inputNickname(ev) {\n    this.nickname = ev.target.value;\n  }\n  render() {\n    let api = this.context;\n    api.user.then((u) => (!this.state.ready) ? this.setState({ready: true, user: u}) : null);\n    if (!this.state.ready) {\n        return \"Loading..\";\n    }\n    if (this.state.user.auth.is_admin) {\n        return (\n          <div className=\"serverpanel\">\n            <input type=\"text\" placeholder=\"Nickname\" onChange={this.inputNickname} />\n            <input type=\"button\" value=\"Ban\" onClick={this.banPlayer} />\n            <input type=\"button\" value=\"Kick\" onClick={this.kickPlayer} />\n            <input type=\"button\" value=\"Give Vip\" onClick={this.giveVip} />\n          </div>\n        )\n    } else {\n        api.openLoginPage();\n        return \"Not an admin.\";\n    }\n  }\n}\n","import logo from './logo.svg';\nimport './App.css';\n\nimport TopBar from \"./TopBar/TopBar.js\";\nimport ServerPanel from \"./ServerPanel/ServerPanel.js\";\n\nimport { OperationsApi, ApiProvider } from \"./api\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <TopBar />\n        <OperationsApi.Provider value={new ApiProvider()}>\n            <ServerPanel />\n        </OperationsApi.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}