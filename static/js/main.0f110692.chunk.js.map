{"version":3,"sources":["components/Buttons.module.css","components/Group.module.css","components/Sidebar.module.css","components/User.module.css","components/Card.module.css","components/MainPage.module.css","components/TopBar.module.css","components/Status.module.css","components/Flex.module.css","components/PageContainer.module.css","components/Header.module.css","components/Server.module.css","JsonApi.js","api.js","components/PageContainer.js","testing/ABtesting.js","components/Sidebar.js","components/Status.js","components/Buttons.js","components/Flex.js","components/Card.js","components/Header.js","components/User.js","components/Group.js","components/MainPage.js","components/Server.js","views/Account.js","views/Developer.js","views/Server.js","views/Group.js","views/index.js","views/Main.js","App.js","index.js"],"names":["module","exports","endPoints","dev","prod","OperationsApi","asyncUser","this","logoutAndChangeUser","user","a","fetchMethod","getUserInfo","sid","playername","reason","postJsonMethod","name","gid","map","time","toString","team","getJsonMethod","devGroups","Error","groupName","discordId","modRole","adminRole","remid","type","value","answer","error","message","uid","nickname","alias","server","game","data","isWorking","window","location","constructApiUrl","method","params","paramStr","s","fetch","credentials","options","body","JSON","stringify","headers","errorHandler","postMethod","response","then","result","json","length","spawnError","code","defaultUser","discord","discriminator","avatar","auth","inGuild","isAdmin","isDeveloper","isOwner","signedIn","hasOwnProperty","PageContainer","props","className","styles","children","PageColumn","keys","rollout","getChannel","storageKey","localStorage","storageItemTest","getItem","testValue","Math","floor","random","setItem","TopSidebar","to","title","src","Logo","PageLink","activeClassName","PageLinkActive","content","PageButton","target","rel","href","onClick","AddIcon","viewBox","sideIcon","fill","d","WrenchIcon","Sidebar","A","B","key","useQuery","userError","isLoading","devLink","accountLink","logoutLink","groupLinks","history","useHistory","queryClient","useQueryClient","logoutExecutor","useMutation","v","logout","onMutate","cancelQueries","prevUser","getQueryData","setQueryData","old","push","onSettled","variables","context","invalidateQueries","devOptionsContent","addGroupContent","i","switchingTest","mutate","permissions","isAdminOf","group","id","style","display","flexGrow","flexDirection","overflowY","marginBottom","GroupLinks","paddingLeft","fontSize","APP_VERSION","LoadingIcon","loadingIcon","ErrorIcon","errorIcon","Status","notEnabled","undefined","status","Button","background_color","width","button","disabled","callback","ButtonLink","ButtonRow","buttonRow","TextInput","defaultValue","placeholder","onReset","onChange","SmallButton","_","vars","Switch","useState","checkedSwitch","clickSwitch","switchTheSwitch","newVal","useEffect","checked","switchClassName","SwitchActive","SwitchRow","isChecked","onKeyPress","e","charCode","role","tabIndex","SwitchInner","SwitchOn","SwitchOff","SwitchHandle","DropdownButton","open","setOpen","container","React","useRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","ref","dropdown","ul","option","li","ChoosePageButtons","active","setActive","ChoosePageButtonHolder","buttons","ChoosePageButtonActive","ChoosePageButton","IconSelected","iconSelect","IconNotSelected","SelectableRow","selected","setSelcted","selectableRowSelected","selectableRow","p","Column","Row","Card","card","CardRow","PageCard","Tag","ModalControll","isShown","show","close","ModalContext","createContext","useModal","useContext","Modal","controller","modal","modalDisabled","modalBackground","modalContent","ModalProvider","controllerState","setControllerState","Provider","Header","UserRow","alt","Avatar","DiscordName","DiscordNum","secure","xmlns","UserStRow","dateAdded","Date","parse","addedAt","dateString","getDate","getMonth","String","getHours","padStart","getMinutes","DiscordId","DateAdded","FakeUserStRow","UserRowSt","GroupRow","GroupName","ServerRow","serverBadgePending","serverStatus","serverBadgeErr","serverBadgeOk","GameStatsAd","gameStatsAd","VBanList","getAutoBanList","isError","banList","searchWord","setSearchWord","unbanVGlobalBan","globalUnbanPlayer","previousBanList","filter","player","playerName","onError","err","newTodo","BanListing","includes","GlobalBanRow","BanRow","BanDisplayName","banReason","banReasonDetailed","globalUnban","GroupLogs","getGroupLogs","logList","logs","sort","b","timeStamp","maxHeight","marginTop","log","LogRow","Array","from","EmptyLogRow","datetime","action","getUTCDate","getFullYear","logRow","logAdmin","adminName","logReason","logTime","ListItem","header","LoginButton","MainPageComponent","MainPage","MainPageCard","titleBlock","titleContent","listing","SmallText","ServerRotation","info","rotationId","setRotationId","ServerInfoColumn","ServerDescriptionRow","serverImage","url","GameInfo","ServerName","prefix","mode","serverInfo","inQue","serverStatusOk","serverStatusErr","rotate","SwitchGame","rotation","index","mapname","PlayerInfo","players","moveTeam","getDropdownOptions","giveVip","removeVip","PlayerRow","PlayerIndex","playerId","PlayerName","platoon","PlayerPing","ping","PlayerNone","PlayerButtons","onMove","ServerInfoHolder","ServerInfoRow","BanList","getBanList","borderCollapse","position","top","displayName","admin","banned_until","ban_timestamp","FireStarter","getStarterList","starterList","StarterRow","amount","LogList","getServerLogs","logIcon","logAction","logPlayer","toPlayer","logReasonDetailed","VipList","getVipList","vipList","VipHeader","alignItems","VipRow","VipName","VipRowImg","Account","userLine","Developer","getDevGroups","groups","g","Server","serverCard","playerNicknameTeam","match","getServer","getServerGame","gameError","runningGame","playerList","playerInGame","setPlayerName","addVipStatus","changeAddVipStatus","removeVipStatus","changeRemoveVipStatus","unbanStatus","changeUnbanStatus","tabsListing","setTabsListing","UnbanPlayer","unbanPlayer","RemoveVip","AddVip","addVip","movePlayer","previousGroup","find","serverTabs","catTabs","changeRotation","banlist","viplist","firestarter","loglist","protection","ServerAutomation","settings","ServerSettings","isOpsMode","f1","f2","marginRight","allowedTo","kickOnPingDisabled","setKickOnPingDisabled","serverState","setServerState","canApply","setCanApply","applyStatus","setApplyStatus","autoBanKick","autoBfbanKick","autoGlobalBanMessage","autoPingKick","originalServerState","autoPingKickMessage","newCanApply","changeSrerverState","editServerSettings","editServer","onSuccess","setTimeout","getServerValue","marginLeft","console","parseInt","minAutoPingKick","errorUpdating","setError","serverName","serverAlias","alignSelf","opacity","ServerKickPlayer","eaid","setReason","KickPlayer","kickPlayer","ServerBanPlayer","banTime","setBanTime","globalVsClassicBan","setGlobalVsClassicBan","banApplyStatus","setBanApplyStatus","userGettingError","BanPlayer","banPlayer","GlobalBanPlayer","globalBanPlayer","servers","isDisabled","maxWidth","ServerAction","deleteIcon","Group","getGroup","staleTime","groupError","removeAdmin","removeGroupAdmin","now","toUTCString","admins","removeServer","removeOwner","removeGroupOwner","owners","setListing","settingsListing","setSettingsListing","catListing","GroupOwners","onDelete","GroupAdmins","GroupServers","vbanlist","grouplogs","catSettings","account","GroupServerAccount","GroupDiscordSettings","danger","GroupDangerZone","pageCycle","settingsCycle","hasRights","setSelected","adminList","isSelected","AddGroupAdmin","o","item","changeSelected","ownerList","AddGroupOwner","owner","setSid","setRemid","cookie","editCookies","editGroup","validCookie","border","padding","borderRadius","color","background","margin","adminId","setAdminId","modId","setModId","serverId","setServerId","discordGroupId","discordModRoleId","discordAdminRoleId","editDiscordDetails","setGroupName","editGroupName","setNickname","setUid","AddGroupOwnerExecute","addGroupOwner","UTCNow","canAdd","addAdminState","changeState","AddGroupAdminExecute","addGroupAdmin","updateState","values","newState","AddGroup","roleDisplay","addGroupState","AddNewGroupExecute","addGroup","refetchQueries","checkInputVariables","newVariables","newGroupState","newVars","DeleteGroup","thisGid","DeleteGroupExecute","removeGroup","previousGroups","AddGroupServer","AddGroupServerExecute","addGroupServer","EditGroup","MakeOps","SetupOperations","setupOps","Views","exact","path","component","Main","createHashHistory","App","useLocation","TransitionGroup","CSSTransition","classNames","timeout","hash","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","getElementById"],"mappings":"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","file":"static/js/main.0f110692.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonRow\":\"Buttons_buttonRow__dKjZj\",\"button\":\"Buttons_button__1VKNK\",\"container\":\"Buttons_container__np2ep\",\"dropdown\":\"Buttons_dropdown__13J8f\",\"ul\":\"Buttons_ul__3tJo8\",\"li\":\"Buttons_li__1sX4Q\",\"TextInput\":\"Buttons_TextInput__35GbL\",\"SmallButton\":\"Buttons_SmallButton__3rzhd\",\"Switch\":\"Buttons_Switch__39fTc\",\"SwitchActive\":\"Buttons_SwitchActive__2ViHx\",\"SwitchInner\":\"Buttons_SwitchInner__3LnS9\",\"SwitchHandle\":\"Buttons_SwitchHandle__2b8wJ\",\"SwitchOff\":\"Buttons_SwitchOff__3Oaf-\",\"SwitchOn\":\"Buttons_SwitchOn__1_Jsb\",\"SwitchRow\":\"Buttons_SwitchRow__3WA6c\",\"ChoosePageButton\":\"Buttons_ChoosePageButton__1-OpM\",\"ChoosePageButtonActive\":\"Buttons_ChoosePageButtonActive__13GmV\",\"ChoosePageButtonHolder\":\"Buttons_ChoosePageButtonHolder__VfFyz\",\"selectableRow\":\"Buttons_selectableRow__V-YSj\",\"selectableRowSelected\":\"Buttons_selectableRowSelected__AlZEt\",\"iconSelect\":\"Buttons_iconSelect__EU1hH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GroupRow\":\"Group_GroupRow__1Ew1c\",\"GroupName\":\"Group_GroupName__3G6eX\",\"gameStatsAd\":\"Group_gameStatsAd__2Eob_\",\"logAdmin\":\"Group_logAdmin__1TOK4\",\"logPlayer\":\"Group_logPlayer__1Mapx\",\"logAction\":\"Group_logAction__2UECK\",\"logReason\":\"Group_logReason__8BHZZ\",\"logRow\":\"Group_logRow__YNVWa\",\"BanRow\":\"Group_BanRow__v5SxK\",\"banReasonDetailed\":\"Group_banReasonDetailed__3HFsw\",\"BanDisplayName\":\"Group_BanDisplayName__15HMw\",\"banReason\":\"Group_banReason__1ofIN\",\"globalUnban\":\"Group_globalUnban__v-kk5\",\"serverBadgeErr\":\"Group_serverBadgeErr__1dzxV\",\"serverBadgeOk\":\"Group_serverBadgeOk__2BwfX\",\"serverBadgePending\":\"Group_serverBadgePending__3AuNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageLink\":\"Sidebar_PageLink__3fxKj\",\"PageButton\":\"Sidebar_PageButton__3ug-M\",\"PageLinkActive\":\"Sidebar_PageLinkActive___nnPr\",\"Sidebar\":\"Sidebar_Sidebar__c0TTh\",\"Logo\":\"Sidebar_Logo__2HFo5\",\"TopSidebar\":\"Sidebar_TopSidebar__BQCyG\",\"sideIcon\":\"Sidebar_sideIcon__72aBF\",\"GroupLinks\":\"Sidebar_GroupLinks__8lkHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserRow\":\"User_UserRow__1fzJH\",\"Avatar\":\"User_Avatar__3XgeX\",\"DiscordName\":\"User_DiscordName__j-kJJ\",\"DiscordNum\":\"User_DiscordNum__odqe3\",\"secure\":\"User_secure__ADMpb\",\"UserRowSt\":\"User_UserRowSt__D7e-x\",\"DiscordId\":\"User_DiscordId__CJ0BY\",\"DateAdded\":\"User_DateAdded__1FZZj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3F8np\",\"CardRow\":\"Card_CardRow__1NbF3\",\"PageCard\":\"Card_PageCard__3UgmB\",\"Tag\":\"Card_Tag__gwAfh\",\"modalDisabled\":\"Card_modalDisabled__1amMq\",\"modal\":\"Card_modal__2zuep\",\"modalContent\":\"Card_modalContent__QUirv\",\"modalBackground\":\"Card_modalBackground__i6ZMJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainPageCard\":\"MainPage_MainPageCard__20zHQ\",\"MainPage\":\"MainPage_MainPage__2QR_f\",\"titleBlock\":\"MainPage_titleBlock__3Cu7O\",\"listing\":\"MainPage_listing__1JWXi\",\"ListItem\":\"MainPage_ListItem__1n0An\",\"titleContent\":\"MainPage_titleContent__QdrEG\",\"LoginButton\":\"MainPage_LoginButton__3Flzc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"TopBar_bar__3bwJz\",\"barWrap\":\"TopBar_barWrap__13cVT\",\"mainPage\":\"TopBar_mainPage__28WNk\",\"logo\":\"TopBar_logo__3pe6W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__1LWe8\",\"loadingIcon\":\"Status_loadingIcon__3owGX\",\"Loading\":\"Status_Loading__v1uza\",\"errorIcon\":\"Status_errorIcon__2HXFb\",\"Shake\":\"Status_Shake__30h0w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Column\":\"Flex_Column__3cQ9_\",\"Row\":\"Flex_Row__3SC-0\",\"Grow\":\"Flex_Grow__f7am0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageContainer\":\"PageContainer_PageContainer__1PlzU\",\"PageColumn\":\"PageContainer_PageColumn__3Qegy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3VoE2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SmallText\":\"Server_SmallText__3uOYG\",\"ServerInfoColumn\":\"Server_ServerInfoColumn__35hJK\",\"ServerInfoRow\":\"Server_ServerInfoRow__2Aa7V\",\"serverImage\":\"Server_serverImage__3m2nE\",\"ServerName\":\"Server_ServerName__2irVE\",\"GameInfo\":\"Server_GameInfo__X3Hhq\",\"ServerDescriptionColumn\":\"Server_ServerDescriptionColumn__3pNJs\",\"ServerDescriptionRow\":\"Server_ServerDescriptionRow__12wsx\",\"SwitchGame\":\"Server_SwitchGame__3MjHo\",\"SettingsRow\":\"Server_SettingsRow__2yzpg\",\"SmallInput\":\"Server_SmallInput__1fZ_Z\",\"PlayerRow\":\"Server_PlayerRow__29Z8B\",\"PlayerName\":\"Server_PlayerName__3tLfO\",\"PlayerIndex\":\"Server_PlayerIndex__37b5y\",\"PlayerPing\":\"Server_PlayerPing__31qCm\",\"PlayerLevel\":\"Server_PlayerLevel__1Z7Ur\",\"PlayerNone\":\"Server_PlayerNone__2swFS\",\"playerBackgroundInfo\":\"Server_playerBackgroundInfo__27qMt\",\"PlayerButtons\":\"Server_PlayerButtons__3dQvb\",\"PlayerButton\":\"Server_PlayerButton__1b5UO\",\"serverStatus\":\"Server_serverStatus__2bq0e\",\"serverStatusOk\":\"Server_serverStatusOk__g8kKz\",\"serverStatusErr\":\"Server_serverStatusErr__3kLiy\",\"BanRow\":\"Server_BanRow__2CH-s\",\"VipRow\":\"Server_VipRow__11VYU\",\"BanDisplayName\":\"Server_BanDisplayName__1mYLa\",\"VipRowImg\":\"Server_VipRowImg__2uQKq\",\"VipName\":\"Server_VipName__1vh7h\",\"VipHeader\":\"Server_VipHeader__17wNH\",\"logAdmin\":\"Server_logAdmin__h3EXT\",\"logPlayer\":\"Server_logPlayer__3ubbb\",\"logAction\":\"Server_logAction__chE4g\",\"logReason\":\"Server_logReason__1SNMU\",\"logRow\":\"Server_logRow__3r-zZ\",\"logReasonDetailed\":\"Server_logReasonDetailed__uRKTP\",\"logIcon\":\"Server_logIcon__2eNHD\",\"serverBadgeErr\":\"Server_serverBadgeErr__3txr9\",\"serverBadgeOk\":\"Server_serverBadgeOk__1vnEH\",\"serverBadgePending\":\"Server_serverBadgePending__KFlxu\",\"serverBadge\":\"Server_serverBadge__2dEUL\",\"serverStatusArray\":\"Server_serverStatusArray__SklvZ\",\"liveUpdate\":\"Server_liveUpdate__2AkO3\",\"livePulse\":\"Server_livePulse__2PWwz\",\"liveUpdateText\":\"Server_liveUpdateText__3iOfu\"};","\nconst MODE = \"prod\";\n\nconst endPoints = {\n    dev: \"https://homedev.gametools.network/api/\",\n    prod: \"https://manager-api.gametools.network/api/\"\n}\n\nexport default class JsonClient {\n    constructor() {\n        this.isWorking = true;\n        this.user = this.getUserInfo();\n    }\n    openLoginPage() {\n        window.location = this.constructApiUrl(\"login\");\n    }\n    constructApiUrl(method, params) {\n        params = params || {};\n        let paramStr = \"\";\n        for (let s in params) {\n            paramStr += s + \"=\" + params[s] + \"&\";\n        }\n        if (paramStr !== \"\") paramStr = \"?\" + paramStr;\n        const apiEP = endPoints[MODE];\n        return apiEP + method + paramStr;\n    }\n    async fetchMethod(method, params) {\n        return fetch(this.constructApiUrl(method, params), {\n            credentials: \"include\"\n        });\n    }\n    async postMethod(method, params) {\n        return fetch(this.constructApiUrl(method, {}), params);\n    }\n    /// Returns Promise\n    postJsonMethod(method, params) {\n        const options = {\n            method: 'POST',\n            body: JSON.stringify(params),\n            credentials: \"include\",\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n        return this.errorHandler(this.postMethod(method, options));\n    }\n    /// Returns Promise\n    getJsonMethod(method, params) {\n        return this.errorHandler(this.fetchMethod(method, params));\n    }\n    async errorHandler(response) {\n        return response.then(\n            result => {\n                return result.json().then(\n                    json => {\n                        if (\"error\" in json) {\n                            throw json.error;\n                        }\n                        if (\"data\" in json) {\n                            if (json.data.length > 0) {\n                                if (\"error\" in json.data[0]) {\n                                    throw json.data[0].error;\n                                }\n                            }\n                        }\n                        return json;\n                    },\n                    error => this.spawnError(error, 600)\n                );\n            },\n            error => this.spawnError(error, response.code)\n        );\n    }\n    spawnError(error, code) {\n        throw {\n            \"error\": {\n                \"message\": error,\n                \"code\": code,\n            }\n        };\n    }\n    async getUserInfo() {\n        const defaultUser = {\n            discord: {\n            name: \"\",\n            discriminator: 0,\n            avatar: \"\"\n            },\n            auth: {\n                inGuild: false,\n                isAdmin: false,\n                isDeveloper: false,\n                isOwner: false,\n                signedIn: false\n            }\n        };\n        let response = await this.getJsonMethod(\"getinfo\");\n        if (!response.hasOwnProperty(\"error\")) {\n            return response;\n        }\n        return defaultUser;\n    }\n}","import JsonClient from \"./JsonApi\";\n\nexport class ApiProvider extends JsonClient {\n\n    logout() {\n        var asyncUser = this.logoutAndChangeUser();\n        this.user = asyncUser;\n    }\n\n    async logoutAndChangeUser() {\n        await this.fetchMethod(\"logout/\");\n        var user = await this.getUserInfo();\n        return user;\n    }\n\n    async kickPlayer({ sid, playername, reason }) {\n        return await this.postJsonMethod(\"changeplayer\", {\n            \"request\": \"kickPlayer\",\n            \"playername\": playername,\n            \"serverid\": sid,\n            \"reason\": reason\n        });\n    }\n\n    async globalBanPlayer({ name, reason, gid}) {\n        return await this.postJsonMethod(\"addautoban\", {\n            \"playername\": name,\n            \"groupid\": gid,\n            \"reason\": reason\n        });\n    }\n\n    async globalUnbanPlayer({ name, gid}) {\n        return await this.postJsonMethod(\"delautoban\", {\n            \"playername\": name,\n            \"groupid\": gid,\n            \"reason\": \"\"\n        });\n    }\n\n    async changeRotation({ sid, map }) {\n        return await this.postJsonMethod(\"changelevel\", {\n            \"mapnumber\": map,\n            \"serverid\": sid\n        });\n    }\n\n    async banPlayer({ name, reason, time, sid }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"addServerBan\",\n            \"playername\": name,\n            \"serverid\": sid,\n            \"bantime\": time.toString(),\n            \"reason\": reason\n        }); \n    }\n\n    async unbanPlayer({ name, reason, sid }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"removeServerBan\",\n            \"playername\": name,\n            \"serverid\": sid,\n            \"reason\": reason\n        });\n    }\n\n    async addVip({ sid, name, reason }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"addServerVip\",\n            \"playername\": name,\n            \"serverid\": sid,\n            reason\n        });\n    }\n\n    async removeVip({ sid, name, reason }) {\n        return await this.postJsonMethod(\"changeserver\", {\n            \"request\": \"removeServerVip\",\n            \"playername\": name,\n            \"serverid\": sid,\n            reason\n        });\n    }\n\n    async movePlayer({ sid, team, name }) {\n        return await this.postJsonMethod(\"moveplayer\", {\n            \"teamid\": team,\n            \"playername\": name,\n            \"serverid\": sid\n        });\n    }\n\n    async getBanList({ sid }) {\n        return await this.getJsonMethod(\"infolist\", {\n            \"type\": \"bannedList\",\n            \"serverid\": sid\n        });\n    }\n\n    async getStarterList({ sid }) {\n        return await this.getJsonMethod(\"firestarters\", {\n            \"serverid\": sid\n        });\n    }\n\n    async getAutoBanList({ gid }) {\n        return await this.getJsonMethod(\"autoban\", {\n            \"groupid\": gid\n        });\n    }\n\n    async getVipList({ sid }) {\n        return await this.getJsonMethod(\"infolist\", {\n            \"type\": \"vipList\",\n            \"serverid\": sid\n        });\n    }\n\n    async getServerLogs({ sid }) {\n        return await this.getJsonMethod(\"tailserverlog\", {\n            \"serverid\": sid\n        });\n    }\n\n    async getGroupLogs({ gid }) {\n        return await this.getJsonMethod(\"tailuserlog\", {\n            \"groupid\": gid\n        });\n    }\n\n    async getDevGroups() {\n        var devGroups = await this.getJsonMethod(\"devgroups\");\n        if (\"error\" in devGroups) {\n            throw Error(\"Error on server.\");\n        }\n        return devGroups;\n    }\n\n    async addGroup({ groupName, discordId, modRole, adminRole, sid, remid }) {\n        return await this.postJsonMethod(\"addgroup\", {\n            \"groupname\": groupName,\n            \"adminroleid\": adminRole,\n            \"discordid\": discordId,\n            \"modroleid\": modRole,\n            \"remid\": remid,\n            \"sid\": sid,\n        });\n    }\n\n    async removeGroup({ gid }) {\n        return await this.postJsonMethod(\"delgroup\", {\n            \"groupId\": gid,\n        });\n    }\n\n    async editGroup({ gid, type, value }) {\n        var answer = await this.postJsonMethod(\"editgroup\", {\n            \"groupid\": gid,\n            \"values\": value\n        });\n        if (\"error\" in answer) {\n            throw new Error(answer.error.message)\n        }\n    }\n\n    async getGroup(gid) {\n        return await this.getJsonMethod(\"groups\", { \"groupid\": gid });\n    }\n\n    async addGroupOwner({ gid, uid, nickname }) {\n        return await this.postJsonMethod(\"addowner\", {\n            \"userid\": uid, // discord userid\n            \"nickname\": nickname, // will change when the user signs in\n            \"groupid\": gid,\n        });\n    }\n\n    async addGroupServer({ gid, name, alias }) {\n        return await this.postJsonMethod(\"addserver\", {\n            \"servername\": name,\n            \"serveralias\": alias,\n            \"groupid\": gid,\n        });\n    }\n\n    async addGroupAdmin({ gid, uid, nickname }) {\n        return await this.postJsonMethod(\"addadmin\", {\n            \"userid\": uid, // discord userid\n            \"nickname\": nickname, // will change when the user signs in\n            \"groupid\": gid,\n        });\n    }\n\n    async removeGroupAdmin({ gid, uid }) {\n        return await this.postJsonMethod(\"deladmin\", {\n            \"userid\": uid,\n            \"groupid\": gid,\n        });\n    }\n\n    async removeGroupOwner({ gid, uid }) {\n        return await this.postJsonMethod(\"delowner\", {\n            \"userid\": uid,\n            \"groupid\": gid,\n        });\n    }\n\n    async setupOps({ server, sid, remid }) {\n        return await this.postJsonMethod(\"makeoperations\", {\n            \"servername\": server,\n            \"sid\": sid,\n            \"remid\": remid,\n        });\n    }\n\n\n    async getServer(sid) {\n        return await this.getJsonMethod(\"server\", { \"serverid\": sid });\n    }\n\n    async getServerGame(sid) {\n        var game = await this.getJsonMethod(\"servers\", { \"serverid\": sid });\n        if (\"error\" in game.data[0]) {\n            throw Error(game.data[0].error);\n        } else {\n            return game;\n        }\n    }\n\n    async removeServer({ gid, sid }) {\n        return await this.postJsonMethod(\"delserver\", {\n            \"serverid\": sid,\n            \"groupid\": gid,\n        });\n    }\n\n    async renameServer({ name, sid }) {\n        return await this.postJsonMethod(\"renameserver\", {\n            \"serverid\": sid,\n            \"servername\": name,\n        });\n    }\n\n    async changeServerAlias({ gid, alias, sid }) {\n        return await this.postJsonMethod(\"serveralias\", {\n            \"serverid\": sid,\n            \"groupid\": gid,\n            \"serveralias\": alias,\n        });\n    }\n\n    async editServer({ sid, value }) {\n        var answer = await this.postJsonMethod(\"editserver\", {\n            \"serverid\": sid,\n            \"values\": value\n        });\n        if (\"error\" in answer) {\n            throw new Error(answer.error.message)\n        }\n    }\n\n\n}\n\nexport const OperationsApi = new ApiProvider();","import React from \"react\";\nimport styles from \"./PageContainer.module.css\";\n\n\nexport function PageContainer(props) {\n    return (\n        <div className={styles.PageContainer}>\n            {props.children}\n        </div>\n    );\n\n}\n\nexport function PageColumn(props) {\n    return (\n        <div className={styles.PageColumn}>\n            {props.children}\n        </div>\n    );\n}\n","import rollout from \"../rollout.json\";\n\nconst fixedTest = null;\nconst keys = rollout[\"AB\"];\n\n// Switch for AB testing. Shows user A or B option to test new features\nexport default function ABSwitch(A, B, key) {\n    if (!(key in keys)) {\n        return A;\n    }\n    return switchingTest(A, B, getChannel());\n}\n\n// A or B channel\nexport function getChannel() {\n    const storageKey = 'TestAB';\n    if (fixedTest) {\n        return fixedTest;\n    }\n    if (localStorage) {\n        let storageItemTest = localStorage.getItem(storageKey);\n        if (storageItemTest) {\n            return storageItemTest;\n        } else {\n            const testValue = Math.floor(Math.random() * 10) % 2;\n            localStorage.setItem(storageKey, testValue);\n            return testValue;\n        }\n    } else {\n        return 0;\n    }\n}\n\nfunction switchingTest(A, B, v) {\n    return (v === 1) ? B : A;\n}","import React from \"react\";\nimport { useQuery, useMutation, useQueryClient } from 'react-query'\nimport { NavLink, Link, useHistory } from 'react-router-dom';\nimport ABSwitch, { getChannel } from \"../testing/ABtesting\";\nimport styles from \"./Sidebar.module.css\";\n\nimport { OperationsApi } from \"../api\";\n\nimport { APP_VERSION } from \"../App\";\n\n\nfunction TopSidebar() {\n    return (\n        <div className={styles.TopSidebar}>\n            <Link to=\"/\" title=\"Main page\">\n                <img src=\"/release-logo.png\" className={styles.Logo} />\n            </Link>\n        </div>\n    );\n}\n\nfunction PageLink(props) {\n    return (\n        <div className={styles.PageLink}>\n            <NavLink to={props.to} activeClassName={styles.PageLinkActive} title={props.name}>{props.content || props.name}</NavLink>\n        </div>\n    );\n}\n\nfunction PageButton(props) {\n    return (\n        <a className={styles.PageButton} target=\"_blank\" rel=\"noopener noreferrer\" href={props.href} title={props.name}>\n            <span onClick={props.onClick}>{props.name}</span>\n        </a>\n    );\n}\n\nfunction AddIcon() {\n    return (<svg viewBox=\"0 0 24 24\" className={styles.sideIcon}>\n        <path fill=\"currentColor\" d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" />\n    </svg>);\n}\n\nfunction WrenchIcon() {\n    return (<svg viewBox=\"0 0 24 24\" className={styles.sideIcon}>\n        <path fill=\"currentColor\" d=\"M13.78 15.3L19.78 21.3L21.89 19.14L15.89 13.14L13.78 15.3M17.5 10.1C17.11 10.1 16.69 10.05 16.36 9.91L4.97 21.25L2.86 19.14L10.27 11.74L8.5 9.96L7.78 10.66L6.33 9.25V12.11L5.63 12.81L2.11 9.25L2.81 8.55H5.62L4.22 7.14L7.78 3.58C8.95 2.41 10.83 2.41 12 3.58L9.89 5.74L11.3 7.14L10.59 7.85L12.38 9.63L14.2 7.75C14.06 7.42 14 7 14 6.63C14 4.66 15.56 3.11 17.5 3.11C18.09 3.11 18.61 3.25 19.08 3.53L16.41 6.2L17.91 7.7L20.58 5.03C20.86 5.5 21 6 21 6.63C21 8.55 19.45 10.1 17.5 10.1Z\" />\n    </svg>);\n}\n\n\n\nexport function Sidebar(props) {\n\n    const { error: userError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n\n    var devLink = \"\", accountLink = \"\", logoutLink = \"\", groupLinks = \"\";\n\n    var history = useHistory();\n    const queryClient = useQueryClient();\n\n    const logoutExecutor = useMutation(\n        v => OperationsApi.logout(),\n        {\n            // When mutate is called:\n            onMutate: async (v) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('user');\n                // Snapshot the previous value\n                const prevUser = queryClient.getQueryData('user');\n                // Optimistically update to the new value\n                queryClient.setQueryData('user', old => {\n                    return {\n                        discord: {\n                            name: \"\",\n                            discriminator: 0,\n                            avatar: \"\"\n                        },\n                        auth: {\n                            inGuild: false,\n                            isAdmin: false,\n                            isDeveloper: false,\n                            isOwner: false,\n                            signedIn: false\n                        }\n                    };\n                });\n                history.push('/');\n                // Return a context object with the snapshotted value\n                return { prevUser }\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('user')\n            },\n        }\n    );\n\n\n    if (!userError && !isLoading && user) {\n        if (user.auth.signedIn) {\n\n            const devOptionsContent = (\n                <>\n                    <span>Developer Options</span>\n                    <WrenchIcon />\n                </>\n            );\n\n            const addGroupContent = (\n                <>\n                    <span>Create Group</span>\n                    <AddIcon />\n                </>\n            );\n\n            if (user.auth.isDeveloper) {\n                devLink = <PageLink to=\"/dev/\" name=\"Developer Options\" content={devOptionsContent} />;\n            }\n\n            accountLink = [\n                ABSwitch(\"\", <PageLink key={0} to=\"/home/\" name=\"Home page\" />, \"homePage\"),\n                <PageLink key={1} to=\"/account/\" name=\"Account\" />,\n                <PageLink key={2} to=\"/group/new/\" name=\"Create Group\" content={addGroupContent} />\n            ];\n            logoutLink = <PageButton onClick={() => { logoutExecutor.mutate({}); }} name=\"Logout\" />;\n            groupLinks = [];\n            for (let i in user.permissions.isAdminOf) {\n                let group = user.permissions.isAdminOf[i];\n                groupLinks.push(<PageLink to={ \"/group/\" + group.id } name={group.groupName} key={i} />);\n            }\n                \n        }\n    }\n\n    \n\n    return (\n        <div className={styles.Sidebar}>\n            <TopSidebar />\n            <div style={{ display: \"flex\", flexGrow: 2, flexDirection: \"column\", overflowY: \"auto\", marginBottom: \"50px\" }}>\n                {accountLink}\n                {devLink}\n                <div className={styles.GroupLinks}>\n                    {groupLinks}\n                </div>\n                <PageButton href=\"https://discord.gametools.network/\" name=\"Need help?\" />\n                {logoutLink}\n                \n            </div>\n            <p style={{ paddingLeft: \"48px\", fontSize: \"12px\" }}>v{APP_VERSION} channel {(getChannel() === 0) ? \"A\" : \"B\"}</p>\n        </div>\n    );\n\n}","import React from \"react\";\nimport styles from \"./Status.module.css\";\n\n\nfunction LoadingIcon() {\n    return (\n        <svg viewBox=\"0 0 24 24\" className={styles.loadingIcon}>\n            <path fill=\"currentColor\" d=\"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z\" />\n        </svg>\n    );\n}\n\nfunction ErrorIcon(props) {\n    return (\n        <svg viewBox=\"0 0 24 24\" className={styles.errorIcon}>\n            <path fill=\"currentColor\" d=\"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z\" />\n        </svg>\n    );\n}\n\nexport function Status(props) {\n    const notEnabled = (props.status === undefined || props.status === null) ;\n    return (\n        <div className={notEnabled ? \"\" : styles.status}>\n            {(notEnabled) ?  \"\" : (props.status) ? <LoadingIcon /> : <ErrorIcon />}\n        </div>\n    );\n}","import React, { useState, useEffect } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Buttons.module.css\";\nimport { Status } from \"./Status\";\n\n\nexport function Button(props) {\n    var style = props.style || {};\n    if (props.background_color) {\n        style[\"background\"] = props.background_color\n    }\n    if (props.width) {\n        style[\"width\"] = props.width;\n    }\n    return (\n        <button value={props.value} className={styles.button} disabled={props.disabled} onClick={props.callback} title={props.name} style={style}>{props.name}<Status status={props.status} /></button>\n    );\n}\n\nexport function ButtonLink(props) {\n    if (props.disabled) {\n        return <Button name={props.name} disabled={true} />\n    }\n    return (\n        <NavLink style={props.style} className={styles.button} to={props.to} title={props.name}>{props.name}</NavLink>\n    );\n}\n\nexport function ButtonRow(props) {\n    return (\n        <div className={styles.buttonRow}>{props.children}</div>\n    );\n}\n\n\nexport function TextInput(props) {\n    if (props.value === undefined) {\n        return <input defaultValue={props.defaultValue} className={styles.TextInput} disabled={props.disabled} style={props.style} type={props.type || \"text\"} placeholder={props.name} onReset={props.callback} onChange={props.callback} />;\n    }\n    return <input value={props.value} defaultValue={props.defaultValue} className={styles.TextInput} disabled={props.disabled} style={props.style} type={props.type || \"text\"} placeholder={props.name} onReset={props.callback} onChange={props.callback} />;\n}\n\nexport function SmallButton(props) {\n    if (props.disabled) {\n        return (\n            \"\"\n        );\n    }\n    return (\n        <div className={styles.SmallButton} onClick={_ => props.callback(props.vars)} title={props.name}>{props.content || props.name}</div>\n    );\n}\n\nexport function Switch(props) {\n\n    const [checkedSwitch, clickSwitch] = useState(false);\n\n    const switchTheSwitch = () => {\n        var newVal = !checkedSwitch;\n        clickSwitch(newVal);\n        if (props.callback) props.callback(newVal);\n    };\n\n    useEffect(() => {\n        if (props.checked !== null) {\n            clickSwitch(props.checked);\n        }\n    }, [props.checked])\n\n    /*  If user uses tabs, make it clickable on Enter key */\n    const SwitchOnenter = (e) => {\n        if (e.charCode === 13) switchTheSwitch();\n    };\n\n    const switchClassName = checkedSwitch ? styles.SwitchActive : styles.Switch;\n\n    return (\n        <div className={styles.SwitchRow}>\n            <div className={switchClassName} onClick={switchTheSwitch} isChecked={checkedSwitch} onKeyPress={SwitchOnenter} role=\"switch\" tabIndex=\"1\">\n                <span className={styles.SwitchInner}>\n                    <span className={styles.SwitchOn}></span>\n                    <span className={styles.SwitchOff}></span>\n                </span>\n                <span className={styles.SwitchHandle}></span>\n            </div>\n            <span>{props.name}</span>\n        </div>\n    );\n}\n\nexport function DropdownButton(props) {\n    const [open, setOpen] = useState(false);\n\n    let container = React.useRef();\n\n    useEffect(() => {\n        let handleClickOutside = (event) => {\n            if (container.current && !container.current.contains(event.target)) {\n                setOpen(false)\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return function cleanup() {\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        }\n    })\n\n    return (\n        <div className={styles.container} ref={container}>\n            <button type=\"button\" className={styles.button} onClick={() => setOpen(!open)}>{props.name}</button>\n            {open && (<div className={styles.dropdown}>\n                <ul className={styles.ul}>\n                    {\n                        props.options.map(option => <li className={styles.li} onClick={option.callback}>{option.name}</li>)\n                    }\n                </ul>\n            </div>)}\n        </div>\n    );\n}\n\n\nexport function ChoosePageButtons(props) {\n\n    const [active, setActive] = useState(0);\n\n    return (\n        <div className={styles.ChoosePageButtonHolder} >\n            {\n                props.buttons.map((button, i) => (\n                    <div\n                        key={i}\n                        isChecked={i === active}\n                        role=\"switch\"\n                        className={(i === active) ? styles.ChoosePageButtonActive : styles.ChoosePageButton}\n                        onClick={_ => { setActive(i); button.callback() }}\n                        title={button.name}\n                        tabIndex=\"1\" \n                    >\n                        {button.content || button.name}\n                    </div>\n                ))\n            }\n        </div>\n    );\n    \n}\n\nfunction IconSelected(props) {\n    return (\n        <svg className={styles.iconSelect} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\" />\n        </svg>\n    );\n} \n\nfunction IconNotSelected(props) {\n    return (\n        <svg className={styles.iconSelect} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\" />\n        </svg>\n    );\n} \n\nexport function SelectableRow(props) {\n    const [selected, setSelcted] = React.useState(false);\n    const select = (p) => {\n        setSelcted(p);\n        props.callback(p);\n    }\n    return (\n        <div className={(selected) ? styles.selectableRowSelected : styles.selectableRow} onClick={() => select(!selected)}>\n            {\n                (selected) ? <IconSelected /> : <IconNotSelected />\n            }\n            {props.children}\n        </div>\n    );\n}\n","import React from \"react\";\n\nimport styles from \"./Flex.module.css\";\n\n\nexport function Column(props) {\n    return (\n        <div className={styles.Column}>{props.children}</div>\n    );\n}\n\nexport function Row(props) {\n    return (\n        <div className={styles.Row}>{props.children}</div>\n    );\n}\n\nexport function Grow(props) {\n    return (\n        <div className={styles.Grow}>{props.children}</div>\n    );\n}","import React from \"react\";\nimport styles from \"./Card.module.css\";\n\nimport { ChoosePageButtons } from \"./Buttons.js\";\n\nexport function Card(props) {\n    return (\n        <div className={styles.card} style={props.style}>\n            {props.children}\n        </div>\n    );\n}\n\nexport function CardRow(props) {\n    return <span className={styles.CardRow}>{props.children}</span>;\n}\n\nexport function PageCard(props) {\n    return (\n        <>\n            <ChoosePageButtons buttons={props.buttons} />\n            <div className={styles.PageCard} style={props.style}>\n                {props.children}\n             </div>\n        </>\n    );\n}\n\nexport function Tag(props) {\n    return (\n        <span className={styles.Tag}>\n            {props.children}\n        </span>\n    );\n}\n\n\n\nconst ModalControll = {\n    isShown: false,\n    children: \"\",\n    show: (e) => {},\n    close: (e) => {},\n}\n\nconst ModalContext = React.createContext(ModalControll);\n\nexport const useModal = () => React.useContext(ModalContext);\n\nfunction Modal(props) {\n\n    const controller = useModal();\n\n    return (\n        <div className={props.show ? styles.modal : styles.modalDisabled}>\n            <div className={styles.modalBackground} onClick={() => controller.close()}></div>\n            <div className={styles.modalContent}>{props.content}</div>\n        </div>\n    );\n}\n\nexport function ModalProvider(props) {\n\n    const [controllerState, setControllerState] = React.useState({\n        isShown: false,\n        children: \"\",\n    });\n\n    const showModal = (e) => {\n        setControllerState(s => ({\n            ...s,\n            isShown: true,\n            children: e,\n        }));\n    }\n\n    const closeModal = () => {\n        setControllerState(s => ({\n            ...s,\n            isShown: false,\n        }));\n    }\n\n    return (\n        <ModalContext.Provider value={{...controllerState, show: showModal, close: closeModal}}>\n            <Modal show={controllerState.isShown} content={controllerState.children} />\n            {props.children}\n        </ModalContext.Provider>\n    );\n}","import React from \"react\";\nimport styles from \"./Header.module.css\";\n\n\nexport function Header(props) {\n    return (\n        <div className={styles.Header}>\n            {props.children}\n        </div>\n    );\n}","import React from \"react\";\nimport styles from \"./User.module.css\";\nimport { SelectableRow } from \"./Buttons\";\n\nexport function UserRow(props) {\n    var user = props.discord;\n    return (\n        <div className={styles.UserRow}>\n            <img alt=\"\" src={user.avatar} className={styles.Avatar} />\n            <div className={styles.DiscordName}>\n                {user.name}\n                <span className={styles.DiscordNum}>\n                    {user.discriminator}\n                </span>\n            </div>\n            <div className={styles.secure}>\n                <svg viewBox=\"0 0 12 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M6 12C6.39782 12 6.77935 11.842 7.06066 11.5607C7.34196 11.2794 7.5 10.8978 7.5 10.5C7.5 9.6675 6.825 9 6 9C5.60217 9 5.22064 9.15804 4.93934 9.43934C4.65804 9.72065 4.5 10.1022 4.5 10.5C4.5 10.8978 4.65804 11.2794 4.93934 11.5607C5.22064 11.842 5.60217 12 6 12ZM10.5 5.25C10.8978 5.25 11.2794 5.40804 11.5607 5.68934C11.842 5.97065 12 6.35218 12 6.75V14.25C12 14.6478 11.842 15.0294 11.5607 15.3107C11.2794 15.592 10.8978 15.75 10.5 15.75H1.5C1.10218 15.75 0.720644 15.592 0.43934 15.3107C0.158035 15.0294 0 14.6478 0 14.25V6.75C0 5.9175 0.675 5.25 1.5 5.25H2.25V3.75C2.25 2.75544 2.64509 1.80161 3.34835 1.09835C4.05161 0.395088 5.00544 0 6 0C6.49246 0 6.98009 0.0969967 7.43506 0.285452C7.89003 0.473907 8.30343 0.75013 8.65165 1.09835C8.99987 1.44657 9.27609 1.85997 9.46455 2.31494C9.653 2.76991 9.75 3.25754 9.75 3.75V5.25H10.5ZM6 1.5C5.40326 1.5 4.83097 1.73705 4.40901 2.15901C3.98705 2.58097 3.75 3.15326 3.75 3.75V5.25H8.25V3.75C8.25 3.15326 8.01295 2.58097 7.59099 2.15901C7.16903 1.73705 6.59674 1.5 6 1.5Z\" fill=\"#55F165\" />\n                </svg>\n                Logged in\n            </div>\n        </div>\n    );\n}\n\nexport function UserStRow(props) {\n    var user = props.user;\n    var dateAdded = new Date(Date.parse(user.addedAt));\n\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n    var dateString = `${dateAdded.getDate()} ${months[dateAdded.getMonth()]} ${String(dateAdded.getHours()).padStart(2, '0')}:${String(dateAdded.getMinutes()).padStart(2, '0')}`;\n    return (\n        <SelectableRow callback={props.callback}>\n            <div className={styles.DiscordName}>\n                {user.name}\n            </div>\n            <div className={styles.DiscordId}>\n                {user.id}\n            </div>\n            <div className={styles.DateAdded}>\n                {dateString}\n            </div>\n        </SelectableRow>\n    );\n}\n\nexport function FakeUserStRow(props) {\n    return (\n        <div className={styles.UserRowSt} />\n    );\n}\n","import React, { useState } from \"react\";\nimport styles from \"./Group.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useQuery, useQueryClient, useMutation } from 'react-query';\nimport { OperationsApi } from \"../api\";\nimport { TextInput } from \"./Buttons\";\nimport { Tag } from \"./Card\";\n\nexport function GroupRow(props) {\n    var group = props.group;\n    return (\n        <Link className={styles.GroupRow} to={\"/group/\" + group.id}>\n            <span className={styles.GroupName}>{group.groupName}</span>\n            Manage group\n        </Link>\n    );\n}\n\nexport function ServerRow(props) {\n    var server = props.server;\n\n    // If not yet setteled\n    if (server.id === null) {\n        return (\n            <div className={styles.GroupRow}>\n                <span className={styles.GroupName}>\n                    {server.name}\n                    <span className={styles.serverBadgePending}>\n                        Pending status\n                    </span>\n                </span>\n                {props.button}\n            </div>\n        );\n    }\n\n    const serverStatus = (() => {\n        switch (server.status) {\n            case \"noServer\":\n                return (\n                    <span className={styles.serverBadgeErr}>\n                        Server not found\n                    </span>\n                )\n            case \"noAdmin\":\n                return (\n                    <span className={styles.serverBadgeErr}>\n                        No admin rights\n                    </span>\n                )\n            case \"pending\":\n                return (\n                    <span className={styles.serverBadgePending}>\n                        Pending status\n                    </span>\n                )\n            default:\n                return (\n                    <span className={styles.serverBadgeOk}>\n                        Running\n                    </span>\n                )    \n        }\n    })();\n\n    return (\n        <div className={styles.GroupRow}>\n            <Link className={styles.GroupName} to={\"/server/\" + server.id}>\n                {server.name}\n                {serverStatus}\n            </Link>\n            {props.button}\n        </div>\n    );\n}\n\nexport function GroupAdminAccount(props) {\n\n    var { remid, sid } = props.cookie;\n\n    return (\n        <div className={styles.AdminAccount}>\n        </div>\n    );\n\n}\n\nexport function GameStatsAd(props) {\n    return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" className={styles.gameStatsAd} href=\"https://discord.com/oauth2/authorize?client_id=714524944783900794&scope=bot&permissions=83968\">\n            <img src=\"./game-stats.png\" />\n            <span>Add Game Stats bot on your Discord server, in order to control BF1 servers with commands.</span>\n        </a>\n    );\n}\n\n\nexport function VBanList(props) {\n    const gid = props.gid;\n    const { isError, data: banList, error } = useQuery('globalBanList' + gid, () => OperationsApi.getAutoBanList({ gid }));\n\n    const queryClient = useQueryClient();\n\n    const [searchWord, setSearchWord] = useState(\"\");\n\n    const unbanVGlobalBan = useMutation(\n        variables => OperationsApi.globalUnbanPlayer(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, name }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('globalBanList' + gid)\n                // Snapshot the previous value\n                const previousBanList = queryClient.getQueryData('globalBanList' + gid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('globalBanList' + gid, old => {\n                    old.data= old.data.filter(player => player.playerName !== name);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousBanList, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('globalBanList' + context.gid, context.previousBanList)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('globalBanList' + context.gid)\n            },\n        }\n    );\n\n    if (!banList) {\n        // TODO: add fake item list on loading\n        return \"Loading..\";\n    }\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n\n    return (\n        <div>\n            <h5>\n                List of banned players on this group. Used <b>{banList.data.length} slots</b>. <Tag>Early beta</Tag>\n            </h5>\n            <TextInput name={\"Search..\"} callback={(v) => setSearchWord(v.target.value)} />\n            <div className={styles.BanListing}>\n                {\n                    banList.data.filter(p => p.playerName.includes(searchWord)).map(\n                        (player, i) => (<GlobalBanRow player={player} key={i} callback={() => unbanVGlobalBan.mutate({gid, name: player.playerName})}/>)\n                    )\n                }\n            </div>\n        </div>\n    );\n}\n\n\nfunction GlobalBanRow(props) {\n    const player = props.player;\n    return (\n        <div className={styles.BanRow}>\n            <span className={styles.BanDisplayName}>{player.playerName}</span>\n            <span className={styles.banReason}>{\n                ((player.reason === \"\") ? \"without any reason\" : \"with reason\")\n            }</span>\n            <span className={styles.banReasonDetailed}>{player.reason}</span>\n            <span className={styles.globalUnban} onClick={props.callback}>Unban</span>\n        </div>\n    );\n}\n\nexport function GroupLogs(props) {\n    const gid = props.gid;\n    const { isError, data: logList, error } = useQuery('groupogList' + gid, () => OperationsApi.getGroupLogs({ gid }));\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n\n    if (logList) {\n        logList.logs.sort((a, b) => (\n            Date.parse(b.timeStamp) - Date.parse(a.timeStamp)\n        ));\n    }\n\n\n    return (\n        <div>\n            <h5>Group log list</h5>\n            <div style={{ maxHeight: \"400px\", overflowY: \"auto\", marginTop: \"8px\" }}>\n                {\n                    (logList) ? logList.logs.map(\n                        (log, i) => (<LogRow log={log} key={i} />)\n                    ) : Array.from({ length: 8 }, (_, id) => ({ id })).map(\n                        (_, i) => (<EmptyLogRow key={i} />)\n                    )\n            }\n            </div>\n        </div>\n    );\n}\n\nfunction LogRow(props) {\n    const log = props.log;\n\n    const actionIcon = (() => {\n        switch (log.action) {\n            case \"editGroup\":\n                return \"\";\n            case \"addUser\":\n                return \"\";\n            case \"addOwner\":\n                return \"\"\n            case \"addGroup\":\n                return \"\";\n            case \"removeOwner\":\n                return \"\";\n            case \"removeUser\":\n                return \"\"\n            default:\n                return \"\";\n        }\n    })();\n\n    var datetime = new Date(log.timeStamp);\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    // Local time\n    datetime = `${datetime.getUTCDate()} ${months[datetime.getMonth()]} ${datetime.getFullYear()} ${datetime.getHours()}:${datetime.getMinutes()}`;\n\n    return (\n        <div className={styles.logRow}>\n            <span className={styles.logAdmin}>{log.adminName}</span>\n            <span className={styles.logReason}>{\n                log.reason\n            }</span>\n            <span className={styles.logTime}>{datetime}</span>\n        </div>\n    );\n}\n\nfunction EmptyLogRow() {\n    return (\n        <div className={styles.logRow}></div>\n    );\n}","import React from \"react\";\nimport styles from \"./MainPage.module.css\";\nimport { OperationsApi } from \"../api\";\n\nfunction ListItem(props) {\n    return (\n        <div className={styles.ListItem}>\n            <h2>{props.header}</h2>\n            <p>{props.children}</p>\n        </div>\n    );\n}\n\nfunction LoginButton() {\n    return (\n        <a className={styles.LoginButton} href={OperationsApi.constructApiUrl(\"login\")}>Log in</a>\n    );\n}\n\nexport function MainPageComponent(props) {\n    return (\n        <div className={styles.MainPage}>\n            <div className={styles.MainPageCard}>\n                <div className={styles.titleBlock}>\n                    <div className={styles.titleContent}>\n                        <h1>A new way to manage your Battlefield 1 servers</h1>\n                        <p>Server Manager is a new Gametools & BFBan service created by Community Network</p>\n                        <LoginButton />\n                    </div>\n                </div>\n                <div className={styles.listing}>\n                    <h2>Features</h2>\n                    <ListItem header=\"BFBan Anti Cheat\">Protect your servers against hackers confirmed on www.bfban.com</ListItem>\n                    <ListItem header=\"Unlimited Global V-Ban list\">Ban as many players as you want to on all your servers with virtal ban list.</ListItem>\n                    <ListItem header=\"High ping players kick\">Automaticaly kick players from your servers based on ping threshold.</ListItem>\n                    <ListItem header=\"Discord tools to maintain server\">Contoll your servers right in the Discord based on roles.</ListItem>\n                    <ListItem header=\"Server action logging\">See full logs on every actions made on your servers and groups.</ListItem>\n                    <ListItem header=\"Full controll over your servers\">Admins can controll server with same functions as in game.</ListItem>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React, { useState } from \"react\";\nimport styles from \"./Server.module.css\";\nimport { useQuery } from 'react-query';\nimport { Button, ButtonRow, DropdownButton, ButtonLink, TextInput } from \"./Buttons\";\nimport { OperationsApi } from \"../api\";\n\n\nexport function SmallText(props) {\n    return (<span className={styles.SmallText}>{props.children}</span>);\n}\n\nexport function EditableText(props) {\n    return (<p>{props.children}</p>);\n}\n\nexport function SettingsRow(props) {\n    return <div className={styles.SettingsRow}>{props.children}</div>;\n}\n\nexport function SmallIntInput(props) {\n    return <input type=\"text\" className={styles.SmallInput} defaultValue={props.value} />;\n}\n\nexport function ServerInfo(props) {\n    var server = props.server;\n    return (\n        <>\n        </>\n    );\n}\n\nexport function ServerRotation(props) {\n    \n    var server = null, game = null;\n    if (props.game && props.game.data && props.game.data.length > 0) {\n        server = props.game.data[0];\n        game = server.info;\n    }\n\n    var [rotationId, setRotationId] = useState(\"\"); \n    return (\n        <div className={styles.ServerInfoColumn}>\n            <div className={styles.ServerDescriptionRow}>\n                <img className={styles.serverImage} src={(game) ? game.url : \"/no-server-image.png\"} />\n                <div className={styles.GameInfo}>\n                    <span className={styles.ServerName}>{(game) ? game.prefix : \"Loading\" }</span>\n                    <SmallText>{(game) ? `${game.map} - ${game.mode} - ${game.serverInfo} [${game.inQue}] players` : \"-\"}</SmallText>\n                </div>\n            </div>\n            <div className={(server) ? (server.isAdmin) ? styles.serverStatusOk : styles.serverStatusErr : styles.serverStatus }>\n                <span>Status: {(server) ? (server.isAdmin) ? \"Managable\" : \"Permission denied\" : \"Pending..\"}</span>\n            </div>\n            <ButtonRow>\n                <Button name=\"Restart\" disabled={!game} callback={_ => props.rotate((game) ? game.rotationId : null)} />\n                <select className={styles.SwitchGame} value={rotationId} onChange={e => setRotationId(e.target.value)}>\n                    <option value=\"\">Switch game..</option>\n                    {(game) ? game.rotation.map((value, i) =>\n                        <option value={value.index} key={i}>{value.mapname}</option>\n                    ) : \"\"}\n                </select>\n                {(rotationId !== \"\") ? <Button name=\"Apply\" disabled={!game} callback={_ => { props.rotate((game) ? rotationId : null); setRotationId(\"\"); }} /> : \"\"}\n            </ButtonRow>\n        </div>\n    );\n}\n\nexport function PlayerInfo(props) {\n\n    var info = props.game.data[0].players[props.team].players;\n\n    var moveTeam = (props.team === \"0\") ? \"1\" : \"2\";\n\n    let getDropdownOptions = (player) => {\n        return [\n            { name: \"Give VIP\", callback: () => props.giveVip.mutate({ sid: props.sid, name: player.name, reason: \"\" }) },\n            { name: \"Remove VIP\", callback: () => props.removeVip.mutate({ sid: props.sid, name: player.name, reason: \"\" }) },\n        ]\n    };\n    return (\n        info.map((player, i) => \n            <div className={styles.PlayerRow} key={i}>\n                <span className={styles.PlayerIndex}>\n                    {i + 1}\n                </span>\n                <a href={`https://gametools.network/stats/pc/playerid/${player.playerId}?name=${player.name}`} target=\"_blank\" className={styles.PlayerName}>\n                    {player.platoon !== \"\" ? `[${player.platoon}] ` : \"\"}\n                    {player.name}\n                </a>\n                <span className={styles.PlayerPing}>\n                    {player.ping}\n                </span>\n                <span className={styles.PlayerNone} />\n                \n                <div className={styles.PlayerButtons}>\n                    {/*<Button name=\"Stats\"></Button>*/}\n                    <Button name=\"Move\" callback={_ => props.onMove.mutate({ sid: props.sid, name: player.name, team: moveTeam})} />\n                    <ButtonLink name=\"Kick\" to={`/server/${props.sid}/kick/${player.name}/`} />\n                    <ButtonLink name=\"Ban\" to={`/server/${props.sid}/ban/${player.name}/`} />\n                    <DropdownButton options={getDropdownOptions(player)} name=\"☰\"></DropdownButton>\n                </div>\n            </div>\n        )\n    );\n}\n\nexport function ServerInfoHolder(props) {\n    return (\n        <div className={styles.ServerInfoRow}>\n            {props.children}\n        </div>\n    );\n}\n\nexport function BanList(props) {\n    const sid = props.sid;\n    const { isError, data: banList, error } = useQuery('serverBanList' + sid, () => OperationsApi.getBanList({ sid }));\n\n    const [searchWord, setSearchWord] = useState(\"\");\n\n    if (!banList) {\n        // TODO: add fake item list on loading\n        return \"Loading..\";\n    }\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n\n    return (\n        <div>\n            <h5>\n                List of banned players on this server.<br />\n                Used <b>{banList.data.length} slots out of 200</b>.\n                Use our group-based virtual ban list,<br /> to ban unlimited amount of players.\n            </h5>\n            <TextInput name={\"Search..\"} callback={(v) => setSearchWord(v.target.value)} />\n            <div style={{ maxHeight: \"400px\", overflowY: \"auto\", marginTop: \"8px\" }}>\n                <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n                    <thead style={{ position: \"sticky\", top: \"0\" }}>\n                        <th>Player name</th>\n                        <th>Player id</th>\n                        <th>Reason</th>\n                        <th>Admin</th>\n                        <th>Until</th>\n                        <th>Timestamp</th>\n                    </thead>\n                    <tbody>\n                        {\n                            banList.data.filter(p => p.displayName.includes(searchWord)).map(\n                                (player, i) => (<BanRow player={player} key={i} />)\n                            )\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction BanRow(props) {\n    const player = props.player;\n    return (    \n        <tr className={styles.BanRow}>\n            <td className={styles.BanDisplayName}>{player.displayName}</td>\n            <td title=\"Player ID\">{player.id}</td>\n            <td>{player.reason}</td>\n            <td>{player.admin}</td>\n            <td>{player.banned_until}</td>\n            <td>{player.ban_timestamp}</td>\n        </tr>\n    );\n}\n\nexport function FireStarter(props) {\n    const sid = props.sid;\n    const { isError, data: starterList, error } = useQuery('serverStarterList' + sid, () => OperationsApi.getStarterList({ sid }));\n\n    const [searchWord, setSearchWord] = useState(\"\");\n\n    if (!starterList) {\n        // TODO: add fake item list on loading\n        return \"Loading..\";\n    }\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n\n    return (\n        <div>\n            <h5>\n                We measure when your server's preround ended and count all the players that are in the server when it starts,<br />\n                so you can check here who is helping you start your server.\n            </h5>\n            <TextInput name={\"Search..\"} callback={(v) => setSearchWord(v.target.value)} />\n            <div style={{ maxHeight: \"400px\", overflowY: \"auto\", marginTop: \"8px\" }}>\n                <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n                    <thead style={{ position: \"sticky\", top: \"0\" }}>\n                        <th>Player name</th>\n                        <th>Player id</th>\n                        <th>Amount</th>\n                    </thead>\n                    <tbody>\n                        {\n                            starterList.data.filter(p => p.playerName.includes(searchWord)).map(\n                                (player, i) => (<StarterRow player={player} key={i} />)\n                            )\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction StarterRow(props) {\n    const player = props.player;\n    return (    \n        <tr className={styles.BanRow}>\n            <td className={styles.BanDisplayName}>{player.platoon !== \"\"? `[${player.platoon}] `: null}{player.playerName}</td>\n            <td title=\"Player ID\">{player.playerId}</td>\n            <td>{player.amount}</td>\n        </tr>\n    );\n}\n\nexport function LogList(props) {\n    const sid = props.sid;\n    const { isError, data: logList, error } = useQuery('serverLogList' + sid, () => OperationsApi.getServerLogs({ sid }));\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n\n    if (logList) {\n        logList.logs.sort((a, b) => (\n            Date.parse(b.timeStamp) - Date.parse(a.timeStamp)\n        ));\n    }\n\n\n    return (\n        <div>\n            <h5>Log list</h5>\n            <div style={{ maxHeight: \"400px\", overflowY: \"auto\", marginTop: \"8px\" }}>\n                {\n                    (logList) ? logList.logs.map(\n                        (log, i) => (<LogRow log={log} key={i} />)\n                    ) : Array.from({ length: 8 }, (_, id) => ({ id })).map(\n                        (_, i) => (<EmptyLogRow key={i} />)\n                    )\n            }\n            </div>\n        </div>\n    );\n}\n\nfunction LogRow(props) {\n    const log = props.log;\n    const action = (() => {\n        switch (log.action) {\n            case \"addServerBan\":\n                return \"banned\";\n            case \"kickPlayer\":\n                return \"kicked\";\n            case \"removeServerBan\":\n                return \"unbanned\"\n            case \"addServerVip\":\n                return \"gave vip to\";\n            case \"movePlayer\":\n                return \"moved\";\n            case \"removeServerVip\":\n                return \"removed vip of\"\n            default:\n                return \"did magic to\";\n        }\n    })();\n\n    var datetime = new Date(log.timeStamp);\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    // Local time\n    datetime = `${datetime.getUTCDate()} ${months[datetime.getMonth()]} ${datetime.getFullYear()} ${datetime.getHours()}:${datetime.getMinutes()}`;\n\n    if (log.action === \"autokick-ping\") {\n        return (\n            <div className={styles.logRow}>\n                <svg className={styles.logIcon} viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M19.5,5.5V18.5H17.5V5.5H19.5M12.5,10.5V18.5H10.5V10.5H12.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z\" />\n                </svg>\n                <span className={styles.logAdmin}>Ping checker</span>\n                <span className={styles.logAction}>kicked</span>\n                <span className={styles.logPlayer}>{log.toPlayer}</span>\n                <span className={styles.logAction}>{log.reason}</span>\n                <span className={styles.logReasonDetailed}></span>\n                <span className={styles.logTime}>{datetime}</span>\n            </div>\n        );\n    }\n\n    if (log.action === \"autokick-globalBans\") {\n        return (\n            <div className={styles.logRow}>\n                <svg className={styles.logIcon} viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\" />\n                </svg>\n                <span className={styles.logAdmin}>VBan</span>\n                <span className={styles.logAction}>kicked</span>\n                <span className={styles.logPlayer}>{log.toPlayer}</span>\n                <span className={styles.logReason}>with reason</span>\n                <span className={styles.logReasonDetailed}>{log.reason}</span>\n                <span className={styles.logTime}>{datetime}</span>\n            </div>\n        );\n    }\n\n    if (log.action === \"autokick-bfban\") {\n        return (\n            <div className={styles.logRow}>\n                <svg className={styles.logIcon} viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\" />\n                </svg>\n                <span className={styles.logAdmin}>BFBAN</span>\n                <span className={styles.logAction}>kicked</span>\n                <span className={styles.logPlayer}>{log.toPlayer}</span>\n                <span className={styles.logReason}>with reason</span>\n                <span className={styles.logReasonDetailed}>{log.reason}</span>\n                <span className={styles.logTime}>{datetime}</span>\n            </div>\n        );\n    }\n\n    if (action === \"moved\" && log.toPlayer === \"server\") {\n        return (\n            <div className={styles.logRow}>\n                <svg className={styles.logIcon} viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z\" />                </svg>\n                <span className={styles.logAdmin}>{log.adminName}</span>\n                <span className={styles.logAction}>{log.reason}</span>\n                <span className={styles.logReasonDetailed}></span>\n                <span className={styles.logTime}>{datetime}</span>\n            </div>\n        );\n    }\n    return (\n        <div className={styles.logRow}>\n            <svg className={styles.logIcon} viewBox=\"0 0 24 24\">\n                <path fill=\"currentColor\" d=\"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z\" />\n            </svg>\n            <span className={styles.logAdmin}>{log.adminName}</span>\n            <span className={styles.logAction}>{action}</span>\n            <span className={styles.logPlayer}>{log.toPlayer}</span>\n            <span className={styles.logReason}>{\n                ((log.reason === \"\") ? \"without any reason\" : \"with reason\")\n            }</span>\n            <span className={styles.logReasonDetailed}>{log.reason}</span>\n            <span className={styles.logTime}>{datetime}</span>\n        </div>\n    );\n}\n\n\nfunction EmptyLogRow() {\n    return (\n        <div className={styles.logRow}></div>\n    );\n}\n\nexport function VipList(props) {\n    const sid = props.sid;\n    const { isError, data: vipList, error } = useQuery('serverVipList' + sid, () => OperationsApi.getVipList({ sid }));\n\n    const [searchWord, setSearchWord] = useState(\"\");\n\n\n    if (!vipList) {\n        // TODO: add fake item list on loading\n        return \"Loading..\";\n    }\n\n    if (isError) {\n        return `Error ${error.code}: {error.message}`\n    }\n    \n\n    return (\n        <div>\n            <div className={styles.VipHeader}>\n                <TextInput name={\"Search..\"} callback={(v) => setSearchWord(v.target.value)} />\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                    <h5 style={{ marginBottom: 0 }}>\n                        List of VIP players on this server.<br />\n                        Used <b>{vipList.data.length} slots out of 50</b>.\n                    </h5>\n                </div>\n            </div>\n            <div style={{ maxHeight: \"400px\", overflowY: \"auto\", marginTop: \"8px\" }}>\n                <table style={{ borderCollapse: \"collapse\", width: \"100%\" }}>\n                    <thead style={{ position: \"sticky\", top: \"0\" }}>\n                        <tr>\n                            <th>Player name</th>\n                            <th>Player id</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            vipList.data.filter(p => p.displayName.includes(searchWord)).map(\n                                (player, i) => (<VipRow player={player} key={i} />)\n                            )\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}\n\nfunction VipRow(props) {\n    const player = props.player;\n    return (\n        <tr className={styles.VipRow}>\n            <td title={player.displayName} className={styles.VipName}>\n                <div className={styles.VipRowImg}><img src={player.avatar} alt=\"\" /></div>\n                <span>{player.displayName}</span>\n            </td>\n            <td title=\"Player ID\">{player.id}</td>\n        </tr>\n    );\n}","import React from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Column, Card, Header, CardRow, UserRow, Row } from \"../components\";\n\nexport default function Account() {\n\n    const { error: userError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n    var userLine = \"\";\n\n    if (!userError && !isLoading && user) {\n        if (!user.auth.signedIn) {\n            return <Redirect to=\"/\" />;\n        } else {\n            userLine = <UserRow discord={user.discord} />;\n        }\n    } else if (userError && !isLoading) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Account</h2>\n                </Header>\n                <Card>\n                    <h2>Discord Profile</h2>\n                    {userLine}\n                </Card>\n            </Column>\n            <Column>\n                <Header />\n                <Card>\n                    <h2>Permissions</h2>\n                    <CardRow>Administrator</CardRow>\n                    <CardRow>Server owner</CardRow>\n                    <CardRow>System administrator</CardRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}","import React from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Column, Card, Header, ButtonLink, ButtonRow, GroupRow, Row } from \"../components\";\n\n\nexport function Developer() {\n\n    const { isLoading, isError, data } = useQuery('devGroups', () => OperationsApi.getDevGroups())\n    \n    var groups = [];\n\n    if (!isLoading && !isError && data) {\n        data.data.map((g, i) => {\n            groups.push(<GroupRow key={i} group={g} />);\n        });\n    } else if (isError) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Developer Options</h2>\n                </Header>\n                <Card>\n                    <h2>List of Groups</h2>\n                    {groups}\n                    <ButtonRow>\n                        <ButtonLink name=\"Add new Group\" to=\"/group/new/\" />\n                    </ButtonRow>\n                </Card>\n            </Column>\n            <Column>\n\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState, useEffect } from \"react\";\nimport { useQuery, useQueryClient, useMutation } from 'react-query';\nimport { useHistory } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { Switch, BanList, Column, Card, Header, ServerRotation, ServerInfoHolder, ButtonLink, ButtonRow, Button, PageCard, Row, VipList, LogList, TextInput, PlayerInfo, FireStarter } from \"../components\";\n\n\nexport function Server(props) {\n    var sid = props.match.params.sid;\n\n    const queryClient = useQueryClient();\n\n    const { isError: serverError, data: server } = useQuery('server' + sid, () => OperationsApi.getServer(sid));\n    const { isError: gameError, data: runningGame } = useQuery('serverGame' + sid, () => OperationsApi.getServerGame(sid));\n\n    var serverCard = \"\";\n    var playerList = \"\";\n    var playerInGame = false;\n    var playerNicknameTeam;\n\n    var [playerName, setPlayerName] = useState(\"\");\n\n    var [addVipStatus, changeAddVipStatus] = useState({ name: \"Add Vip\", status: false });\n    var [removeVipStatus, changeRemoveVipStatus] = useState({ name: \"Remove Vip\", status: false });\n    var [unbanStatus, changeUnbanStatus] = useState({ name: \"Unban\", status: false });\n    \n    var [tabsListing, setTabsListing] = useState(\"info\");\n\n    const UnbanPlayer = useMutation(\n        v => OperationsApi.unbanPlayer(v), {\n        onMutate: async () => {\n            changeUnbanStatus({ name: \"Pending..\", status: true });\n            return { status: unbanStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeUnbanStatus(context.status);\n        },\n    }\n    );\n\n    const RemoveVip = useMutation(\n        v => OperationsApi.removeVip(v), {\n        onMutate: async () => {\n            changeRemoveVipStatus({ name: \"Pending..\", status: true });\n            return { status: removeVipStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeRemoveVipStatus(context.status);\n        },\n    }\n    );\n\n    const AddVip = useMutation(\n        v => OperationsApi.addVip(v), {\n        onMutate: async () => {\n            changeAddVipStatus({ name: \"Pending..\", status: true });\n            return { status: addVipStatus }\n        },\n        // If the mutation fails, use the context returned from onMutate to roll back\n        onError: (err, newTodo, context) => {\n\n        },\n        // Always refetch after error or success:\n        onSettled: (data, error, variables, context) => {\n            changeAddVipStatus(context.status);\n        },\n    }\n    );\n\n    const movePlayer = useMutation(\n        variables => OperationsApi.movePlayer(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ sid, team, name }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('serverGame' + sid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('serverGame' + sid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('serverGame' + sid, old => {\n                    if (team === \"1\") {\n                        old.data[0].players[1].players.push(old.data[0].players[0].players.find(e => e.name === name));\n                        old.data[0].players[0].players = old.data[0].players[0].players.filter(p => p.name !== name);\n                    } else {\n                        old.data[0].players[0].players.push(old.data[0].players[1].players.find(e => e.name === name));\n                        old.data[0].players[1].players = old.data[0].players[1].players.filter(p => p.name !== name);\n                    }\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, sid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('serverGame' + context.sid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                //queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const serverTabs = [\n        {\n            name: \"Current game\",\n            callback: () => setTabsListing(\"info\"),\n        },\n        {\n            name: \"Ban list\",\n            callback: () => setTabsListing(\"banlist\"),\n        },\n        {\n            name: \"Vip players\",\n            callback: () => setTabsListing(\"viplist\"),\n        },\n        {\n            name: \"Firestarter list\",\n            callback: () => setTabsListing(\"firestarter\"),\n        },\n        {\n            name: \"Logs\",\n            callback: () => setTabsListing(\"loglist\"),\n        },\n        {\n            name: \"Server Protection\",\n            callback: () => setTabsListing(\"protection\"),\n        },\n        {\n            name: \"Settings\",\n            callback: () => setTabsListing(\"settings\"),\n        }\n    ];\n\n    const catTabs = {\n        info: (\n            <ServerInfoHolder>\n                <ServerRotation game={runningGame} rotate={id => OperationsApi.changeRotation({ sid, map: id })} />\n            </ServerInfoHolder>\n        ),\n        banlist: <BanList sid={sid} />,\n        viplist: <VipList sid={sid} />,\n        firestarter: <FireStarter sid={sid} />,\n        loglist: <LogList sid={sid} />,\n        protection: (\n            <>\n                <ServerAutomation server={server} sid={sid} />\n            </>\n        ),\n        settings: ( \n            <>\n                <ServerSettings server={server} sid={sid} />\n            </>\n        )\n    }\n\n    //if (!serverError && server && !gameError && runningGame) {\n    serverCard = (\n        <Row>\n            <Column>\n                <PageCard buttons={serverTabs} >\n                    {catTabs[tabsListing]}\n                </PageCard>\n            </Column>\n        </Row>\n    );\n    //}\n\n    var isOpsMode = false;\n\n    if (!gameError && runningGame && !(\"error\" in runningGame.data[0].players[0])) {\n\n        isOpsMode = runningGame.data[0].info.mode === \"Operations\";\n\n        var f1 = runningGame.data[0].players[0].players.find(e => e.name === playerName);\n        var f2 = runningGame.data[0].players[1].players.find(e => e.name === playerName);\n\n        if (f1 !== undefined) {\n            playerNicknameTeam = \"1\";\n        } else if(f2 !== undefined) {\n            playerNicknameTeam = \"2\";\n        }\n\n        var playerInGame = (playerName !== \"\") &&\n            (\n                (f1 !== undefined) || (f2 !== undefined)\n            );\n\n        playerList = (\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Team 1</h2>\n                        <PlayerInfo game={runningGame} team=\"0\" sid={sid} onMove={movePlayer} giveVip={AddVip} removeVip={RemoveVip} /> \n                    </Card>\n                </Column>\n                <Column>\n                    <Card>\n                        <h2>Team 2</h2>\n                        <PlayerInfo game={runningGame} team=\"1\" sid={sid} onMove={movePlayer} giveVip={AddVip} removeVip={RemoveVip} /> \n                    </Card>\n                </Column>\n            </Row>\n        )\n    }\n\n    return (\n        <>\n            <Row>\n                <Column>\n                    <Header>\n                        <h2>Server panel</h2>\n                    </Header>\n                </Column>\n            </Row>\n            {serverCard}\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Console</h2>\n                        <Row>\n                            <TextInput name=\"Player name\" callback={e => setPlayerName(e.target.value)} style={{\n                                marginRight: 12,\n                            }}/>\n                            <ButtonRow>\n                                <ButtonLink disabled={playerName === \"\"} name=\"Kick\" to={`/server/${sid}/kick/${playerName}/`} />\n                                <Button disabled={!playerInGame} name=\"Move\" callback={_ => movePlayer.mutate({ sid, team: playerNicknameTeam, name: playerName })} />\n                                <ButtonLink disabled={playerName === \"\"} name=\"Ban\" to={`/server/${sid}/ban/${playerName}/`} />\n                                <Button disabled={playerName === \"\" || unbanStatus.status} name={unbanStatus.name} callback={_ => UnbanPlayer.mutate({ sid, name: playerName, reason: \"\" })} />\n                                <Button disabled={playerName === \"\" || addVipStatus.status || isOpsMode} name={addVipStatus.name} callback={_ => AddVip.mutate({ sid, name: playerName, reason: \"\" })}  />\n                                <Button disabled={playerName === \"\" || removeVipStatus.status || isOpsMode} name={removeVipStatus.name} callback={_ => RemoveVip.mutate({ sid, name: playerName, reason: \"\" })}  />\n                            </ButtonRow>\n                        </Row>\n                    </Card>\n                </Column>\n            </Row>\n            {playerList}\n        </>\n    );\n\n}\n\nfunction ServerAutomation(props) {\n\n    var allowedTo = false;\n    if (props.server) allowedTo = true;\n\n    const queryClient = useQueryClient();\n\n    const [kickOnPingDisabled, setKickOnPingDisabled] = useState(false);\n    const [serverState, setServerState] = useState(null);\n    const [canApply, setCanApply] = useState(false);\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n\n        if (props.server) {\n            const { autoBanKick, autoBfbanKick, autoGlobalBanMessage, autoPingKick, autoPingKickMessage } = props.server;\n            const originalServerState = { autoBanKick, autoBfbanKick, autoGlobalBanMessage, autoPingKick, autoPingKickMessage };\n            if (serverState === null) {\n                setServerState(originalServerState);\n                setKickOnPingDisabled(autoPingKick !== 0);\n            } else {\n                let newCanApply = false;\n                for (var i in originalServerState) {\n                    newCanApply |= serverState[i] !== originalServerState[i];\n                }\n                if (serverState.autoPingKick === 0) setKickOnPingDisabled(false);\n                setCanApply(newCanApply);\n            }\n           \n        }\n        \n\n    }, [props.server, serverState]);\n\n    const changeSrerverState = (v) => {\n        setServerState(s => ({ ...s, ...v }));\n    }\n\n    const editServerSettings = useMutation(\n        variables => OperationsApi.editServer({ value: variables, sid: props.sid }),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('server' + props.sid);\n            }\n        }\n    );\n\n    const getServerValue = (key) => {\n        if (props.server && key in props.server) {\n            return props.server[key]\n        }\n        return \"\";\n    };\n\n    return (\n        <>\n            <h2 style={{ marginLeft: \"20px\" }}>Auto server protection</h2>\n            <h5 style={{ marginTop: \"8px\" }}>\n                Introducing new tools developed to protect your servers against hackers.<br />\n                Global Virtual Ban list auto-kicks players on <b>all group servers</b> providing<br />\n                infinity amount of ban slots and synchronized ban list.\n            </h5>\n            <Switch checked={getServerValue(\"autoBanKick\")} name=\"Enable Global V-Ban\" callback={(v) => changeSrerverState({ autoBanKick: v })}/>\n            <h5 style={{ marginTop: \"8px\" }}>This msg appear to users who got <br />auto-kicked by V-Ban Global system.</h5>\n            \n            <TextInput\n                disabled={!allowedTo || (serverState && !serverState.autoBanKick)}\n                callback={(e) => changeSrerverState({ autoGlobalBanMessage: e.target.value })}\n                defaultValue={getServerValue(\"autoGlobalBanMessage\")}\n                name={\"V-Ban message\"}\n            />\n            <h5 style={{ marginTop: \"30px\" }}>Protect server agains known cheaters in <i>bfban.com</i></h5>\n            <Switch checked={getServerValue(\"autoBfbanKick\")} name=\"Enable BFBan Anti Cheat\" callback={(v) => changeSrerverState({ autoBfbanKick: v })} />\n            <h5 style={{ marginTop: \"30px\" }}>Auto kick players with constant high ping</h5>\n            <Switch checked={kickOnPingDisabled} name=\"Kick on high ping\" callback={(v) => { setKickOnPingDisabled(v); (!v) ?changeSrerverState({ autoPingKick: 0 }) : changeSrerverState({ autoPingKick: 200 })  }} />\n            <TextInput\n                type=\"number\"\n                disabled={!allowedTo || !kickOnPingDisabled}\n                callback={\n                    (e) => {\n                        console.log(e.target.value);\n                        if (e.target.value < 0) {} else {\n                            if (e.target.value !== \"\") changeSrerverState({ autoPingKick: parseInt(e.target.value) })\n                        }\n                    }\n                }\n                value={(serverState) ? serverState.autoPingKick : \"\" }\n                name={\"High ping value\"}\n            />\n            <TextInput\n                disabled={!allowedTo || !kickOnPingDisabled}\n                callback={(e) => changeSrerverState({ autoPingKickMessage: e.target.value })}\n                defaultValue={getServerValue(\"autoPingKickMessage\")}\n                name={\"Auto ping msg\"}\n            />\n            <h5 style={{ marginTop: \"8px\" }}>Mimimum amount of players for autokick to start working (0 for always)</h5>\n            <TextInput\n                type=\"number\"\n                disabled={!allowedTo || !kickOnPingDisabled}\n                callback={\n                    (e) => {\n                        console.log(e.target.value);\n                        if (e.target.value < 0) {} else {\n                            if (e.target.value !== \"\") changeSrerverState({ minAutoPingKick: parseInt(e.target.value) })\n                        }\n                    }\n                }\n                value={(serverState) ? serverState.minAutoPingKick : \"\" }\n                name={\"Minimum amount of players\"}\n            />\n            {\n                (props.server && canApply) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply changes\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editServerSettings.mutate(\n                                serverState\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ) : \"\"\n            }\n        </>\n    );\n}\n\nfunction ServerSettings(props) {\n\n    var allowedTo = false;\n    if (props.server) allowedTo = true;\n\n    const queryClient = useQueryClient();\n\n    const [serverState, setServerState] = useState(null);\n    const [canApply, setCanApply] = useState(false);\n    const [applyStatus, setApplyStatus] = useState(null);\n    const [errorUpdating, setError] = useState({ code: 0, message: \"Unknown\" });\n\n    useEffect(() => {\n        if (props.server) {\n            const { serverName, serverAlias } = props.server;\n            const originalServerState = { serverName, serverAlias };\n            if (serverState === null) {\n                setServerState(originalServerState);\n            } else {\n                let newCanApply = false;\n                for (var i in originalServerState) {\n                    newCanApply |= serverState[i] !== originalServerState[i];\n                }\n                setCanApply(newCanApply);\n            }\n\n        }\n    }, [props.server, serverState]);\n\n    const changeSrerverState = (v) => {\n        setServerState(s => ({ ...s, ...v }));\n    }\n\n    const editServerSettings = useMutation(\n        variables => OperationsApi.editServer({ value: variables, sid: props.sid }),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async (error) => {\n                setApplyStatus(false);\n                setError(error);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('server' + props.sid);\n            }\n        }\n    );\n\n    const getServerValue = (key) => {\n        if (props.server && key in props.server) {\n            return props.server[key]\n        }\n        return \"\";\n    };\n\n    return (\n        <>\n            <h2 style={{ marginLeft: \"20px\" }}>Server settings</h2>\n\n            <h5 style={{ marginTop: \"8px\" }}>Change Server Name</h5>\n\n            <TextInput\n                disabled={!allowedTo}\n                callback={(e) => changeSrerverState({ serverName: e.target.value })}\n                defaultValue={getServerValue(\"serverName\")}\n                name={\"Server Name\"}\n            />\n\n            <h5 style={{ marginTop: \"8px\" }}>Alias to use with a Discord bot. (Can be a server number, for example)</h5>\n\n            <TextInput\n                disabled={!allowedTo}\n                callback={(e) => changeSrerverState({ serverAlias: e.target.value })}\n                defaultValue={getServerValue(\"serverAlias\")}\n                name={\"Alias\"}\n            />\n            {\n                (props.server && canApply) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply changes\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editServerSettings.mutate(\n                                serverState\n                            )\n                        } status={applyStatus} />\n                        <h5 style={{ marginBottom: 0, alignSelf: \"center\", opacity: (applyStatus === false) ? 1 : 0 }}>Error {errorUpdating.code}: {errorUpdating.message}</h5>\n                    </ButtonRow>\n                ) : \"\"\n            }\n        </>\n    );\n}\n\n\nfunction ServerKickPlayer(props) {\n\n    var { sid, eaid } = props;\n\n    var [reason, setReason] = useState(\"\");\n    const queryClient = useQueryClient();\n\n    const KickPlayer = useMutation(\n        v => OperationsApi.kickPlayer(v),\n        {\n            // When mutate is called:\n            onMutate: async ({ sid, eaid, reason }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('serverGame' + sid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('serverGame' + sid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('serverGame' + sid, old => {\n                    old.data[0].players[0].players = old.data[0].players[0].players.filter(e => e.name !== eaid);\n                    old.data[0].players[1].players = old.data[0].players[1].players.filter(e => e.name !== eaid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, sid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('serverGame' + context.sid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                //queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Kick player</h2>\n                </Header>\n                <Card>\n                    <h2>You are going to kick player {props.eaid}</h2>\n                    <TextInput name=\"Reason\" callback={(e) => setReason(e.target.value)} />\n                    <ButtonRow>\n                        <ButtonLink name=\"Go back\" to={`/server/${props.sid}/`} />\n                        <Button name=\"Kick him!\" disabled={reason === \"\"} callback={() => { KickPlayer.mutate({ sid, eaid, reason, playername: props.eaid }); history.push(`/server/${props.sid}/`); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nfunction ServerBanPlayer(props) {\n\n    var { sid, eaid } = props;\n\n    const history = useHistory();\n    const [reason, setReason] = useState(\"\");\n    const [banTime, setBanTime] = useState(0);\n    const [globalVsClassicBan, setGlobalVsClassicBan] = useState(false);\n\n    var [banApplyStatus, setBanApplyStatus] = useState(null);\n    const [errorUpdating, setError] = useState({ code: 0, message: \"Unknown\" });\n\n    const { isError: userGettingError, data: user } = useQuery('user', () => OperationsApi.user);\n\n    const BanPlayer = useMutation(\n        v => OperationsApi.banPlayer(v),\n        {\n            onMutate: async () => {\n                setBanApplyStatus(true)\n            },\n            onError: (error) => {\n                setBanApplyStatus(false);\n                setError(error);\n                setTimeout(_ => setBanApplyStatus(null), 3000);\n            },\n            onSuccess: () => {\n                setBanApplyStatus(null);\n                history.push(`/server/${ props.sid } /`);\n            },\n        }\n    );\n\n    const GlobalBanPlayer = useMutation(\n        v => OperationsApi.globalBanPlayer(v),\n        {\n            onMutate: async () => {\n                setBanApplyStatus(true)\n            },\n            onError: (error) => {\n                setBanApplyStatus(false);\n                setError(error);\n                setTimeout(_ => setBanApplyStatus(null), 3000);\n            },\n            onSuccess: () => {\n                setBanApplyStatus(null);\n\n            },\n        }\n    );\n\n    var gid = null;\n\n    if (user) {\n        user.permissions.isAdminOf.map(\n            group => {\n                for (let someSid of group.servers) {\n                    if (someSid === sid) {\n                        gid = group.id;\n                    }\n                }\n            }\n        )\n    }\n\n    const isDisabled =\n        reason === \"\" ||\n        banTime < 0 ||\n        banApplyStatus !== null ||\n        userGettingError || !user || gid == null;\n\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Ban player</h2>\n                </Header>\n                <Card>\n                    <h2 style={{ marginLeft: \"20px\" }}>You are going to ban player {props.eaid}</h2>\n                    <h5>Enter a reason to ban this player.</h5>\n                    <TextInput name=\"Reason\" callback={(e) => setReason(e.target.value)} />\n                    <Switch value={globalVsClassicBan} name=\"Use Virtual Ban instead of classic ban list\" callback={ (v) => setGlobalVsClassicBan(v) } />\n                    <h5>If you want to temporary ban him, specify time in<br /> hours below, or leave it 0 to make permament ban.<br />Not supported yet by V-Ban.</h5>\n                    <TextInput type=\"number\" name=\"Ban time\" defaultValue={0} callback={(e) => setBanTime(e.target.value)} disabled={globalVsClassicBan} />\n                    <ButtonRow>\n                        <ButtonLink name=\"Go back\" to={`/server/${props.sid}/`} style={{maxWidth: \"143px\"}} />\n                        <Button\n                            name=\"Ban!\"\n                            style={{ maxWidth: \"144px\" }}\n                            disabled={isDisabled}\n                            callback={() => {\n                                if (globalVsClassicBan) {\n                                    GlobalBanPlayer.mutate({ gid, reason, name: props.eaid });\n                                } else {\n                                    BanPlayer.mutate({ sid, eaid, reason, name: props.eaid, time: banTime });\n                                }\n                            }}\n                            status={banApplyStatus} />\n                        <h5 style={{ marginBottom: 0, alignSelf: \"center\", opacity: (banApplyStatus === false) ? 1 : 0 }}>Error {errorUpdating.code}: {errorUpdating.message}</h5>\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function ServerAction(props) {\n\n    var { eaid, action, sid } = props.match.params;\n\n    if (action === \"kick\") {\n        return <ServerKickPlayer eaid={eaid} sid={sid} />;\n    } else if (action === \"ban\") {\n        return <ServerBanPlayer eaid={eaid} sid={sid} />;\n    }\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Uh? Method {action} is not allowed..</h2>\n                </Header>\n            </Column>\n        </Row>\n    );\n\n}","import React, { useState, useEffect } from \"react\";\nimport { useQuery, useQueryClient, useMutation } from 'react-query';\nimport { Redirect, useHistory } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\nimport { useModal, GroupLogs, VBanList, GameStatsAd, Column, Card, Header, ButtonLink, ButtonRow, Button, UserStRow, Row, ServerRow, FakeUserStRow, TextInput, SmallButton, PageCard } from \"../components\";\n\n\nconst deleteIcon = (\n    <svg viewBox=\"0 0 24 24\" style={{ width: '16px' }}>\n        <path fill=\"currentColor\" d=\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" />\n    </svg>\n);\n\n\nexport function Group(props) {\n\n    var gid = props.match.params.gid;\n\n    const queryClient = useQueryClient();\n\n    const { error: groupError, data: groups } = useQuery('groupId' + gid, () => OperationsApi.getGroup(gid), { staleTime: 30000 });\n    const { error: userError, data: user } = useQuery('user', () => OperationsApi.user);\n\n\n    const removeAdmin = useMutation(\n        variables => OperationsApi.removeGroupAdmin(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].admins = old.data[0].admins.filter(admin => admin.id !== uid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const removeServer = useMutation(\n        variables => OperationsApi.removeServer(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, sid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].servers = old.data[0].servers.filter(server => server.id !== sid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n\n\n    const removeOwner = useMutation(\n        variables => OperationsApi.removeGroupOwner(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].owners = old.data[0].owners.filter(admin => admin.id !== uid);\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n\n    var group = (groups && groups.data && groups.data.length > 0) ? groups.data[0] : null;\n    const [listing, setListing] = useState(\"servers\");\n    const [settingsListing, setSettingsListing] = useState(\"account\");\n\n    const catListing = {\n        owners: <GroupOwners group={group} user={user} gid={gid} onDelete={removeOwner} />,\n        admins: <GroupAdmins group={group} user={user} gid={gid} onDelete={removeAdmin} />,\n        servers: <GroupServers group={group} user={user} gid={gid} onDelete={removeServer} />,\n        vbanlist: <VBanList user={user} gid={gid} />,\n        grouplogs: <GroupLogs gid={gid} />,\n    }\n\n\n    const catSettings = {\n        account: <GroupServerAccount gid={gid} user={user} group={group} />,\n        discord: <GroupDiscordSettings gid={gid} user={user} group={group} />,\n        danger: <GroupDangerZone gid={gid} user={user} group={group} />,\n    }\n\n    const pageCycle = [\n        {\n            name: \"Servers\",\n            callback: () => setListing(\"servers\"),\n        },\n        {\n            name: \"Admins\",\n            callback: () => setListing(\"admins\"),\n        },\n        {\n            name: \"Owners\",\n            callback: () => setListing(\"owners\"),\n        },\n        {\n            name: \"VBan list\",\n            callback: () => setListing(\"vbanlist\"),\n        },\n        {\n            name: \"Group logs\",\n            callback: () => setListing(\"grouplogs\"),\n        }\n    ]\n\n    const settingsCycle = [\n        {\n            name: \"Server account\",\n            callback: () => setSettingsListing(\"account\"),\n        },\n        {\n            name: \"Discord integration\",\n            callback: () => setSettingsListing(\"discord\"),\n        },\n        {\n            name: \"Danger zone\",\n            callback: () => setSettingsListing(\"danger\"),\n        },\n    ];\n\n    if (groupError || userError || (groups && groups.data && groups.data.length === 0)) {\n        return <Redirect to=\"/\" />;\n    }\n\n    return (\n        <>\n            <Row>\n                <Column>\n                    <Header>\n                        <h2>Group</h2>\n                    </Header>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <Card>\n                        <h2>Group name - {(group) ? group.groupName : \"pending..\"}</h2>\n                        <p style={{ marginBottom: 0 }}>Identity {gid}</p>\n                    </Card>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <PageCard buttons={settingsCycle} >\n                        {catSettings[settingsListing]}\n                    </PageCard>\n                </Column>\n            </Row>\n            <Row>\n                <Column>\n                    <PageCard buttons={pageCycle} >\n                        {catListing[listing]}\n                    </PageCard>\n                 </Column>\n            </Row>\n        </>\n    );\n\n\n}\n\nfunction GroupAdmins(props) {\n\n    const modal = useModal();\n\n    var hasRights = false;\n    const [selected, setSelected] = useState([]);\n\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    let adminList;\n    if (props.group) {\n        adminList = [...props.group.admins];\n        adminList.sort((a, b) => Date.parse(b.addedAt) - Date.parse(a.addedAt));\n    }\n\n    const isSelected = selected.length > 0;\n\n    const changeSelected = (v, id) => {\n        setSelected(b => (!v) ? b.filter(item => item !== id) : [...b, id])\n    }\n\n    const removeAdmins = () => {\n        setSelected([]);\n        selected.map((o) => props.onDelete.mutate({ gid: props.gid, uid: o }))\n    }\n\n    return <>\n        <h5>Admin role can manage servers. You need to have at least <br />Owner role to add new admins.</h5>\n        {\n            (isSelected) ? (<h5><b>You selected {selected.length} admins.</b></h5>) : (<h5>Select admins to remove them.</h5>)\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <Button name=\"Add Admin\" callback={() => modal.show(<AddGroupAdmin gid={props.group.id} callback={modal.close} />)} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Admin\" />\n                )\n            }\n            {\n                (hasRights && isSelected) ? (\n                    <Button name=\"Remove Selected Admins\" callback={removeAdmins} />\n                ) : (\n                    <Button disabled={true} name=\"Remove admins\" />\n                )\n            }\n        </ButtonRow>\n        {\n            (props.group) ? (\n                adminList.map((admin, i) => (\n                    <UserStRow user={admin} callback={(v) => changeSelected(v, admin.id)} key={admin.id || i} />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n    </>;\n}\n\n\nfunction GroupServers(props) {\n\n    var hasRights = false;\n\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    return <>\n        <h5>Servers instances added to current group. You need to have <br />Owner role in order to add new servers.</h5>\n        {\n            (props.group) ? (\n                props.group.servers.map((server, i) => (\n                    <ServerRow server={server} key={i} button={\n                        <SmallButton\n                            name=\"Delete\"\n                            content={deleteIcon}\n                            disabled={!hasRights}\n                            vars={{ gid: props.gid, sid: server.id }}\n                            callback={props.onDelete.mutate}\n                        />\n                    } />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <ButtonLink name=\"Add Server\" to={\"/group/\" + props.gid + \"/add/server\"} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Server\" />\n                )\n            }\n        </ButtonRow>\n    </>;\n}\n\nfunction GroupOwners(props) {\n\n    const modal = useModal();\n    const [selected, setSelected] = useState([]);\n\n    var hasRights = false;\n    if (props.group && props.user) hasRights = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const fakeListing = [1, 1, 1];\n\n    let ownerList;\n    if (props.group) {\n        ownerList = [...props.group.owners];\n        ownerList.sort((a, b) => Date.parse(b.addedAt) - Date.parse(a.addedAt));\n    }\n\n    const isSelected = selected.length > 0;\n\n    const changeSelected = (v, id) => {\n        setSelected(b => (!v) ? b.filter(item => item !== id) : [...b, id])\n    }\n\n    const removeOwners = () => {\n        setSelected([]);\n        selected.map((o) => props.onDelete.mutate({ gid: props.gid, uid: o }))\n    }\n\n    return <>\n        <h5>List of current group Owners. This role can add new Servers, <br />Admins and other owners. Be carefull with it!</h5>\n        {\n            (isSelected) ? (<h5><b>You selected {selected.length} owners.</b></h5>) : (<h5>Select owners to remove them.</h5>)\n        }\n        <ButtonRow>\n            {\n                (hasRights) ? (\n                    <Button name=\"Add Owner\" callback={() => modal.show(<AddGroupOwner gid={props.group.id} callback={modal.close} />)} />\n                ) : (\n                    <Button disabled={true} name=\"Not allowed\" content=\"Add Owner\" />\n                )\n            }\n            {\n                (hasRights && isSelected) ? (\n                    <Button name=\"Remove Owners\" callback={removeOwners} />\n                ) : (\n                    <Button disabled={true} name=\"Select Owners to remove\" />\n                )\n            }\n        </ButtonRow>\n        {\n            (ownerList) ? (\n                ownerList.map((owner, i) => (\n                    <UserStRow user={owner} callback={(v) => changeSelected(v, owner.id)} key={owner.id || i} />\n                ))\n            ) : (\n                fakeListing.map((_, i) => <FakeUserStRow key={i} />)\n            )\n        }\n        \n    </>;\n}\n\n\nfunction GroupServerAccount(props) {\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [sid, setSid] = useState(\"\");\n    const [remid, setRemid] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n        if (props.group) {\n            if (remid !== props.group.cookie.remid)\n                setRemid(props.group.cookie.remid);\n            if (sid !== props.group.cookie.sid)\n                setSid(props.group.cookie.sid);\n        } \n    }, [props.group]);\n\n    const editCookies = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <>\n            <h5 style={{ marginTop: \"0px\" }}>\n                Account manager, that will administrate your servers.<br />\n                These cookies can be found at <i>accounts.ea.com</i>\n            </h5>\n            {(props.group && !props.group.validCookie) ? (\n                <p style={{ marginTop: \"0px\", border: \"1px solid var(--color-second)\", padding: \"10px 22px\", borderRadius: \"8px\", color: \"#FF7575\", background: \"var(--color-container-v2)\" }}>\n                    Error: The cookies you are using right now are invalid!\n                </p>\n            ) : \"\"}\n            \n            <Row>\n                <TextInput type=\"password\" disabled={!allowedTo} callback={(e) => setRemid(e.target.value)} defaultValue={remid} name={\"Remid\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Reminder cookies\n                </p>\n            </Row>\n            <Row>\n                <TextInput type=\"password\" disabled={!allowedTo} callback={(e) => setSid(e.target.value)} defaultValue={sid} name={\"Sid\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Session cookies\n                </p>\n            </Row>\n            {\n                (props.group && (sid !== props.group.cookie.sid || remid !== props.group.cookie.remid)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editCookies.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        cookie: { sid, remid }\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ): \"\"\n            }\n        </>\n    );\n}\n\nfunction GroupDiscordSettings(props) {\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [adminId, setAdminId] = useState(\"\");\n    const [modId, setModId] = useState(\"\");\n    const [serverId, setServerId] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n        if (props.group) {\n\n            if (serverId !== props.group.discordGroupId)\n                setServerId(props.group.discordGroupId);\n\n            if (modId !== props.group.discordModRoleId)\n                setModId(props.group.discordModRoleId);\n\n            if (adminId !== props.group.discordAdminRoleId)\n                setAdminId(props.group.discordAdminRoleId);\n\n        }\n    }, [props.group]);\n\n    const editDiscordDetails = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <> \n            <GameStatsAd />\n            <h5 style={{ marginTop: \"8px\" }}>\n                With our bot, you can allow admins to controll your servers<br /> by using commands with ! prefix. \n            </h5>\n            <h5>\n                for a list of commands that you can use in Discord, use the \"!bfadmin\" command.\n            </h5>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setServerId(e.target.value)} defaultValue={serverId} name={\"Discord Server\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Your server Discord ID\n                </p>\n            </Row>\n            <h5 style={{ marginTop: \"8px\" }}>\n                Every person with that role id can use<br /> discord commands to contol the server.\n            </h5>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setAdminId(e.target.value)} defaultValue={adminId} name={\"Admin Discord ID\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Id of Admin role\n                </p>\n            </Row>\n            <Row>\n                <TextInput disabled={!allowedTo} callback={(e) => setModId(e.target.value)} defaultValue={modId} name={\"Mod DIscord ID\"} />\n                <p style={{ margin: \"0 0 0 20px\", alignSelf: \"center\" }}>\n                    Id of Moderator role, moderators can only kick players\n                </p>\n            </Row>\n            {\n                (props.group && (serverId !== props.group.discordGroupId || modId !== props.group.discordModRoleId || adminId !== props.group.discordAdminRoleId)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editDiscordDetails.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        discordGroupId: serverId,\n                                        discordModRoleId: modId,\n                                        discordAdminRoleId: adminId\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ) : \"\"\n            }\n        </>\n    );\n}\n\n\nfunction GroupDangerZone(props) {\n\n    var allowedTo = false;\n    if (props.group && props.user) allowedTo = props.group.isOwner || props.user.auth.isDeveloper;\n\n    const queryClient = useQueryClient();\n\n    const [groupName, setGroupName] = useState(\"\");\n    const [applyStatus, setApplyStatus] = useState(null);\n\n    useEffect(() => {\n\n        if (props.group && groupName !== props.group.groupName) {\n            setGroupName(props.group.groupName);    \n        }\n\n    }, [props.group]);\n\n    const editGroupName = useMutation(\n        variables => OperationsApi.editGroup(variables),\n        {\n            onMutate: async () => {\n                setApplyStatus(true);\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async () => {\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.invalidateQueries('groupId' + props.gid);\n            }\n        }\n    );\n\n    return (\n        <>\n            <h5 style={{ marginTop: \"0px\" }}>You can change the name of current Group.</h5>\n            <TextInput disabled={!allowedTo} callback={(e) => setGroupName(e.target.value)} defaultValue={groupName} name={\"Group name\"} />\n            {\n                (props.group && (groupName !== props.group.groupName)) ? (\n                    <ButtonRow>\n                        <Button name=\"Apply changes\" disabled={!allowedTo || applyStatus !== null} callback={\n                            _ => editGroupName.mutate(\n                                {\n                                    gid: props.gid,\n                                    value: {\n                                        groupName,\n                                    }\n                                }\n                            )\n                        } status={applyStatus} />\n                    </ButtonRow>\n                ) : \"\"\n            }\n            <h5 style={{ marginTop: \"8px\" }}>Once you delete a group, it will remove all the servers,<br /> server account and users used in it.</h5>\n            <ButtonRow>\n                <ButtonLink style={{ color: \"#FF7575\"}} name=\"Delete Group\" to={`/group/${props.gid}/delete/`} disabled={!allowedTo} />\n            </ButtonRow>\n        </>\n    );\n}\n\nexport function AddGroupOwner(props) {\n    var gid = props.gid;\n\n    const [nickname, setNickname] = useState(\"\");\n    const [uid, setUid] = useState(\"\");\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupOwnerExecute = useMutation(\n        variables => OperationsApi.addGroupOwner(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid, nickname }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n                \n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].owners.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    old.data[0].admins.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <>\n\n            <h2>Add new Owner</h2>\n            <TextInput name=\"Nickname (any, will be auto-updated)\" callback={(e)=>setNickname(e.target.value)}/>\n            <TextInput name=\"Discord UID\" callback={(e) => setUid(e.target.value) }/>\n            <ButtonRow>\n                <Button name=\"Add Owner\" callback={() => { AddGroupOwnerExecute.mutate({ gid, uid, nickname }); props.callback();  }} />\n            </ButtonRow>\n\n        </>\n    );\n\n}\n\nexport function AddGroupAdmin(props) {\n    var gid = props.gid;\n\n    const [addAdminState, changeState] = useState({ uid: \"\", nickname: \"\", canAdd: false });\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupAdminExecute = useMutation(\n        variables => OperationsApi.addGroupAdmin(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid, uid, nickname }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].admins.push({ id: uid, name: nickname, addedAt: UTCNow });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const updateState = (values) => {\n        var newState = {\n            ...addAdminState,\n            ...values\n        };\n        newState.canAdd = newState.uid !== \"\";\n        changeState(newState);\n    }\n\n    const history = useHistory();\n\n    return (\n        <>\n            <h2>Add new Admin</h2>\n            <TextInput name=\"Nickname (any, will be auto-updated)\" callback={(e) => updateState({nickname: e.target.value}) } />\n            <TextInput name=\"Discord UID\" callback={(e) => updateState({uid: e.target.value}) } />\n            <ButtonRow>\n                <Button name=\"Add Admin\" disabled={!addAdminState.canAdd} callback={() => { AddGroupAdminExecute.mutate({ gid, uid: addAdminState.uid, nickname: addAdminState.nickname }); props.callback(); }} />\n            </ButtonRow>\n        </>\n    );\n\n}\n\n\nexport function AddGroup(props) {\n\n    const [addGroupState, changeState] = useState({\n        variables: {\n            groupName: \"\",\n            discordId: \"\",\n            adminRole: \"\",\n            modRole: \"\",\n            remid: \"\",\n            sid: \"\",\n        },\n        roleDisplay: false,\n        canAdd: false\n    });\n\n    const [applyStatus, setApplyStatus] = useState(null);\n    const [errorUpdating, setError] = useState({ code: 0, message: \"Unknown\" });\n    const queryClient = useQueryClient();\n    const history = useHistory();\n\n    const AddNewGroupExecute = useMutation(\n        variables => OperationsApi.addGroup(variables),\n        {\n            onMutate: async (variables) => {\n                setApplyStatus(true);\n                await queryClient.cancelQueries('devGroups');\n                return {}\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n                history.push(\"/\");\n            },\n            onError: async (error) => {\n                setError(error);\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n                queryClient.refetchQueries('devGroups');\n            }\n        }\n    );\n\n    const checkInputVariables = (newVariables) => {\n        var newGroupState = {\n            ...addGroupState,\n            variables: {\n                ...addGroupState.variables,\n                ...newVariables\n            }\n        };\n        let newVars = newGroupState.variables;\n        newGroupState.roleDisplay = (newVars.discordId !== \"\");\n        newGroupState.canAdd =\n            (newVars.remid.length > 1) && (newVars.sid.length > 1) && (newVars.groupName.length > 2);\n        changeState(newGroupState);\n    };\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Create new Group</h2>\n                    \n                </Header>\n                <Card>\n                    <h5>Create a new group to manage your community servers</h5>\n                    {/*<h2>Create a new group to manage your community servers</h2>*/}\n                    <TextInput name=\"Name\" callback={(e) => { checkInputVariables({ groupName: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Optionaly, you can add your discord server, to integrate server tools\n                    </h5>\n                    <TextInput name=\"Discord Server ID\" callback={(e) => { checkInputVariables({ discordId: e.target.value }) }} />\n                    <TextInput name=\"Mod role ID\" disabled={!addGroupState.roleDisplay} callback={(e) => { checkInputVariables({ modRole: e.target.value }) }} />\n                    <TextInput name=\"Admin role ID\" disabled={!addGroupState.roleDisplay} callback={(e) => { checkInputVariables({ adminRole: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Every group need to be assigned special account with certain requirments: <br />\n                        It should be a BF1 server moderator (owner access not required)<br />\n                        This account shouldn't be used anywhere else, otherwise it will lead in errors<br />\n                    </h5>\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"SID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ sid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Reminder session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"REMID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ remid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        By pressing this button, you agree to give <br />server manager tool access to the account.\n                    </h5>\n                    <ButtonRow>\n                        <Button name=\"Create group\" disabled={!addGroupState.canAdd || applyStatus !== null} status={applyStatus} callback={() => AddNewGroupExecute.mutate(addGroupState.variables)} />\n                        <h5 style={{ marginBottom: 0, alignSelf: \"center\", opacity: (applyStatus === false) ? 1 : 0 }}>Error {errorUpdating.code}: {errorUpdating.message}</h5>\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function DeleteGroup(props) {\n\n    var thisGid = props.match.params.gid;\n\n    const queryClient = useQueryClient();\n    const history = useHistory();\n\n    const DeleteGroupExecute = useMutation(\n        variables => OperationsApi.removeGroup(variables),\n        {\n            // When mutate is called:\n            onMutate: async ({ gid }) => {\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('devGroups')\n                // Snapshot the previous value\n                const previousGroups = queryClient.getQueryData('devGroups')\n                // Optimistically update to the new value\n                queryClient.setQueryData('devGroups', old => {\n                    if (old) {\n                        old.data = old.data.filter(group => group.id !== gid);\n                    }\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroups, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('devGroups', context.previousGroups)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('devGroups')\n            },\n        }\n    );\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Delete Group</h2>\n                </Header>\n                <Card>\n                    <h2>Danger zone</h2>\n                    <p>Are you sure you want to delete this group?</p>\n                    <ButtonRow>\n                        <ButtonLink name=\"Oh, no!\" to={\"/group/\" + thisGid} />\n                        <Button name=\"Yes, delete\" callback={() => { DeleteGroupExecute.mutate({ gid: thisGid }); history.push(\"/dev/\"); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}\n\nexport function AddGroupServer(props) {\n    var gid = props.match.params.gid;\n\n    var name = \"\", alias = \"\";\n\n    const queryClient = useQueryClient();\n\n\n    const AddGroupServerExecute = useMutation(\n        variables => OperationsApi.addGroupServer(variables),\n        {\n            // When mutate is called:\n            onMutate: async({ gid, name, alias }) => {\n\n                // Cancel any outgoing refetches (so they don't overwrite our optimistic update)\n                await queryClient.cancelQueries('groupId' + gid)\n                // Snapshot the previous value\n                const previousGroup = queryClient.getQueryData('groupId' + gid)\n                // Optimistically update to the new value\n                const UTCNow = new Date(Date.now()).toUTCString();\n\n                queryClient.setQueryData('groupId' + gid, old => {\n                    old.data[0].servers.push({\n                        \"addedAt\": UTCNow,\n                        \"id\": null,\n                        \"name\": name\n                    });\n                    return old;\n                })\n                // Return a context object with the snapshotted value\n                return { previousGroup, gid }\n            },\n            // If the mutation fails, use the context returned from onMutate to roll back\n            onError: (err, newTodo, context) => {\n                queryClient.setQueryData('groupId' + context.gid, context.previousGroup)\n            },\n            // Always refetch after error or success:\n            onSettled: (data, error, variables, context) => {\n                queryClient.invalidateQueries('groupId' + context.gid)\n            },\n        }\n    );\n\n    const history = useHistory();\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Add new Server</h2>\n                </Header>\n                <Card>\n                    <h2>Group Server</h2>\n                    <TextInput name=\"Server name\" callback={(e) => { name = e.target.value }} />\n                    <TextInput name=\"Alias (optional)\" callback={(e) => { alias = e.target.value; }} />\n                    <ButtonRow>\n                        <Button name=\"Add Server\" callback={() => { AddGroupServerExecute.mutate({ gid, alias, name }); history.push(\"/group/\" + gid); }} />\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n\n}\n\n\nexport function EditGroup(props) {\n    return (<></>);\n}\n\nexport function MakeOps(props) {\n   \n    const [addGroupState, changeState] = useState({\n        variables: {\n            server: \"\",\n            remid: \"\",\n            sid: \"\",\n        },\n        canAdd: false\n    });\n\n    const [applyStatus, setApplyStatus] = useState(null);\n    const [errorUpdating, setError] = useState({ code: 0, message: \"Unknown\" });\n    const queryClient = useQueryClient();\n    const history = useHistory();\n\n    const SetupOperations = useMutation(\n        variables => OperationsApi.setupOps(variables),\n        {\n            onMutate: async (variables) => {\n                setApplyStatus(true);\n                return {}\n            },\n            onSuccess: async () => {\n                setApplyStatus(null);\n            },\n            onError: async (error) => {\n                setError(error);\n                setApplyStatus(false);\n                setTimeout(_ => setApplyStatus(null), 2000);\n            },\n            onSettled: async () => {\n            }\n        }\n    );\n\n    const checkInputVariables = (newVariables) => {\n        var newGroupState = {\n            ...addGroupState,\n            variables: {\n                ...addGroupState.variables,\n                ...newVariables\n            }\n        };\n        let newVars = newGroupState.variables;\n        newGroupState.canAdd =\n            (newVars.remid.length > 1) && (newVars.sid.length > 1) && (newVars.server.length > 1);\n        changeState(newGroupState);\n    };\n\n    return (\n        <Row>\n            <Column>\n                <Header>\n                    <h2>Setup Operations Gamemode</h2>\n                </Header>\n                <Card>\n                    <h5>\n                        Setup operations gamemode on your server. <br />Note, that you will lose in-game admin panel!<br /> \n                        Make sure to add server into this pannel and check it.\n                    </h5>\n                    <TextInput name=\"Server name\" callback={(e) => { checkInputVariables({ server: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Server <b>owner</b> cookies.\n                    </h5>\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"SID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ sid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        Reminder session cookies can be found at <i>accounts.ea.com</i>\n                    </h5>\n                    <TextInput name=\"REMID cookie\" type=\"password\" callback={(e) => { checkInputVariables({ remid: e.target.value }) }} />\n                    <h5 style={{ marginTop: \"8px\" }}>\n                        By pressing this button, you agree to give <br />server manager tool access to the account.\n                    </h5>\n                    <ButtonRow>\n                        <Button name=\"Make Operations\" disabled={!addGroupState.canAdd || applyStatus !== null} status={applyStatus} callback={() => SetupOperations.mutate(addGroupState.variables)} />\n                        <h5 style={{ marginBottom: 0, alignSelf: \"center\", opacity: (applyStatus === false) ? 1 : 0 }}>Error {errorUpdating.code}: {errorUpdating.message}</h5>\n                    </ButtonRow>\n                </Card>\n            </Column>\n        </Row>\n    );\n}","import React from \"react\";\nimport { Route, Switch } from 'react-router-dom';\n\nimport Account from \"./Account\";\nimport { Developer } from \"./Developer\";\nimport { Server, ServerAction } from \"./Server\";\nimport { Group, AddGroupOwner, EditGroup, AddGroupAdmin, AddGroup, DeleteGroup, AddGroupServer, MakeOps } from \"./Group\";\n\n//import ABSwitch from \"../testing/ABtesting\";\n\nexport default function Views(props) {\n    return (\n        <Switch>\n\n            <Route exact path=\"/account/\" component={Account} />\n\n            <Route exact path=\"/server/:sid/\" component={Server} />\n            <Route exact path=\"/server/:sid/:action/:eaid/\" component={ServerAction} />\n\n            <Route exact path=\"/group/new/\" component={AddGroup} />\n            <Route exact path=\"/group/:gid/\" component={Group} />\n\n            <Route exact path=\"/group/:gid/add/server\" component={AddGroupServer} />\n            <Route exact path=\"/group/:gid/add/admin/\" component={AddGroupAdmin} />\n            <Route exact path=\"/group/:gid/add/owner/\" component={AddGroupOwner} />\n\n            <Route exact path=\"/group/:gid/edit/\" component={EditGroup} />\n            <Route exact path=\"/group/:gid/delete\" component={DeleteGroup} />\n\n            <Route exact path=\"/dev/\" component={Developer} />\n\n            <Route exact path=\"/makeops/\" component={MakeOps} />\n\n        </Switch>\n    );\n}","import React from \"react\";\nimport { useQuery } from 'react-query';\nimport { Redirect } from 'react-router-dom';\nimport { OperationsApi } from \"../api\";\n\nimport { MainPageComponent } from \"../components\";\n\nexport default function Main() {\n\n    const { isError, data: user, isLoading } = useQuery('user', () => OperationsApi.user);\n\n    if (!isLoading && !isError && user && user.auth.signedIn) {\n        return <Redirect to=\"/account/\" />\n    }\n\n    return (\n        <MainPageComponent />\n    );\n}","\nimport React from \"react\";\nimport { HashRouter, useLocation, Route, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nimport './App.css';\nimport './fade.css';\n\nimport Views from \"./views\";\nimport Main from \"./views/Main\";\nimport { createHashHistory } from 'history';\nimport { Sidebar, PageContainer, PageColumn, ModalProvider } from \"./components\";\n\n\nexport const history = createHashHistory();\n\nexport const APP_VERSION = \"1.0.2\";\n\nfunction App() {\n\n    let location = useLocation();\n\n    return (\n        <div className=\"App\">\n            <HashRouter>\n                <ModalProvider>\n                    <Switch>\n                        <Route exact path=\"/\" component={Main} />\n                        <Route>\n                            \n                            {/*<TopBar />*/}\n                            <Sidebar />\n                            <TransitionGroup component={PageContainer}>\n                                <CSSTransition key={location.hash} classNames=\"fade\" timeout={200}>\n                                    <PageColumn>\n                                        <Views />\n                                    </PageColumn>\n                                </CSSTransition>\n                            </TransitionGroup>\n                            \n                        </Route>\n                    </Switch>\n                </ModalProvider>\n            </HashRouter>\n        </div>\n    );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { QueryClient, QueryClientProvider } from 'react-query'\n\nimport App from './App';\n\n\nconst queryClient = new QueryClient();\n\n// Browser rendering\n\nReactDOM.render(\n\n    <React.StrictMode> \n        <QueryClientProvider client={queryClient}>\n            <BrowserRouter>\n                <App />\n            </BrowserRouter>\n        </QueryClientProvider>\n    </React.StrictMode>,\n\n    document.getElementById('root')\n\n);\n\n"],"sourceRoot":""}