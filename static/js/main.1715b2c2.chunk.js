(this["webpackJsonpserver-manager"]=this["webpackJsonpserver-manager"]||[]).push([[0],{10:function(e,t,r){e.exports={buttonRow:"Buttons_buttonRow__dKjZj",button:"Buttons_button__1VKNK",container:"Buttons_container__np2ep",dropdown:"Buttons_dropdown__13J8f",ul:"Buttons_ul__3tJo8",li:"Buttons_li__1sX4Q",TextInput:"Buttons_TextInput__35GbL",SmallButton:"Buttons_SmallButton__3rzhd",Switch:"Buttons_Switch__39fTc",SwitchActive:"Buttons_SwitchActive__2ViHx",SwitchInner:"Buttons_SwitchInner__3LnS9",SwitchHandle:"Buttons_SwitchHandle__2b8wJ",SwitchOff:"Buttons_SwitchOff__3Oaf-",SwitchOn:"Buttons_SwitchOn__1_Jsb",SwitchRow:"Buttons_SwitchRow__3WA6c",ChoosePageButton:"Buttons_ChoosePageButton__1-OpM",ChoosePageButtonActive:"Buttons_ChoosePageButtonActive__13GmV",ChoosePageButtonHolder:"Buttons_ChoosePageButtonHolder__VfFyz"}},12:function(e,t,r){e.exports={GroupRow:"Group_GroupRow__1Ew1c",GroupName:"Group_GroupName__3G6eX",gameStatsAd:"Group_gameStatsAd__2Eob_",logAdmin:"Group_logAdmin__1TOK4",logPlayer:"Group_logPlayer__1Mapx",logAction:"Group_logAction__2UECK",logReason:"Group_logReason__8BHZZ",logRow:"Group_logRow__YNVWa",BanRow:"Group_BanRow__v5SxK",banReasonDetailed:"Group_banReasonDetailed__3HFsw",BanDisplayName:"Group_BanDisplayName__15HMw",banReason:"Group_banReason__1ofIN",globalUnban:"Group_globalUnban__v-kk5"}},19:function(e,t,r){e.exports={UserRow:"User_UserRow__1fzJH",Avatar:"User_Avatar__3XgeX",DiscordName:"User_DiscordName__j-kJJ",DiscordNum:"User_DiscordNum__odqe3",secure:"User_secure__ADMpb",UserRowSt:"User_UserRowSt__D7e-x",DiscordId:"User_DiscordId__CJ0BY",DateAdded:"User_DateAdded__1FZZj"}},21:function(e,t,r){e.exports={PageLink:"Sidebar_PageLink__3fxKj",PageButton:"Sidebar_PageButton__3ug-M",PageLinkActive:"Sidebar_PageLinkActive___nnPr",Sidebar:"Sidebar_Sidebar__c0TTh",Logo:"Sidebar_Logo__2HFo5",TopSidebar:"Sidebar_TopSidebar__BQCyG",sideIcon:"Sidebar_sideIcon__72aBF",GroupLinks:"Sidebar_GroupLinks__8lkHr"}},25:function(e,t,r){e.exports={MainPageCard:"MainPage_MainPageCard__20zHQ",MainPage:"MainPage_MainPage__2QR_f",titleBlock:"MainPage_titleBlock__3Cu7O",listing:"MainPage_listing__1JWXi",ListItem:"MainPage_ListItem__1n0An",titleContent:"MainPage_titleContent__QdrEG",LoginButton:"MainPage_LoginButton__3Flzc"}},32:function(e,t,r){e.exports={card:"Card_card__3F8np",CardRow:"Card_CardRow__1NbF3",PageCard:"Card_PageCard__3UgmB",Tag:"Card_Tag__gwAfh"}},37:function(e,t,r){e.exports={status:"Status_status__1LWe8",loadingIcon:"Status_loadingIcon__3owGX",Loading:"Status_Loading__v1uza",errorIcon:"Status_errorIcon__2HXFb",Shake:"Status_Shake__30h0w"}},38:function(e,t,r){e.exports={Column:"Flex_Column__3cQ9_",Row:"Flex_Row__3SC-0",Grow:"Flex_Grow__f7am0"}},41:function(e,t,r){e.exports={PageContainer:"PageContainer_PageContainer__1PlzU",PageColumn:"PageContainer_PageColumn__3Qegy"}},45:function(e){e.exports=JSON.parse('{"AB":["homePage"]}')},47:function(e,t,r){e.exports={Header:"Header_Header__3VoE2"}},5:function(e,t,r){e.exports={SmallText:"Server_SmallText__3uOYG",ServerInfoColumn:"Server_ServerInfoColumn__35hJK",ServerInfoRow:"Server_ServerInfoRow__2Aa7V",serverImage:"Server_serverImage__3m2nE",ServerName:"Server_ServerName__2irVE",GameInfo:"Server_GameInfo__X3Hhq",ServerDescriptionColumn:"Server_ServerDescriptionColumn__3pNJs",ServerDescriptionRow:"Server_ServerDescriptionRow__12wsx",SwitchGame:"Server_SwitchGame__3MjHo",SettingsRow:"Server_SettingsRow__2yzpg",SmallInput:"Server_SmallInput__1fZ_Z",PlayerRow:"Server_PlayerRow__29Z8B",PlayerName:"Server_PlayerName__3tLfO",PlayerIndex:"Server_PlayerIndex__37b5y",PlayerPing:"Server_PlayerPing__31qCm",PlayerNone:"Server_PlayerNone__2swFS",playerBackgroundInfo:"Server_playerBackgroundInfo__27qMt",PlayerButtons:"Server_PlayerButtons__3dQvb",serverStatus:"Server_serverStatus__2bq0e",serverStatusOk:"Server_serverStatusOk__g8kKz",serverStatusErr:"Server_serverStatusErr__3kLiy",BanRow:"Server_BanRow__2CH-s",VipRow:"Server_VipRow__11VYU",BanDisplayName:"Server_BanDisplayName__1mYLa",VipRowImg:"Server_VipRowImg__2uQKq",VipName:"Server_VipName__1vh7h",VipHeader:"Server_VipHeader__17wNH",logAdmin:"Server_logAdmin__h3EXT",logPlayer:"Server_logPlayer__3ubbb",logAction:"Server_logAction__chE4g",logReason:"Server_logReason__1SNMU",logRow:"Server_logRow__3r-zZ",logReasonDetailed:"Server_logReasonDetailed__uRKTP",logIcon:"Server_logIcon__2eNHD"}},56:function(e,t,r){},57:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(28),s=r.n(c),i=r(13),o=r(72),u=r(35),l=r(11),d=r(74),j=r(71),p=(r(56),r(57),r(73)),b=r(2),h=r.n(b),m=r(3),f=r(33),v=r(34),O=r(50),g=r(49),x={dev:"https://homedev.gametools.network/api/",prod:"https://manager-api.gametools.network/api/"},y=new(function(e){Object(O.a)(r,e);var t=Object(g.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(v.a)(r,[{key:"logout",value:function(){var e=this.logoutAndChangeUser();this.user=e}},{key:"logoutAndChangeUser",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchMethod("logout/");case 2:return e.next=4,this.getUserInfo();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kickPlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.playername,a=t.reason,e.next=3,this.postJsonMethod("changeplayer",{request:"kickPlayer",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"globalBanPlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.reason,a=t.gid,e.next=3,this.postJsonMethod("addautoban",{playername:r,groupid:a,reason:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"globalUnbanPlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.gid,e.next=3,this.postJsonMethod("delautoban",{playername:r,groupid:n,reason:""});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeRotation",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.map,e.next=3,this.postJsonMethod("changelevel",{mapnumber:n,serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"banPlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.reason,a=t.time,c=t.sid,e.next=3,this.postJsonMethod("changeserver",{request:"addServerBan",playername:r,serverid:c,bantime:a.toString(),reason:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unbanPlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.reason,a=t.sid,e.next=3,this.postJsonMethod("changeserver",{request:"removeServerBan",playername:r,serverid:a,reason:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addVip",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.name,a=t.reason,e.next=3,this.postJsonMethod("changeserver",{request:"addServerVip",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeVip",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.name,a=t.reason,e.next=3,this.postJsonMethod("changeserver",{request:"removeServerVip",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"movePlayer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.team,a=t.name,e.next=3,this.postJsonMethod("moveplayer",{teamid:n,playername:a,serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBanList",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,e.next=3,this.getJsonMethod("infolist",{type:"bannedList",serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutoBanList",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,e.next=3,this.getJsonMethod("autoban",{groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getVipList",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,e.next=3,this.getJsonMethod("infolist",{type:"vipList",serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getServerLogs",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,e.next=3,this.getJsonMethod("tailserverlog",{serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroupLogs",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,e.next=3,this.getJsonMethod("tailuserlog",{groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDevGroups",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("devgroups");case 2:if(!("error"in(t=e.sent))){e.next=5;break}throw Error("Error on server.");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addGroup",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.groupName,n=t.discordId,a=t.modRole,c=t.adminRole,s=t.sid,i=t.remid,e.next=3,this.postJsonMethod("addgroup",{groupname:r,adminroleid:c,discordid:n,modroleid:a,remid:i,sid:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroup",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,e.next=3,this.postJsonMethod("delgroup",{groupId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editGroup",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,t.type,n=t.value,e.next=3,this.postJsonMethod("editgroup",{groupid:r,values:n});case 3:if(!("error"in(a=e.sent))){e.next=6;break}throw new Error(a.error.message);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroup",value:function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("groups",{groupid:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupOwner",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,this.postJsonMethod("addowner",{userid:n,nickname:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupServer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.name,a=t.alias,e.next=3,this.postJsonMethod("addserver",{servername:n,serveralias:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupAdmin",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,this.postJsonMethod("addadmin",{userid:n,nickname:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroupAdmin",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,e.next=3,this.postJsonMethod("deladmin",{userid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroupOwner",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,e.next=3,this.postJsonMethod("delowner",{userid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getServer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("server",{serverid:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getServerGame",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("servers",{serverid:t});case 2:if(!("error"in(r=e.sent).data[0])){e.next=7;break}throw Error(r.data[0].error);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeServer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.sid,e.next=3,this.postJsonMethod("delserver",{serverid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renameServer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.sid,e.next=3,this.postJsonMethod("renameserver",{serverid:n,servername:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeServerAlias",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.alias,a=t.sid,e.next=3,this.postJsonMethod("serveralias",{serverid:a,groupid:r,serveralias:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editServer",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.value,e.next=3,this.postJsonMethod("editserver",{serverid:r,values:n});case 3:if(!("error"in(a=e.sent))){e.next=6;break}throw new Error(a.error.message);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(function(){function e(){Object(f.a)(this,e),this.isWorking=!0,this.user=this.getUserInfo()}return Object(v.a)(e,[{key:"openLoginPage",value:function(){window.location=this.constructApiUrl("login")}},{key:"constructApiUrl",value:function(e,t){t=t||{};var r="";for(var n in t)r+=n+"="+t[n]+"&";return""!==r&&(r="?"+r),x.prod+e+r}},{key:"fetchMethod",value:function(){var e=Object(m.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.constructApiUrl(t,r),{credentials:"include"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"postMethod",value:function(){var e=Object(m.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(this.constructApiUrl(t,{}),r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"postJsonMethod",value:function(e,t){var r={method:"POST",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}};return this.errorHandler(this.postMethod(e,r))}},{key:"getJsonMethod",value:function(e,t){return this.errorHandler(this.fetchMethod(e,t))}},{key:"errorHandler",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var r=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.then((function(e){return e.json().then((function(e){if("error"in e)throw e.error;if("data"in e&&e.data.length>0&&"error"in e.data[0])throw e.data[0].error;return e}),(function(e){return r.spawnError(e,600)}))}),(function(e){return r.spawnError(e,t.code)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"spawnError",value:function(e,t){throw{error:{message:e,code:t}}}},{key:"getUserInfo",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={discord:{name:"",discriminator:0,avatar:""},auth:{inGuild:!1,isAdmin:!1,isDeveloper:!1,isOwner:!1,signedIn:!1}},e.next=3,this.getJsonMethod("getinfo");case 3:if((r=e.sent).hasOwnProperty("error")){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())),w=r(41),k=r.n(w),_=r(0);function S(e){return Object(_.jsx)("div",{className:k.a.PageContainer,children:e.children})}function N(e){return Object(_.jsx)("div",{className:k.a.PageColumn,children:e.children})}var A=r(75),C=r(45),D=C.AB;function M(){var e="TestAB";if(localStorage){var t=localStorage.getItem(e);if(t)return t;var r=Math.floor(10*Math.random())%2;return localStorage.setItem(e,r),r}return 0}var B=r(21),I=r.n(B);function G(){return Object(_.jsx)("div",{className:I.a.TopSidebar,children:Object(_.jsx)(i.c,{to:"/",title:"Main page",children:Object(_.jsx)("img",{src:"/release-logo.png",className:I.a.Logo})})})}function P(e){return Object(_.jsx)("div",{className:I.a.PageLink,children:Object(_.jsx)(i.d,{to:e.to,activeClassName:I.a.PageLinkActive,title:e.name,children:e.content||e.name})})}function L(e){return Object(_.jsx)("a",{className:I.a.PageButton,target:"_blank",rel:"noopener noreferrer",href:e.href,title:e.name,children:Object(_.jsx)("span",{onClick:e.onClick,children:e.name})})}function R(){return Object(_.jsx)("svg",{viewBox:"0 0 24 24",className:I.a.sideIcon,children:Object(_.jsx)("path",{fill:"currentColor",d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"})})}function V(){return Object(_.jsx)("svg",{viewBox:"0 0 24 24",className:I.a.sideIcon,children:Object(_.jsx)("path",{fill:"currentColor",d:"M13.78 15.3L19.78 21.3L21.89 19.14L15.89 13.14L13.78 15.3M17.5 10.1C17.11 10.1 16.69 10.05 16.36 9.91L4.97 21.25L2.86 19.14L10.27 11.74L8.5 9.96L7.78 10.66L6.33 9.25V12.11L5.63 12.81L2.11 9.25L2.81 8.55H5.62L4.22 7.14L7.78 3.58C8.95 2.41 10.83 2.41 12 3.58L9.89 5.74L11.3 7.14L10.59 7.85L12.38 9.63L14.2 7.75C14.06 7.42 14 7 14 6.63C14 4.66 15.56 3.11 17.5 3.11C18.09 3.11 18.61 3.25 19.08 3.53L16.41 6.2L17.91 7.7L20.58 5.03C20.86 5.5 21 6 21 6.63C21 8.55 19.45 10.1 17.5 10.1Z"})})}function E(e){var t,r,n,a=Object(p.a)("user",(function(){return y.user})),c=a.error,s=a.data,i=a.isLoading,o="",d="",j="",b="",f=Object(l.g)(),v=Object(u.b)(),O=Object(A.a)((function(e){return y.logout()}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.cancelQueries("user");case 2:return r=v.getQueryData("user"),v.setQueryData("user",(function(e){return{discord:{name:"",discriminator:0,avatar:""},auth:{inGuild:!1,isAdmin:!1,isDeveloper:!1,isOwner:!1,signedIn:!1}}})),f.push("/"),e.abrupt("return",{prevUser:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSettled:function(e,t,r,n){v.invalidateQueries("user")}});if(!c&&!i&&s&&s.auth.signedIn){var g=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{children:"Developer Options"}),Object(_.jsx)(V,{})]}),x=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("span",{children:"Create Group"}),Object(_.jsx)(R,{})]});for(var w in s.auth.isDeveloper&&(o=Object(_.jsx)(P,{to:"/dev/",name:"Developer Options",content:g})),d=[(t="",r=Object(_.jsx)(P,{to:"/home/",name:"Home page"},0),n="homePage",n in D?function(e,t,r){return 1===r?t:e}(t,r,M()):t),Object(_.jsx)(P,{to:"/account/",name:"Account"},1),Object(_.jsx)(P,{to:"/group/new/",name:"Create Group",content:x},2)],j=Object(_.jsx)(L,{onClick:function(){O.mutate({})},name:"Logout"}),b=[],s.permissions.isAdminOf){var k=s.permissions.isAdminOf[w];b.push(Object(_.jsx)(P,{to:"/group/"+k.id,name:k.groupName},w))}}return Object(_.jsxs)("div",{className:I.a.Sidebar,children:[Object(_.jsx)(G,{}),Object(_.jsxs)("div",{style:{display:"flex",flexGrow:2,flexDirection:"column",overflowY:"auto",marginBottom:"50px"},children:[d,o,Object(_.jsx)("div",{className:I.a.GroupLinks,children:b}),Object(_.jsx)(L,{href:"https://discord.gametools.network/",name:"Need help?"}),j]}),Object(_.jsxs)("p",{style:{paddingLeft:"48px",fontSize:"12px"},children:["v",yt," channel ",0===M()?"A":"B"]})]})}var T=r(7),Q=r(10),H=r.n(Q),U=r(37),J=r.n(U);function F(){return Object(_.jsx)("svg",{viewBox:"0 0 24 24",className:J.a.loadingIcon,children:Object(_.jsx)("path",{fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})})}function K(e){return Object(_.jsx)("svg",{viewBox:"0 0 24 24",className:J.a.errorIcon,children:Object(_.jsx)("path",{fill:"currentColor",d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})})}function Z(e){return Object(_.jsx)("div",{className:J.a.status,children:void 0===e.status||null===e.status?"":e.status?Object(_.jsx)(F,{}):Object(_.jsx)(K,{})})}function Y(e){var t=e.style||{};return e.background_color&&(t.background=e.background_color),e.width&&(t.width=e.width),Object(_.jsxs)("button",{value:e.value,className:H.a.button,disabled:e.disabled,onClick:e.callback,title:e.name,style:t,children:[e.name,Object(_.jsx)(Z,{status:e.status})]})}function z(e){return e.disabled?Object(_.jsx)(Y,{name:e.name,disabled:!0}):Object(_.jsx)(i.d,{style:e.style,className:H.a.button,to:e.to,title:e.name,children:e.name})}function q(e){return Object(_.jsx)("div",{className:H.a.buttonRow,children:e.children})}function X(e){return void 0===e.value?Object(_.jsx)("input",{defaultValue:e.defaultValue,className:H.a.TextInput,disabled:e.disabled,style:e.style,type:e.type||"text",placeholder:e.name,onReset:e.callback,onChange:e.callback}):Object(_.jsx)("input",{value:e.value,defaultValue:e.defaultValue,className:H.a.TextInput,disabled:e.disabled,style:e.style,type:e.type||"text",placeholder:e.name,onReset:e.callback,onChange:e.callback})}function W(e){return e.disabled?"":Object(_.jsx)("div",{className:H.a.SmallButton,onClick:function(t){return e.callback(e.vars)},title:e.name,children:e.content||e.name})}function $(e){var t=Object(n.useState)(!1),r=Object(T.a)(t,2),a=r[0],c=r[1],s=function(){var t=!a;c(t),e.callback&&e.callback(t)};Object(n.useEffect)((function(){null!==e.checked&&c(e.checked)}),[e.checked]);var i=a?H.a.SwitchActive:H.a.Switch;return Object(_.jsxs)("div",{className:H.a.SwitchRow,children:[Object(_.jsxs)("div",{className:i,onClick:s,isChecked:a,onKeyPress:function(e){13===e.charCode&&s()},role:"switch",tabIndex:"1",children:[Object(_.jsxs)("span",{className:H.a.SwitchInner,children:[Object(_.jsx)("span",{className:H.a.SwitchOn}),Object(_.jsx)("span",{className:H.a.SwitchOff})]}),Object(_.jsx)("span",{className:H.a.SwitchHandle})]}),Object(_.jsx)("span",{children:e.name})]})}function ee(e){var t=Object(n.useState)(!1),r=Object(T.a)(t,2),c=r[0],s=r[1],i=a.a.useRef();return Object(n.useEffect)((function(){var e=function(e){i.current&&!i.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}})),Object(_.jsxs)("div",{className:H.a.container,ref:i,children:[Object(_.jsx)("button",{type:"button",className:H.a.button,onClick:function(){return s(!c)},children:e.name}),c&&Object(_.jsx)("div",{className:H.a.dropdown,children:Object(_.jsx)("ul",{className:H.a.ul,children:e.options.map((function(e){return Object(_.jsx)("li",{className:H.a.li,onClick:e.callback,children:e.name})}))})})]})}function te(e){var t=Object(n.useState)(0),r=Object(T.a)(t,2),a=r[0],c=r[1];return Object(_.jsx)("div",{className:H.a.ChoosePageButtonHolder,children:e.buttons.map((function(e,t){return Object(_.jsx)("div",{isChecked:t===a,role:"switch",className:t===a?H.a.ChoosePageButtonActive:H.a.ChoosePageButton,onClick:function(r){c(t),e.callback()},title:e.name,tabIndex:"1",children:e.content||e.name},t)}))})}var re=r(38),ne=r.n(re);function ae(e){return Object(_.jsx)("div",{className:ne.a.Column,children:e.children})}function ce(e){return Object(_.jsx)("div",{className:ne.a.Row,children:e.children})}var se=r(32),ie=r.n(se);function oe(e){return Object(_.jsx)("div",{className:ie.a.card,style:e.style,children:e.children})}function ue(e){return Object(_.jsx)("span",{className:ie.a.CardRow,children:e.children})}function le(e){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(te,{buttons:e.buttons}),Object(_.jsx)("div",{className:ie.a.PageCard,style:e.style,children:e.children})]})}function de(e){return Object(_.jsx)("span",{className:ie.a.Tag,children:e.children})}var je=r(47),pe=r.n(je);function be(e){return Object(_.jsx)("div",{className:pe.a.Header,children:e.children})}var he=r(19),me=r.n(he);function fe(e){var t=e.discord;return Object(_.jsxs)("div",{className:me.a.UserRow,children:[Object(_.jsx)("img",{alt:"",src:t.avatar,className:me.a.Avatar}),Object(_.jsxs)("div",{className:me.a.DiscordName,children:[t.name,Object(_.jsx)("span",{className:me.a.DiscordNum,children:t.discriminator})]}),Object(_.jsxs)("div",{className:me.a.secure,children:[Object(_.jsx)("svg",{viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M6 12C6.39782 12 6.77935 11.842 7.06066 11.5607C7.34196 11.2794 7.5 10.8978 7.5 10.5C7.5 9.6675 6.825 9 6 9C5.60217 9 5.22064 9.15804 4.93934 9.43934C4.65804 9.72065 4.5 10.1022 4.5 10.5C4.5 10.8978 4.65804 11.2794 4.93934 11.5607C5.22064 11.842 5.60217 12 6 12ZM10.5 5.25C10.8978 5.25 11.2794 5.40804 11.5607 5.68934C11.842 5.97065 12 6.35218 12 6.75V14.25C12 14.6478 11.842 15.0294 11.5607 15.3107C11.2794 15.592 10.8978 15.75 10.5 15.75H1.5C1.10218 15.75 0.720644 15.592 0.43934 15.3107C0.158035 15.0294 0 14.6478 0 14.25V6.75C0 5.9175 0.675 5.25 1.5 5.25H2.25V3.75C2.25 2.75544 2.64509 1.80161 3.34835 1.09835C4.05161 0.395088 5.00544 0 6 0C6.49246 0 6.98009 0.0969967 7.43506 0.285452C7.89003 0.473907 8.30343 0.75013 8.65165 1.09835C8.99987 1.44657 9.27609 1.85997 9.46455 2.31494C9.653 2.76991 9.75 3.25754 9.75 3.75V5.25H10.5ZM6 1.5C5.40326 1.5 4.83097 1.73705 4.40901 2.15901C3.98705 2.58097 3.75 3.15326 3.75 3.75V5.25H8.25V3.75C8.25 3.15326 8.01295 2.58097 7.59099 2.15901C7.16903 1.73705 6.59674 1.5 6 1.5Z",fill:"#55F165"})}),"Logged in"]})]})}function ve(e){var t=e.user,r=new Date(Date.parse(t.addedAt)),n="".concat(r.getUTCDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getUTCMonth()]," ").concat(r.getUTCHours(),":").concat(r.getUTCMinutes());return Object(_.jsxs)("div",{className:me.a.UserRowSt,children:[Object(_.jsx)("div",{className:me.a.DiscordName,children:t.name}),Object(_.jsx)("div",{className:me.a.DateAdded,children:n}),Object(_.jsx)("div",{className:me.a.DiscordId,children:t.id}),e.button]})}function Oe(e){return Object(_.jsx)("div",{className:me.a.UserRowSt})}var ge=r(12),xe=r.n(ge);function ye(e){var t=e.group;return Object(_.jsxs)(i.c,{className:xe.a.GroupRow,to:"/group/"+t.id,children:[Object(_.jsx)("span",{className:xe.a.GroupName,children:t.groupName}),"Manage group"]})}function we(e){var t=e.server;return null===t.id?Object(_.jsxs)("div",{className:xe.a.GroupRow,children:[Object(_.jsx)("span",{className:xe.a.GroupName,children:t.name}),e.button]}):Object(_.jsxs)("div",{className:xe.a.GroupRow,children:[Object(_.jsx)(i.c,{className:xe.a.GroupName,to:"/server/"+t.id,children:t.name}),e.button]})}function ke(e){return Object(_.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",className:xe.a.gameStatsAd,href:"https://discord.com/oauth2/authorize?client_id=714524944783900794&scope=bot&permissions=83968",children:[Object(_.jsx)("img",{src:"./game-stats.png"}),Object(_.jsx)("span",{children:"Add Game Stats bot on your Discord server, in order to control BF1 servers with commands."})]})}function _e(e){var t=e.gid,r=Object(p.a)("globalBanList"+t,(function(){return y.getAutoBanList({gid:t})})),a=r.isError,c=r.data,s=r.error,i=Object(u.b)(),o=Object(n.useState)(""),l=Object(T.a)(o,2),d=l[0],j=l[1],b=Object(A.a)((function(e){return y.globalUnbanPlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.name,e.next=3,i.cancelQueries("globalBanList"+r);case 3:return a=i.getQueryData("globalBanList"+r),i.setQueryData("globalBanList"+r,(function(e){return e.data=e.data.filter((function(e){return e.playerName!==n})),e})),e.abrupt("return",{previousBanList:a,gid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){i.setQueryData("globalBanList"+r.gid,r.previousBanList)},onSettled:function(e,t,r,n){i.invalidateQueries("globalBanList"+n.gid)}});return c?a?"Error ".concat(s.code,": {error.message}"):Object(_.jsxs)("div",{children:[Object(_.jsxs)("h5",{children:["List of banned players on this group. Used ",Object(_.jsxs)("b",{children:[c.data.length," slots"]}),". ",Object(_.jsx)(de,{children:"Early beta"})]}),Object(_.jsx)(X,{name:"Search..",callback:function(e){return j(e.target.value)}}),Object(_.jsx)("div",{className:xe.a.BanListing,children:c.data.filter((function(e){return e.playerName.includes(d)})).map((function(e,r){return Object(_.jsx)(Se,{player:e,callback:function(){return b.mutate({gid:t,name:e.playerName})}},r)}))})]}):"Loading.."}function Se(e){var t=e.player;return Object(_.jsxs)("div",{className:xe.a.BanRow,children:[Object(_.jsx)("span",{className:xe.a.BanDisplayName,children:t.playerName}),Object(_.jsx)("span",{className:xe.a.banReason,children:""===t.reason?"without any reason":"with reason"}),Object(_.jsx)("span",{className:xe.a.banReasonDetailed,children:t.reason}),Object(_.jsx)("span",{className:xe.a.globalUnban,onClick:e.callback,children:"Unban"})]})}function Ne(e){var t=e.gid,r=Object(p.a)("groupogList"+t,(function(){return y.getGroupLogs({gid:t})})),n=r.isError,a=r.data,c=r.error;return n?"Error ".concat(c.code,": {error.message}"):(a&&a.logs.sort((function(e,t){return Date.parse(t.timeStamp)-Date.parse(e.timeStamp)})),Object(_.jsxs)("div",{children:[Object(_.jsx)("h5",{children:"Group log list"}),Object(_.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginTop:"8px"},children:a?a.logs.map((function(e,t){return Object(_.jsx)(Ae,{log:e},t)})):Array.from({length:8},(function(e,t){return{id:t}})).map((function(e,t){return Object(_.jsx)(Ce,{},t)}))})]}))}function Ae(e){var t=e.log,r=(function(){switch(t.action){case"editGroup":case"addUser":case"addOwner":case"addGroup":case"removeOwner":case"removeUser":default:;}}(),new Date(t.timeStamp));return r="".concat(r.getUTCDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]," ").concat(r.getFullYear()," ").concat(r.getHours(),":").concat(r.getMinutes()),Object(_.jsxs)("div",{className:xe.a.logRow,children:[Object(_.jsx)("span",{className:xe.a.logAdmin,children:t.adminName}),Object(_.jsx)("span",{className:xe.a.logReason,children:t.reason}),Object(_.jsx)("span",{className:xe.a.logTime,children:r})]})}function Ce(){return Object(_.jsx)("div",{className:xe.a.logRow})}var De=r(25),Me=r.n(De);function Be(e){return Object(_.jsxs)("div",{className:Me.a.ListItem,children:[Object(_.jsx)("h2",{children:e.header}),Object(_.jsx)("p",{children:e.children})]})}function Ie(){return Object(_.jsx)("a",{className:Me.a.LoginButton,href:y.constructApiUrl("login"),children:"Log in"})}function Ge(e){return Object(_.jsx)("div",{className:Me.a.MainPage,children:Object(_.jsxs)("div",{className:Me.a.MainPageCard,children:[Object(_.jsx)("div",{className:Me.a.titleBlock,children:Object(_.jsxs)("div",{className:Me.a.titleContent,children:[Object(_.jsx)("h1",{children:"A new way to manage your Battlefield 1 servers"}),Object(_.jsx)("p",{children:"Server Manager is a new Gametools & BFBan service created by Community Network"}),Object(_.jsx)(Ie,{})]})}),Object(_.jsxs)("div",{className:Me.a.listing,children:[Object(_.jsx)("h2",{children:"Features"}),Object(_.jsx)(Be,{header:"BFBan Anti Cheat",children:"Protect your servers against hackers confirmed on www.bfban.com"}),Object(_.jsx)(Be,{header:"Unlimited Global V-Ban list",children:"Ban as many players as you want to on all your servers with virtal ban list."}),Object(_.jsx)(Be,{header:"High ping players kick",children:"Automaticaly kick players from your servers based on ping threshold."}),Object(_.jsx)(Be,{header:"Discord tools to maintain server",children:"Contoll your servers right in the Discord based on roles."}),Object(_.jsx)(Be,{header:"Server action logging",children:"See full logs on every actions made on your servers and groups."}),Object(_.jsx)(Be,{header:"Full controll over your servers",children:"Admins can controll server with same functions as in game."})]})]})})}var Pe=r(5),Le=r.n(Pe);function Re(e){return Object(_.jsx)("span",{className:Le.a.SmallText,children:e.children})}function Ve(e){var t=null,r=null;e.game&&e.game.data&&e.game.data.length>0&&(t=e.game.data[0],r=t.info);var a=Object(n.useState)(""),c=Object(T.a)(a,2),s=c[0],i=c[1];return Object(_.jsxs)("div",{className:Le.a.ServerInfoColumn,children:[Object(_.jsxs)("div",{className:Le.a.ServerDescriptionRow,children:[Object(_.jsx)("img",{className:Le.a.serverImage,src:r?r.url:"/no-server-image.png"}),Object(_.jsxs)("div",{className:Le.a.GameInfo,children:[Object(_.jsx)("span",{className:Le.a.ServerName,children:r?r.prefix:"Loading"}),Object(_.jsx)(Re,{children:r?"".concat(r.map," - ").concat(r.mode," - ").concat(r.serverInfo," [").concat(r.inQue,"] players"):"-"})]})]}),Object(_.jsx)("div",{className:t?t.isAdmin?Le.a.serverStatusOk:Le.a.serverStatusErr:Le.a.serverStatus,children:Object(_.jsxs)("span",{children:["Status: ",t?t.isAdmin?"Managable":"Permission denied":"Pending.."]})}),Object(_.jsxs)(q,{children:[Object(_.jsx)(Y,{name:"Restart",disabled:!r,callback:function(t){return e.rotate(r?r.rotationId:null)}}),Object(_.jsxs)("select",{className:Le.a.SwitchGame,value:s,onChange:function(e){return i(e.target.value)},children:[Object(_.jsx)("option",{value:"",children:"Switch game.."}),r?r.rotation.map((function(e,t){return Object(_.jsx)("option",{value:e.index,children:e.mapname},t)})):""]}),""!==s?Object(_.jsx)(Y,{name:"Apply",disabled:!r,callback:function(t){e.rotate(r?s:null),i("")}}):""]})]})}function Ee(e){var t=e.game.data[0].players[e.team].players,r="0"===e.team?"1":"2",n=function(t){return[{name:"Give VIP",callback:function(){return e.giveVip.mutate({sid:e.sid,name:t.name,reason:""})}},{name:"Remove VIP",callback:function(){return e.removeVip.mutate({sid:e.sid,name:t.name,reason:""})}}]};return t.map((function(t,a){return Object(_.jsxs)("div",{className:Le.a.PlayerRow,children:[Object(_.jsx)("span",{className:Le.a.PlayerIndex,children:a+1}),Object(_.jsxs)("span",{className:Le.a.PlayerName,children:[""!==t.platoon?"[".concat(t.platoon,"] "):"",t.name]}),Object(_.jsx)("span",{className:Le.a.PlayerPing,children:t.ping}),Object(_.jsx)("span",{className:Le.a.PlayerNone}),Object(_.jsxs)("div",{className:Le.a.PlayerButtons,children:[Object(_.jsx)(Y,{name:"Move",callback:function(n){return e.onMove.mutate({sid:e.sid,name:t.name,team:r})}}),Object(_.jsx)(z,{name:"Kick",to:"/server/".concat(e.sid,"/kick/").concat(t.name,"/")}),Object(_.jsx)(z,{name:"Ban",to:"/server/".concat(e.sid,"/ban/").concat(t.name,"/")}),Object(_.jsx)(ee,{options:n(t),name:"\u2630"})]})]},a)}))}function Te(e){return Object(_.jsx)("div",{className:Le.a.ServerInfoRow,children:e.children})}function Qe(e){var t=e.sid,r=Object(p.a)("serverBanList"+t,(function(){return y.getBanList({sid:t})})),a=r.isError,c=r.data,s=r.error,i=Object(n.useState)(""),o=Object(T.a)(i,2),u=o[0],l=o[1];return c?a?"Error ".concat(s.code,": {error.message}"):Object(_.jsxs)("div",{children:[Object(_.jsxs)("h5",{children:["List of banned players on this server.",Object(_.jsx)("br",{}),"Used ",Object(_.jsxs)("b",{children:[c.data.length," slots out of 200"]}),". Use our group-based virtual ban list,",Object(_.jsx)("br",{})," to ban unlimited amount of players."]}),Object(_.jsx)(X,{name:"Search..",callback:function(e){return l(e.target.value)}}),Object(_.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginTop:"8px"},children:Object(_.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[Object(_.jsxs)("thead",{style:{position:"sticky",top:"0"},children:[Object(_.jsx)("th",{children:"Player name"}),Object(_.jsx)("th",{children:"Player id"}),Object(_.jsx)("th",{children:"Reason"}),Object(_.jsx)("th",{children:"Admin"}),Object(_.jsx)("th",{children:"Until"}),Object(_.jsx)("th",{children:"Timestamp"})]}),Object(_.jsx)("tbody",{children:c.data.filter((function(e){return e.displayName.includes(u)})).map((function(e,t){return Object(_.jsx)(He,{player:e},t)}))})]})})]}):"Loading.."}function He(e){var t=e.player;return Object(_.jsxs)("tr",{className:Le.a.BanRow,children:[Object(_.jsx)("td",{className:Le.a.BanDisplayName,children:t.displayName}),Object(_.jsx)("td",{title:"Player ID",children:t.id}),Object(_.jsx)("td",{children:t.reason}),Object(_.jsx)("td",{children:t.admin}),Object(_.jsx)("td",{children:t.banned_until}),Object(_.jsx)("td",{children:t.ban_timestamp})]})}function Ue(e){var t=e.sid,r=Object(p.a)("serverLogList"+t,(function(){return y.getServerLogs({sid:t})})),n=r.isError,a=r.data,c=r.error;return n?"Error ".concat(c.code,": {error.message}"):(a&&a.logs.sort((function(e,t){return Date.parse(t.timeStamp)-Date.parse(e.timeStamp)})),Object(_.jsxs)("div",{children:[Object(_.jsx)("h5",{children:"Log list"}),Object(_.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginTop:"8px"},children:a?a.logs.map((function(e,t){return Object(_.jsx)(Je,{log:e},t)})):Array.from({length:8},(function(e,t){return{id:t}})).map((function(e,t){return Object(_.jsx)(Fe,{},t)}))})]}))}function Je(e){var t=e.log,r=function(){switch(t.action){case"addServerBan":return"banned";case"kickPlayer":return"kicked";case"removeServerBan":return"unbanned";case"addServerVip":return"gave vip to";case"movePlayer":return"moved";case"removeServerVip":return"removed vip of";default:return"did magic to"}}(),n=new Date(t.timeStamp);return n="".concat(n.getUTCDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]," ").concat(n.getFullYear()," ").concat(n.getHours(),":").concat(n.getMinutes()),"autokick-ping"===t.action?Object(_.jsxs)("div",{className:Le.a.logRow,children:[Object(_.jsx)("svg",{className:Le.a.logIcon,viewBox:"0 0 24 24",children:Object(_.jsx)("path",{fill:"currentColor",d:"M19.5,5.5V18.5H17.5V5.5H19.5M12.5,10.5V18.5H10.5V10.5H12.5M21,4H16V20H21V4M14,9H9V20H14V9M7,14H2V20H7V14Z"})}),Object(_.jsx)("span",{className:Le.a.logAdmin,children:"Ping checker"}),Object(_.jsx)("span",{className:Le.a.logAction,children:"kicked"}),Object(_.jsx)("span",{className:Le.a.logPlayer,children:t.toPlayer}),Object(_.jsx)("span",{className:Le.a.logAction,children:t.reason}),Object(_.jsx)("span",{className:Le.a.logReasonDetailed}),Object(_.jsx)("span",{className:Le.a.logTime,children:n})]}):"autokick-globalBans"===t.action?Object(_.jsxs)("div",{className:Le.a.logRow,children:[Object(_.jsx)("svg",{className:Le.a.logIcon,viewBox:"0 0 24 24",children:Object(_.jsx)("path",{fill:"currentColor",d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"})}),Object(_.jsx)("span",{className:Le.a.logAdmin,children:"VBan"}),Object(_.jsx)("span",{className:Le.a.logAction,children:"kicked"}),Object(_.jsx)("span",{className:Le.a.logPlayer,children:t.toPlayer}),Object(_.jsx)("span",{className:Le.a.logReason,children:"with reason"}),Object(_.jsx)("span",{className:Le.a.logReasonDetailed,children:t.reason}),Object(_.jsx)("span",{className:Le.a.logTime,children:n})]}):"autokick-bfban"===t.action?Object(_.jsxs)("div",{className:Le.a.logRow,children:[Object(_.jsx)("svg",{className:Le.a.logIcon,viewBox:"0 0 24 24",children:Object(_.jsx)("path",{fill:"currentColor",d:"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z"})}),Object(_.jsx)("span",{className:Le.a.logAdmin,children:"BFBAN"}),Object(_.jsx)("span",{className:Le.a.logAction,children:"kicked"}),Object(_.jsx)("span",{className:Le.a.logPlayer,children:t.toPlayer}),Object(_.jsx)("span",{className:Le.a.logReason,children:"with reason"}),Object(_.jsx)("span",{className:Le.a.logReasonDetailed,children:t.reason}),Object(_.jsx)("span",{className:Le.a.logTime,children:n})]}):"moved"===r&&"server"===t.toPlayer?Object(_.jsxs)("div",{className:Le.a.logRow,children:[Object(_.jsxs)("svg",{className:Le.a.logIcon,viewBox:"0 0 24 24",children:[Object(_.jsx)("path",{fill:"currentColor",d:"M15,19L9,16.89V5L15,7.11M20.5,3C20.44,3 20.39,3 20.34,3L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21C3.55,21 3.61,21 3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3Z"}),"                "]}),Object(_.jsx)("span",{className:Le.a.logAdmin,children:t.adminName}),Object(_.jsx)("span",{className:Le.a.logAction,children:t.reason}),Object(_.jsx)("span",{className:Le.a.logReasonDetailed}),Object(_.jsx)("span",{className:Le.a.logTime,children:n})]}):Object(_.jsxs)("div",{className:Le.a.logRow,children:[Object(_.jsx)("svg",{className:Le.a.logIcon,viewBox:"0 0 24 24",children:Object(_.jsx)("path",{fill:"currentColor",d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"})}),Object(_.jsx)("span",{className:Le.a.logAdmin,children:t.adminName}),Object(_.jsx)("span",{className:Le.a.logAction,children:r}),Object(_.jsx)("span",{className:Le.a.logPlayer,children:t.toPlayer}),Object(_.jsx)("span",{className:Le.a.logReason,children:""===t.reason?"without any reason":"with reason"}),Object(_.jsx)("span",{className:Le.a.logReasonDetailed,children:t.reason}),Object(_.jsx)("span",{className:Le.a.logTime,children:n})]})}function Fe(){return Object(_.jsx)("div",{className:Le.a.logRow})}function Ke(e){var t=e.sid,r=Object(p.a)("serverVipList"+t,(function(){return y.getVipList({sid:t})})),a=r.isError,c=r.data,s=r.error,i=Object(n.useState)(""),o=Object(T.a)(i,2),u=o[0],l=o[1];return c?a?"Error ".concat(s.code,": {error.message}"):Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:Le.a.VipHeader,children:[Object(_.jsx)(X,{name:"Search..",callback:function(e){return l(e.target.value)}}),Object(_.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(_.jsxs)("h5",{style:{marginBottom:0},children:["List of VIP players on this server.",Object(_.jsx)("br",{}),"Used ",Object(_.jsxs)("b",{children:[c.data.length," slots out of 50"]}),"."]})})]}),Object(_.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginTop:"8px"},children:Object(_.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[Object(_.jsx)("thead",{style:{position:"sticky",top:"0"},children:Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{children:"Player name"}),Object(_.jsx)("th",{children:"Player id"})]})}),Object(_.jsx)("tbody",{children:c.data.filter((function(e){return e.displayName.includes(u)})).map((function(e,t){return Object(_.jsx)(Ze,{player:e},t)}))})]})})]}):"Loading.."}function Ze(e){var t=e.player;return Object(_.jsxs)("tr",{className:Le.a.VipRow,children:[Object(_.jsxs)("td",{title:t.displayName,className:Le.a.VipName,children:[Object(_.jsx)("div",{className:Le.a.VipRowImg,children:Object(_.jsx)("img",{src:t.avatar,alt:""})}),Object(_.jsx)("span",{children:t.displayName})]}),Object(_.jsx)("td",{title:"Player ID",children:t.id})]})}function Ye(){var e=Object(p.a)("user",(function(){return y.user})),t=e.error,r=e.data,n=e.isLoading,a="";if(t||n||!r){if(t&&!n)return Object(_.jsx)(l.a,{to:"/"})}else{if(!r.auth.signedIn)return Object(_.jsx)(l.a,{to:"/"});a=Object(_.jsx)(fe,{discord:r.discord})}return Object(_.jsxs)(ce,{children:[Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Account"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Discord Profile"}),a]})]}),Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Permissions"}),Object(_.jsx)(ue,{children:"Administrator"}),Object(_.jsx)(ue,{children:"Server owner"}),Object(_.jsx)(ue,{children:"System administrator"})]})]})]})}function ze(){var e=Object(p.a)("devGroups",(function(){return y.getDevGroups()})),t=e.isLoading,r=e.isError,n=e.data,a=[];if(t||r||!n){if(r)return Object(_.jsx)(l.a,{to:"/"})}else n.data.map((function(e,t){a.push(Object(_.jsx)(ye,{group:e},t))}));return Object(_.jsxs)(ce,{children:[Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Developer Options"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"List of Groups"}),a,Object(_.jsx)(q,{children:Object(_.jsx)(z,{name:"Add new Group",to:"/group/new/"})})]})]}),Object(_.jsx)(ae,{})]})}var qe=r(48),Xe=r(18);function We(e){var t,r,a=e.match.params.sid,c=Object(u.b)(),s=Object(p.a)("server"+a,(function(){return y.getServer(a)})),i=(s.isError,s.data),o=Object(p.a)("serverGame"+a,(function(){return y.getServerGame(a)})),l=o.isError,d=o.data,j="",b=!1,f=Object(n.useState)(""),v=Object(T.a)(f,2),O=v[0],g=v[1],x=Object(n.useState)({name:"Add Vip",status:!1}),w=Object(T.a)(x,2),k=w[0],S=w[1],N=Object(n.useState)({name:"Remove Vip",status:!1}),C=Object(T.a)(N,2),D=C[0],M=C[1],B=Object(n.useState)({name:"Unban",status:!1}),I=Object(T.a)(B,2),G=I[0],P=I[1],L=Object(n.useState)("info"),R=Object(T.a)(L,2),V=R[0],E=R[1],Q=Object(A.a)((function(e){return y.unbanPlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P({name:"Pending..",status:!0}),e.abrupt("return",{status:G});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){P(n.status)}}),H=Object(A.a)((function(e){return y.removeVip(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({name:"Pending..",status:!0}),e.abrupt("return",{status:D});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){M(n.status)}}),U=Object(A.a)((function(e){return y.addVip(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({name:"Pending..",status:!0}),e.abrupt("return",{status:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){S(n.status)}}),J=Object(A.a)((function(e){return y.movePlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.team,a=t.name,e.next=3,c.cancelQueries("serverGame"+r);case 3:return s=c.getQueryData("serverGame"+r),c.setQueryData("serverGame"+r,(function(e){return"1"===n?(e.data[0].players[1].players.push(e.data[0].players[0].players.find((function(e){return e.name===a}))),e.data[0].players[0].players=e.data[0].players[0].players.filter((function(e){return e.name!==a}))):(e.data[0].players[0].players.push(e.data[0].players[1].players.find((function(e){return e.name===a}))),e.data[0].players[1].players=e.data[0].players[1].players.filter((function(e){return e.name!==a}))),e})),e.abrupt("return",{previousGroup:s,sid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){c.setQueryData("serverGame"+r.sid,r.previousGroup)},onSettled:function(e,t,r,n){}}),F=[{name:"Current game",callback:function(){return E("info")}},{name:"Ban list",callback:function(){return E("banlist")}},{name:"Vip players",callback:function(){return E("viplist")}},{name:"Logs",callback:function(){return E("loglist")}},{name:"Server Protection",callback:function(){return E("protection")}},{name:"Settings",callback:function(){return E("settings")}}],K={info:Object(_.jsx)(Te,{children:Object(_.jsx)(Ve,{game:d,rotate:function(e){return y.changeRotation({sid:a,map:e})}})}),banlist:Object(_.jsx)(Qe,{sid:a}),viplist:Object(_.jsx)(Ke,{sid:a}),loglist:Object(_.jsx)(Ue,{sid:a}),protection:Object(_.jsx)(_.Fragment,{children:Object(_.jsx)($e,{server:i,sid:a})}),settings:Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(et,{server:i,sid:a})})};t=Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(le,{buttons:F,children:K[V]})})});var Z=!1;if(!l&&d&&!("error"in d.data[0].players[0])){Z="Operations"===d.data[0].info.mode;var W=d.data[0].players[0].players.find((function(e){return e.name===O})),$=d.data[0].players[1].players.find((function(e){return e.name===O}));void 0!==W?r="1":void 0!==$&&(r="2");b=""!==O&&(void 0!==W||void 0!==$);j=Object(_.jsxs)(ce,{children:[Object(_.jsx)(ae,{children:Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Team 1"}),Object(_.jsx)(Ee,{game:d,team:"0",sid:a,onMove:J,giveVip:U,removeVip:H})]})}),Object(_.jsx)(ae,{children:Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Team 2"}),Object(_.jsx)(Ee,{game:d,team:"1",sid:a,onMove:J,giveVip:U,removeVip:H})]})})]})}return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Server panel"})})})}),t,Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Console"}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{name:"Player name",callback:function(e){return g(e.target.value)},style:{marginRight:12}}),Object(_.jsxs)(q,{children:[Object(_.jsx)(z,{disabled:""===O,name:"Kick",to:"/server/".concat(a,"/kick/").concat(O,"/")}),Object(_.jsx)(Y,{disabled:!b,name:"Move",callback:function(e){return J.mutate({sid:a,team:r,name:O})}}),Object(_.jsx)(z,{disabled:""===O,name:"Ban",to:"/server/".concat(a,"/ban/").concat(O,"/")}),Object(_.jsx)(Y,{disabled:""===O||G.status,name:G.name,callback:function(e){return Q.mutate({sid:a,name:O,reason:""})}}),Object(_.jsx)(Y,{disabled:""===O||k.status||Z,name:k.name,callback:function(e){return U.mutate({sid:a,name:O,reason:""})}}),Object(_.jsx)(Y,{disabled:""===O||D.status||Z,name:D.name,callback:function(e){return H.mutate({sid:a,name:O,reason:""})}})]})]})]})})}),j]})}function $e(e){var t=!1;e.server&&(t=!0);var r=Object(u.b)(),a=Object(n.useState)(!1),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(null),l=Object(T.a)(o,2),d=l[0],j=l[1],p=Object(n.useState)(!1),b=Object(T.a)(p,2),f=b[0],v=b[1],O=Object(n.useState)(null),g=Object(T.a)(O,2),x=g[0],w=g[1];Object(n.useEffect)((function(){if(e.server){var t=e.server,r=t.autoBanKick,n=t.autoBfbanKick,a=t.autoGlobalBanMessage,c=t.autoPingKick,s={autoBanKick:r,autoBfbanKick:n,autoGlobalBanMessage:a,autoPingKick:c,autoPingKickMessage:t.autoPingKickMessage};if(null===d)j(s),i(0!==c);else{var o=!1;for(var u in s)o|=d[u]!==s[u];0===d.autoPingKick&&i(!1),v(o)}}}),[e.server,d]);var k=function(e){j((function(t){return Object(Xe.a)(Object(Xe.a)({},t),e)}))},S=Object(A.a)((function(t){return y.editServer({value:t,sid:e.sid})}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!1),setTimeout((function(e){return w(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("server"+e.sid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),N=function(t){return e.server&&t in e.server?e.server[t]:""};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{style:{marginLeft:"20px"},children:"Auto server protection"}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Introducing new tools developed to protect your servers against hackers.",Object(_.jsx)("br",{}),"Global Virtual Ban list auto-kicks players on ",Object(_.jsx)("b",{children:"all group servers"})," providing",Object(_.jsx)("br",{}),"infinity amount of ban slots and synchronized ban list."]}),Object(_.jsx)($,{checked:N("autoBanKick"),name:"Enable Global V-Ban",callback:function(e){return k({autoBanKick:e})}}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["This msg appear to users who got ",Object(_.jsx)("br",{}),"auto-kicked by V-Ban Global system."]}),Object(_.jsx)(X,{disabled:!t||d&&!d.autoBanKick,callback:function(e){return k({autoGlobalBanMessage:e.target.value})},defaultValue:N("autoGlobalBanMessage"),name:"V-Ban message"}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Protect server agains known cheaters in ",Object(_.jsx)("i",{children:"bfban.com"})]}),Object(_.jsx)($,{checked:N("autoBfbanKick"),name:"Enable BFBan Anti Cheat",callback:function(e){return k({autoBfbanKick:e})}}),Object(_.jsx)("h5",{style:{marginTop:"8px"},children:"Auto kick players with constant high ping"}),Object(_.jsx)($,{checked:s,name:"Kick on high ping",callback:function(e){i(e),k(e?{autoPingKick:200}:{autoPingKick:0})}}),Object(_.jsx)(X,{type:"number",disabled:!t||!s,callback:function(e){console.log(e.target.value),e.target.value<0||""!==e.target.value&&k({autoPingKick:parseInt(e.target.value)})},value:d?d.autoPingKick:"",name:"High ping value"}),Object(_.jsx)(X,{disabled:!t||!s,callback:function(e){return k({autoPingKickMessage:e.target.value})},defaultValue:N("autoPingKickMessage"),name:"Auto ping msg"}),e.server&&f?Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Apply changes",disabled:!t||null!==x,callback:function(e){return S.mutate(d)},status:x})}):""]})}function et(e){var t=!1;e.server&&(t=!0);var r=Object(u.b)(),a=Object(n.useState)(null),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!1),l=Object(T.a)(o,2),d=l[0],j=l[1],p=Object(n.useState)(null),b=Object(T.a)(p,2),f=b[0],v=b[1],O=Object(n.useState)({code:0,message:"Unknown"}),g=Object(T.a)(O,2),x=g[0],w=g[1];Object(n.useEffect)((function(){if(e.server){var t=e.server,r={serverName:t.serverName,serverAlias:t.serverAlias};if(null===s)i(r);else{var n=!1;for(var a in r)n|=s[a]!==r[a];j(n)}}}),[e.server,s]);var k=function(e){i((function(t){return Object(Xe.a)(Object(Xe.a)({},t),e)}))},S=Object(A.a)((function(t){return y.editServer({value:t,sid:e.sid})}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!1),w(t),setTimeout((function(e){return v(null)}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("server"+e.sid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),N=function(t){return e.server&&t in e.server?e.server[t]:""};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{style:{marginLeft:"20px"},children:"Server settings"}),Object(_.jsx)("h5",{style:{marginTop:"8px"},children:"Change Server Name"}),Object(_.jsx)(X,{disabled:!t,callback:function(e){return k({serverName:e.target.value})},defaultValue:N("serverName"),name:"Server Name"}),Object(_.jsx)("h5",{style:{marginTop:"8px"},children:"Alias to use with a Discord bot. (Can be a server number, for example)"}),Object(_.jsx)(X,{disabled:!t,callback:function(e){return k({serverAlias:e.target.value})},defaultValue:N("serverAlias"),name:"Alias"}),e.server&&d?Object(_.jsxs)(q,{children:[Object(_.jsx)(Y,{name:"Apply changes",disabled:!t||null!==f,callback:function(e){return S.mutate(s)},status:f}),Object(_.jsxs)("h5",{style:{marginBottom:0,alignSelf:"center",opacity:!1===f?1:0},children:["Error ",x.code,": ",x.message]})]}):""]})}function tt(e){var t=e.sid,r=e.eaid,a=Object(n.useState)(""),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(u.b)(),d=Object(A.a)((function(e){return y.kickPlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.eaid,t.reason,e.next=3,o.cancelQueries("serverGame"+r);case 3:return a=o.getQueryData("serverGame"+r),o.setQueryData("serverGame"+r,(function(e){return e.data[0].players[0].players=e.data[0].players[0].players.filter((function(e){return e.name!==n})),e.data[0].players[1].players=e.data[0].players[1].players.filter((function(e){return e.name!==n})),e})),e.abrupt("return",{previousGroup:a,sid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){o.setQueryData("serverGame"+r.sid,r.previousGroup)},onSettled:function(e,t,r,n){}}),j=Object(l.g)();return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Kick player"})}),Object(_.jsxs)(oe,{children:[Object(_.jsxs)("h2",{children:["You are going to kick player ",e.eaid]}),Object(_.jsx)(X,{name:"Reason",callback:function(e){return i(e.target.value)}}),Object(_.jsxs)(q,{children:[Object(_.jsx)(z,{name:"Go back",to:"/server/".concat(e.sid,"/")}),Object(_.jsx)(Y,{name:"Kick him!",disabled:""===s,callback:function(){d.mutate({sid:t,eaid:r,reason:s,playername:e.eaid}),j.push("/server/".concat(e.sid,"/"))}})]})]})]})})}function rt(e){var t=e.sid,r=e.eaid,a=Object(l.g)(),c=Object(n.useState)(""),s=Object(T.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(0),d=Object(T.a)(u,2),j=d[0],b=d[1],f=Object(n.useState)(!1),v=Object(T.a)(f,2),O=v[0],g=v[1],x=Object(n.useState)(null),w=Object(T.a)(x,2),k=w[0],S=w[1],N=Object(n.useState)({code:0,message:"Unknown"}),C=Object(T.a)(N,2),D=C[0],M=C[1],B=Object(p.a)("user",(function(){return y.user})),I=B.isError,G=B.data,P=Object(A.a)((function(e){return y.banPlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e){S(!1),M(e),setTimeout((function(e){return S(null)}),3e3)},onSuccess:function(){S(null),a.push("/server/".concat(e.sid," /"))}}),L=Object(A.a)((function(e){return y.globalBanPlayer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e){S(!1),M(e),setTimeout((function(e){return S(null)}),3e3)},onSuccess:function(){S(null)}}),R=null;G&&G.permissions.isAdminOf.map((function(e){var r,n=Object(qe.a)(e.servers);try{for(n.s();!(r=n.n()).done;){r.value===t&&(R=e.id)}}catch(a){n.e(a)}finally{n.f()}}));var V=""===i||j<0||null!==k||I||!G||null==R;return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Ban player"})}),Object(_.jsxs)(oe,{children:[Object(_.jsxs)("h2",{style:{marginLeft:"20px"},children:["You are going to ban player ",e.eaid]}),Object(_.jsx)("h5",{children:"Enter a reason to ban this player."}),Object(_.jsx)(X,{name:"Reason",callback:function(e){return o(e.target.value)}}),Object(_.jsx)($,{value:O,name:"Use Virtual Ban instead of classic ban list",callback:function(e){return g(e)}}),Object(_.jsxs)("h5",{children:["If you want to temporary ban him, specify time in",Object(_.jsx)("br",{})," hours below, or leave it 0 to make permament ban.",Object(_.jsx)("br",{}),"Not supported yet by V-Ban."]}),Object(_.jsx)(X,{type:"number",name:"Ban time",defaultValue:0,callback:function(e){return b(e.target.value)},disabled:O}),Object(_.jsxs)(q,{children:[Object(_.jsx)(z,{name:"Go back",to:"/server/".concat(e.sid,"/"),style:{maxWidth:"143px"}}),Object(_.jsx)(Y,{name:"Ban!",style:{maxWidth:"144px"},disabled:V,callback:function(){O?L.mutate({gid:R,reason:i,name:e.eaid}):P.mutate({sid:t,eaid:r,reason:i,name:e.eaid,time:j})},status:k}),Object(_.jsxs)("h5",{style:{marginBottom:0,alignSelf:"center",opacity:!1===k?1:0},children:["Error ",D.code,": ",D.message]})]})]})]})})}function nt(e){var t=e.match.params,r=t.eaid,n=t.action,a=t.sid;return"kick"===n?Object(_.jsx)(tt,{eaid:r,sid:a}):"ban"===n?Object(_.jsx)(rt,{eaid:r,sid:a}):Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(be,{children:Object(_.jsxs)("h2",{children:["Uh? Method ",n," is not allowed.."]})})})})}var at=r(44),ct=Object(_.jsx)("svg",{viewBox:"0 0 24 24",style:{width:"16px"},children:Object(_.jsx)("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})});function st(e){var t=e.match.params.gid,r=Object(u.b)(),a=Object(p.a)("groupId"+t,(function(){return y.getGroup(t)}),{staleTime:3e4}),c=a.error,s=a.data,i=Object(p.a)("user",(function(){return y.user})),o=i.error,d=i.data,j=Object(A.a)((function(e){return y.removeGroupAdmin(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.uid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),new Date(Date.now()).toUTCString(),r.setQueryData("groupId"+n,(function(e){return e.data[0].admins=e.data[0].admins.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),b=Object(A.a)((function(e){return y.removeServer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.sid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),r.setQueryData("groupId"+n,(function(e){return e.data[0].servers=e.data[0].servers.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),f=Object(A.a)((function(e){return y.removeGroupOwner(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.uid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),new Date(Date.now()).toUTCString(),r.setQueryData("groupId"+n,(function(e){return e.data[0].owners=e.data[0].owners.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),v=s&&s.data&&s.data.length>0?s.data[0]:null,O=Object(n.useState)("servers"),g=Object(T.a)(O,2),x=g[0],w=g[1],k=Object(n.useState)("account"),S=Object(T.a)(k,2),N=S[0],C=S[1],D={owners:Object(_.jsx)(ut,{group:v,user:d,gid:t,onDelete:f}),admins:Object(_.jsx)(it,{group:v,user:d,gid:t,onDelete:j}),servers:Object(_.jsx)(ot,{group:v,user:d,gid:t,onDelete:b}),vbanlist:Object(_.jsx)(_e,{user:d,gid:t}),grouplogs:Object(_.jsx)(Ne,{gid:t})},M={account:Object(_.jsx)(lt,{gid:t,user:d,group:v}),discord:Object(_.jsx)(dt,{gid:t,user:d,group:v}),danger:Object(_.jsx)(jt,{gid:t,user:d,group:v})},B=[{name:"Servers",callback:function(){return w("servers")}},{name:"Admins",callback:function(){return w("admins")}},{name:"Owners",callback:function(){return w("owners")}},{name:"VBan list",callback:function(){return w("vbanlist")}},{name:"Group logs",callback:function(){return w("grouplogs")}}],I=[{name:"Server account",callback:function(){return C("account")}},{name:"Discord integration",callback:function(){return C("discord")}},{name:"Danger zone",callback:function(){return C("danger")}}];return c||o||s&&s.data&&0===s.data.length?Object(_.jsx)(l.a,{to:"/"}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Group"})})})}),Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsxs)(oe,{children:[Object(_.jsxs)("h2",{children:["Group name - ",v?v.groupName:"pending.."]}),Object(_.jsxs)("p",{style:{marginBottom:0},children:["Identity ",t]})]})})}),Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(le,{buttons:I,children:M[N]})})}),Object(_.jsx)(ce,{children:Object(_.jsx)(ae,{children:Object(_.jsx)(le,{buttons:B,children:D[x]})})})]})}function it(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r;return e.group&&(r=Object(at.a)(e.group.admins)).sort((function(e,t){return Date.parse(t.addedAt)-Date.parse(e.addedAt)})),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h5",{children:["Admin role can manage servers. You need to have at least ",Object(_.jsx)("br",{}),"Owner role to add new admins."]}),e.group?r.map((function(r,n){return Object(_.jsx)(ve,{user:r,button:Object(_.jsx)(W,{name:"Delete",disabled:!t,content:ct,vars:{gid:e.gid,uid:r.id},callback:e.onDelete.mutate})},n)})):[1,1,1].map((function(e,t){return Object(_.jsx)(Oe,{},t)})),Object(_.jsx)(q,{children:t?Object(_.jsx)(z,{name:"Add Admin",to:"/group/"+e.gid+"/add/admin"}):Object(_.jsx)(Y,{disabled:!0,name:"Not allowed",content:"Add Admin"})})]})}function ot(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h5",{children:["Servers instances added to current group. You need to have ",Object(_.jsx)("br",{}),"Owner role in order to add new servers."]}),e.group?e.group.servers.map((function(r,n){return Object(_.jsx)(we,{server:r,button:Object(_.jsx)(W,{name:"Delete",content:ct,disabled:!t,vars:{gid:e.gid,sid:r.id},callback:e.onDelete.mutate})},n)})):[1,1,1].map((function(e,t){return Object(_.jsx)(Oe,{},t)})),Object(_.jsx)(q,{children:t?Object(_.jsx)(z,{name:"Add Server",to:"/group/"+e.gid+"/add/server"}):Object(_.jsx)(Y,{disabled:!0,name:"Not allowed",content:"Add Server"})})]})}function ut(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r;return e.group&&(r=Object(at.a)(e.group.owners)).sort((function(e,t){return Date.parse(t.addedAt)-Date.parse(e.addedAt)})),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h5",{children:["List of current group Owners. This role can add new Servers, ",Object(_.jsx)("br",{}),"Admins and other owners. Be carefull with it!"]}),r?r.map((function(r,n){return Object(_.jsx)(ve,{user:r,button:Object(_.jsx)(W,{name:"Delete",content:ct,disabled:!t,vars:{gid:e.gid,uid:r.id},callback:e.onDelete.mutate})},n)})):[1,1,1].map((function(e,t){return Object(_.jsx)(Oe,{},t)})),Object(_.jsx)(q,{children:t?Object(_.jsx)(z,{name:"Add Owner",to:"/group/"+e.gid+"/add/owner"}):Object(_.jsx)(Y,{disabled:!0,name:"Not allowed",content:"Add Owner"})})]})}function lt(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(u.b)(),a=Object(n.useState)(""),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),l=Object(T.a)(o,2),d=l[0],j=l[1],p=Object(n.useState)(null),b=Object(T.a)(p,2),f=b[0],v=b[1];Object(n.useEffect)((function(){e.group&&(d!==e.group.cookie.remid&&j(e.group.cookie.remid),s!==e.group.cookie.sid&&i(e.group.cookie.sid))}),[e.group]);var O=Object(A.a)((function(e){return y.editGroup(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!1),setTimeout((function(e){return v(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("h5",{style:{marginTop:"0px"},children:["Account manager, that will administrate your servers.",Object(_.jsx)("br",{}),"These cookies can be found at ",Object(_.jsx)("i",{children:"accounts.ea.com"})]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{type:"password",disabled:!t,callback:function(e){return j(e.target.value)},defaultValue:d,name:"Remid"}),Object(_.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Reminder cookies"})]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{type:"password",disabled:!t,callback:function(e){return i(e.target.value)},defaultValue:s,name:"Sid"}),Object(_.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Session cookies"})]}),!e.group||s===e.group.cookie.sid&&d===e.group.cookie.remid?"":Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Apply",disabled:!t||null!==f,callback:function(t){return O.mutate({gid:e.gid,value:{cookie:{sid:s,remid:d}}})},status:f})})]})}function dt(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(u.b)(),a=Object(n.useState)(""),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),l=Object(T.a)(o,2),d=l[0],j=l[1],p=Object(n.useState)(""),b=Object(T.a)(p,2),f=b[0],v=b[1],O=Object(n.useState)(null),g=Object(T.a)(O,2),x=g[0],w=g[1];Object(n.useEffect)((function(){e.group&&(f!==e.group.discordGroupId&&v(e.group.discordGroupId),d!==e.group.discordModRoleId&&j(e.group.discordModRoleId),s!==e.group.discordAdminRoleId&&i(e.group.discordAdminRoleId))}),[e.group]);var k=Object(A.a)((function(e){return y.editGroup(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!1),setTimeout((function(e){return w(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ke,{}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["With our bot, you can allow admins to controll your servers",Object(_.jsx)("br",{})," by using commands with ! prefix."]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{disabled:!t,callback:function(e){return v(e.target.value)},defaultValue:f,name:"Discord Server"}),Object(_.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Your server Discord ID"})]}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Every person with that role id can use",Object(_.jsx)("br",{})," discord commands to contol the server."]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{disabled:!t,callback:function(e){return i(e.target.value)},defaultValue:s,name:"Admin Discord ID"}),Object(_.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Id of Admin role"})]}),Object(_.jsxs)(ce,{children:[Object(_.jsx)(X,{disabled:!t,callback:function(e){return j(e.target.value)},defaultValue:d,name:"Mod DIscord ID"}),Object(_.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Id of Moderator role, moderators can only kick players"})]}),!e.group||f===e.group.discordGroupId&&d===e.group.discordModRoleId&&s===e.group.discordAdminRoleId?"":Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Apply",disabled:!t||null!==x,callback:function(t){return k.mutate({gid:e.gid,value:{discordGroupId:f,discordModRoleId:d,discordAdminRoleId:s}})},status:x})})]})}function jt(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(u.b)(),a=Object(n.useState)(""),c=Object(T.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(null),l=Object(T.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){e.group&&s!==e.group.groupName&&i(e.group.groupName)}),[e.group]);var p=Object(A.a)((function(e){return y.editGroup(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!1),setTimeout((function(e){return j(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(m.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h5",{style:{marginTop:"0px"},children:"You can change the name of current Group."}),Object(_.jsx)(X,{disabled:!t,callback:function(e){return i(e.target.value)},defaultValue:s,name:"Group name"}),e.group&&s!==e.group.groupName?Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Apply changes",disabled:!t||null!==d,callback:function(t){return p.mutate({gid:e.gid,value:{groupName:s}})},status:d})}):"",Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Once you delete a group, it will remove all the servers,",Object(_.jsx)("br",{})," server account and users used in it."]}),Object(_.jsx)(q,{children:Object(_.jsx)(z,{style:{color:"#FF7575"},name:"Delete Group",to:"/group/".concat(e.gid,"/delete/"),disabled:!t})})]})}function pt(e){var t=e.match.params.gid,r="",n="",a=Object(u.b)(),c=Object(A.a)((function(e){return y.addGroupOwner(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,c=t.nickname,e.next=3,a.cancelQueries("groupId"+r);case 3:return s=a.getQueryData("groupId"+r),i=new Date(Date.now()).toUTCString(),a.setQueryData("groupId"+r,(function(e){return e.data[0].owners.push({id:n,name:c,addedAt:i}),e.data[0].admins.push({id:n,name:c,addedAt:i}),e})),e.abrupt("return",{previousGroup:s,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){a.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){a.invalidateQueries("groupId"+n.gid)}}),s=Object(l.g)();return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Add new Owner"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Group Owner"}),Object(_.jsx)(X,{name:"Nickname (any, will be auto-updated)",callback:function(e){r=e.target.value}}),Object(_.jsx)(X,{name:"Discord UID",callback:function(e){n=e.target.value}}),Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Add Owner",callback:function(){c.mutate({gid:t,uid:n,nickname:r}),s.push("/group/"+t)}})})]})]})})}function bt(e){var t=e.match.params.gid,r=Object(n.useState)({uid:"",nickname:"",canAdd:!1}),a=Object(T.a)(r,2),c=a[0],s=a[1],i=Object(u.b)(),o=Object(A.a)((function(e){return y.addGroupAdmin(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,a,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,i.cancelQueries("groupId"+r);case 3:return c=i.getQueryData("groupId"+r),s=new Date(Date.now()).toUTCString(),i.setQueryData("groupId"+r,(function(e){return e.data[0].admins.push({id:n,name:a,addedAt:s}),e})),e.abrupt("return",{previousGroup:c,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){i.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){i.invalidateQueries("groupId"+n.gid)}}),d=function(e){var t=Object(Xe.a)(Object(Xe.a)({},c),e);t.canAdd=""!==t.uid,s(t)},j=Object(l.g)();return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Add new Admin"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Group Admin"}),Object(_.jsx)(X,{name:"Nickname (any, will be auto-updated)",callback:function(e){return d({nickname:e.target.value})}}),Object(_.jsx)(X,{name:"Discord UID",callback:function(e){return d({uid:e.target.value})}}),Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Add Admin",disabled:!c.canAdd,callback:function(){o.mutate({gid:t,uid:c.uid,nickname:c.nickname}),j.push("/group/"+t)}})})]})]})})}function ht(e){var t=Object(n.useState)({variables:{groupName:"",discordId:"",adminRole:"",modRole:"",remid:"",sid:""},roleDisplay:!1,canAdd:!1}),r=Object(T.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(null),i=Object(T.a)(s,2),o=i[0],d=i[1],j=Object(n.useState)({code:0,message:"Unknown"}),p=Object(T.a)(j,2),b=p[0],f=p[1],v=Object(u.b)(),O=Object(l.g)(),g=Object(A.a)((function(e){return y.addGroup(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,v.cancelQueries("devGroups");case 3:return e.abrupt("return",{});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(null),O.push("/");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t),d(!1),setTimeout((function(e){return d(null)}),2e3);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSettled:function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.refetchQueries("devGroups");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),x=function(e){var t=Object(Xe.a)(Object(Xe.a)({},a),{},{variables:Object(Xe.a)(Object(Xe.a)({},a.variables),e)}),r=t.variables;t.roleDisplay=""!==r.discordId,t.canAdd=r.remid.length>1&&r.sid.length>1&&r.groupName.length>2,c(t)};return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Create new Group"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h5",{children:"Create a new group to manage your community servers"}),Object(_.jsx)(X,{name:"Name",callback:function(e){x({groupName:e.target.value})}}),Object(_.jsx)("h5",{style:{marginTop:"8px"},children:"Optionaly, you can add your discord server, to integrate server tools"}),Object(_.jsx)(X,{name:"Discord Server ID",callback:function(e){x({discordId:e.target.value})}}),Object(_.jsx)(X,{name:"Mod role ID",disabled:!a.roleDisplay,callback:function(e){x({modRole:e.target.value})}}),Object(_.jsx)(X,{name:"Admin role ID",disabled:!a.roleDisplay,callback:function(e){x({adminRole:e.target.value})}}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Every group need to be assigned special account with certain requirments: ",Object(_.jsx)("br",{}),"It should be a BF1 server moderator (owner access not required)",Object(_.jsx)("br",{}),"This account shouldn't be used anywhere else, otherwise it will lead in errors",Object(_.jsx)("br",{})]}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Session cookies can be found at ",Object(_.jsx)("i",{children:"accounts.ea.com"})]}),Object(_.jsx)(X,{name:"SID cookie",type:"password",callback:function(e){x({sid:e.target.value})}}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["Reminder session cookies can be found at ",Object(_.jsx)("i",{children:"accounts.ea.com"})]}),Object(_.jsx)(X,{name:"REMID cookie",type:"password",callback:function(e){x({remid:e.target.value})}}),Object(_.jsxs)("h5",{style:{marginTop:"8px"},children:["By pressing this button, you agree to give ",Object(_.jsx)("br",{}),"server manager tool access to the account."]}),Object(_.jsxs)(q,{children:[Object(_.jsx)(Y,{name:"Create group",disabled:!a.canAdd||null!==o,status:o,callback:function(){return g.mutate(a.variables)}}),Object(_.jsxs)("h5",{style:{marginBottom:0,alignSelf:"center",opacity:!1===o?1:0},children:["Error ",b.code,": ",b.message]})]})]})]})})}function mt(e){var t=e.match.params.gid,r=Object(u.b)(),n=Object(l.g)(),a=Object(A.a)((function(e){return y.removeGroup(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,e.next=3,r.cancelQueries("devGroups");case 3:return a=r.getQueryData("devGroups"),r.setQueryData("devGroups",(function(e){return e&&(e.data=e.data.filter((function(e){return e.id!==n}))),e})),e.abrupt("return",{previousGroups:a,gid:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("devGroups",n.previousGroups)},onSettled:function(e,t,n,a){r.invalidateQueries("devGroups")}});return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Delete Group"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Danger zone"}),Object(_.jsx)("p",{children:"Are you sure you want to delete this group?"}),Object(_.jsxs)(q,{children:[Object(_.jsx)(z,{name:"Oh, no!",to:"/group/"+t}),Object(_.jsx)(Y,{name:"Yes, delete",callback:function(){a.mutate({gid:t}),n.push("/dev/")}})]})]})]})})}function ft(e){var t=e.match.params.gid,r="",n="",a=Object(u.b)(),c=Object(A.a)((function(e){return y.addGroupServer(e)}),{onMutate:function(){var e=Object(m.a)(h.a.mark((function e(t){var r,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.name,t.alias,e.next=3,a.cancelQueries("groupId"+r);case 3:return c=a.getQueryData("groupId"+r),s=new Date(Date.now()).toUTCString(),a.setQueryData("groupId"+r,(function(e){return e.data[0].servers.push({addedAt:s,id:null,name:n}),e})),e.abrupt("return",{previousGroup:c,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){a.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){a.invalidateQueries("groupId"+n.gid)}}),s=Object(l.g)();return Object(_.jsx)(ce,{children:Object(_.jsxs)(ae,{children:[Object(_.jsx)(be,{children:Object(_.jsx)("h2",{children:"Add new Server"})}),Object(_.jsxs)(oe,{children:[Object(_.jsx)("h2",{children:"Group Server"}),Object(_.jsx)(X,{name:"Server name",callback:function(e){r=e.target.value}}),Object(_.jsx)(X,{name:"Alias (optional)",callback:function(e){n=e.target.value}}),Object(_.jsx)(q,{children:Object(_.jsx)(Y,{name:"Add Server",callback:function(){c.mutate({gid:t,alias:n,name:r}),s.push("/group/"+t)}})})]})]})})}function vt(e){return Object(_.jsx)(_.Fragment,{})}function Ot(e){return Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{exact:!0,path:"/account/",component:Ye}),Object(_.jsx)(l.b,{exact:!0,path:"/server/:sid/",component:We}),Object(_.jsx)(l.b,{exact:!0,path:"/server/:sid/:action/:eaid/",component:nt}),Object(_.jsx)(l.b,{exact:!0,path:"/group/new/",component:ht}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/",component:st}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/add/server",component:ft}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/add/admin/",component:bt}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/add/owner/",component:pt}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/edit/",component:vt}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/logs/"}),Object(_.jsx)(l.b,{exact:!0,path:"/group/:gid/delete",component:mt}),Object(_.jsx)(l.b,{exact:!0,path:"/dev/",component:ze})]})}function gt(){var e=Object(p.a)("user",(function(){return y.user})),t=e.isError,r=e.data;return!e.isLoading&&!t&&r&&r.auth.signedIn?Object(_.jsx)(l.a,{to:"/account/"}):Object(_.jsx)(Ge,{})}var xt=r(14),yt=(Object(xt.b)(),"1.0.0");var wt=function(){var e=Object(l.h)();return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(i.b,{children:Object(_.jsxs)(l.d,{children:[Object(_.jsx)(l.b,{exact:!0,path:"/",component:gt}),Object(_.jsxs)(l.b,{children:[Object(_.jsx)(E,{}),Object(_.jsx)(d.a,{component:S,children:Object(_.jsx)(j.a,{classNames:"fade",timeout:200,children:Object(_.jsx)(N,{children:Object(_.jsx)(Ot,{})})},e.hash)})]})]})})})},kt=new o.a;s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(u.a,{client:kt,children:Object(_.jsx)(i.a,{children:Object(_.jsx)(wt,{})})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.1715b2c2.chunk.js.map