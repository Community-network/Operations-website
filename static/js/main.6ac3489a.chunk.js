(this["webpackJsonpOperations-website"]=this["webpackJsonpOperations-website"]||[]).push([[0],{11:function(e,t,r){e.exports={buttonRow:"Buttons_buttonRow__dKjZj",button:"Buttons_button__1VKNK",container:"Buttons_container__np2ep",dropdown:"Buttons_dropdown__13J8f",ul:"Buttons_ul__3tJo8",li:"Buttons_li__1sX4Q",TextInput:"Buttons_TextInput__35GbL",SmallButton:"Buttons_SmallButton__3rzhd",Switch:"Buttons_Switch__39fTc",SwitchActive:"Buttons_SwitchActive__2ViHx",SwitchInner:"Buttons_SwitchInner__3LnS9",SwitchHandle:"Buttons_SwitchHandle__2b8wJ",SwitchOff:"Buttons_SwitchOff__3Oaf-",SwitchOn:"Buttons_SwitchOn__1_Jsb",ChoosePageButton:"Buttons_ChoosePageButton__1-OpM",ChoosePageButtonActive:"Buttons_ChoosePageButtonActive__13GmV",ChoosePageButtonHolder:"Buttons_ChoosePageButtonHolder__VfFyz"}},17:function(e,t,r){e.exports={UserRow:"User_UserRow__1fzJH",Avatar:"User_Avatar__3XgeX",DiscordName:"User_DiscordName__j-kJJ",DiscordNum:"User_DiscordNum__odqe3",secure:"User_secure__ADMpb",UserRowSt:"User_UserRowSt__D7e-x",DiscordId:"User_DiscordId__CJ0BY",DateAdded:"User_DateAdded__1FZZj"}},19:function(e,t,r){e.exports={GroupRow:"Group_GroupRow__1Ew1c",GroupName:"Group_GroupName__3G6eX",gameStatsAd:"Group_gameStatsAd__2Eob_"}},22:function(e,t,r){e.exports={PageLink:"Sidebar_PageLink__3fxKj",PageButton:"Sidebar_PageButton__3ug-M",PageLinkActive:"Sidebar_PageLinkActive___nnPr",Sidebar:"Sidebar_Sidebar__c0TTh",Logo:"Sidebar_Logo__2HFo5",TopSidebar:"Sidebar_TopSidebar__BQCyG"}},35:function(e,t,r){e.exports={status:"Status_status__1LWe8",loadingIcon:"Status_loadingIcon__3owGX",Loading:"Status_Loading__v1uza",errorIcon:"Status_errorIcon__2HXFb",Shake:"Status_Shake__30h0w"}},36:function(e,t,r){e.exports={Column:"Flex_Column__3cQ9_",Row:"Flex_Row__3SC-0",Grow:"Flex_Grow__f7am0"}},37:function(e,t,r){e.exports={card:"Card_card__3F8np",CardRow:"Card_CardRow__1NbF3",PageCard:"Card_PageCard__3UgmB"}},40:function(e,t,r){e.exports={PageContainer:"PageContainer_PageContainer__1PlzU",PageColumn:"PageContainer_PageColumn__3Qegy"}},45:function(e,t,r){e.exports={Header:"Header_Header__3VoE2"}},54:function(e,t,r){},55:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r.n(a),s=r(25),i=r.n(s),o=r(12),u=r(69),d=r(31),l=r(10),j=r(71),p=r(68),b=(r(54),r(55),r(70)),h=r(2),m=r.n(h),f=r(5),v=r(29),O=r(30),x=r(47),g=r(46),y={dev:"https://homedev.gametools.network/api/",prod:"https://manager-api.gametools.network/api/"},w=new(function(e){Object(x.a)(r,e);var t=Object(g.a)(r);function r(){return Object(v.a)(this,r),t.call(this)}return Object(O.a)(r,[{key:"logout",value:function(){var e=this.logoutAndChangeUser();this.user=e}},{key:"logoutAndChangeUser",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchMethod("logout/");case 2:return e.next=4,this.getUserInfo();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kickPlayer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.playername,a=t.reason,e.next=3,this.postJsonMethod("changeplayer",{request:"kickPlayer",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeRotation",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.map,e.next=3,this.postJsonMethod("changelevel",{mapnumber:n,serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"banPlayer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.reason,a=t.time,c=t.sid,e.next=3,this.postJsonMethod("changeserver",{request:"addServerBan",playername:r,serverid:c,bantime:a.toString(),reason:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unbanPlayer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.reason,a=t.sid,e.next=3,this.postJsonMethod("changeserver",{request:"removeServerBan",playername:r,serverid:a,reason:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addVip",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.name,a=t.reason,e.next=3,this.postJsonMethod("changeserver",{request:"addServerVip",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeVip",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.name,a=t.reason,e.next=3,this.postJsonMethod("changeserver",{request:"removeServerVip",playername:n,serverid:r,reason:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"movePlayer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.team,a=t.name,e.next=3,this.postJsonMethod("moveplayer",{teamid:n,playername:a,serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBanList",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,e.next=3,this.getJsonMethod("infolist",{type:"bannedList",serverid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLogs",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("taillog");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDevGroups",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("devgroups");case 2:if(!("error"in(t=e.sent))){e.next=5;break}throw Error("Error on server.");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addGroup",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.groupName,n=t.discordId,a=t.modRole,c=t.adminRole,s=t.sid,i=t.remid,e.next=3,this.postJsonMethod("addgroup",{groupname:r,adminroleid:c,discordid:n,modroleid:a,remid:i,sid:s});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroup",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,e.next=3,this.postJsonMethod("delgroup",{groupId:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editGroup",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,t.type,n=t.value,e.next=3,this.postJsonMethod("editgroup",{groupid:r,values:n});case 3:if(!("error"in(a=e.sent))){e.next=6;break}throw new Error(a.error.message);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGroup",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("groups",{groupid:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupOwner",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,this.postJsonMethod("addowner",{userid:n,nickname:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupServer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.name,a=t.alias,e.next=3,this.postJsonMethod("addserver",{servername:n,serveralias:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addGroupAdmin",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,this.postJsonMethod("addadmin",{userid:n,nickname:a,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroupAdmin",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,e.next=3,this.postJsonMethod("deladmin",{userid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeGroupOwner",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,e.next=3,this.postJsonMethod("delowner",{userid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getServer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("server",{serverid:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getServerGame",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJsonMethod("servers",{serverid:t});case 2:if(!("error"in(r=e.sent).data[0])){e.next=7;break}throw Error(r.data[0].error);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeServer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.sid,e.next=3,this.postJsonMethod("delserver",{serverid:n,groupid:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renameServer",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,n=t.sid,e.next=3,this.postJsonMethod("renameserver",{serverid:n,servername:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeServerAlias",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.alias,a=t.sid,e.next=3,this.postJsonMethod("serveralias",{serverid:a,groupid:r,serveralias:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(function(){function e(){Object(v.a)(this,e),this.isWorking=!0,this.user=this.getUserInfo()}return Object(O.a)(e,[{key:"openLoginPage",value:function(){window.location=this.constructApiUrl("login")}},{key:"constructApiUrl",value:function(e,t){t=t||{};var r="";for(var n in t)r+=n+"="+t[n]+"&";return""!==r&&(r="?"+r),y.prod+e+r}},{key:"fetchMethod",value:function(){var e=Object(f.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.constructApiUrl(t,r),{credentials:"include"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"postMethod",value:function(){var e=Object(f.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.constructApiUrl(t,{}),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"postJsonMethod",value:function(){var e=Object(f.a)(m.a.mark((function e(t,r){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify(r),credentials:"include",headers:{"Content-Type":"application/json"}},e.next=3,this.postMethod(t,n).then((function(e){return e.json().then((function(e){return e}),(function(e){return{error:e}}))}),(function(e){return{error:e}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getJsonMethod",value:function(e,t){return this.fetchMethod(e,t).then((function(e){return e.json().then((function(e){return e}),(function(e){return{error:e}}))}),(function(e){return{error:e}}))}},{key:"getUserInfo",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={discord:{name:"",discriminator:0,avatar:""},auth:{inGuild:!1,isAdmin:!1,isDeveloper:!1,isOwner:!1,signedIn:!1}},e.next=3,this.getJsonMethod("getinfo");case 3:if((r=e.sent).hasOwnProperty("error")){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())),k=r(40),_=r.n(k);function S(e){return Object(n.jsx)("div",{className:_.a.PageContainer,children:e.children})}function D(e){return Object(n.jsx)("div",{className:_.a.PageColumn,children:e.children})}var N=r(72),I=r(22),G=r.n(I);function A(){return Object(n.jsx)("div",{className:G.a.TopSidebar,children:Object(n.jsx)(o.c,{to:"/",title:"Main page",children:Object(n.jsx)("img",{src:"/Comnet-logo.png",className:G.a.Logo})})})}function C(e){return Object(n.jsx)("div",{className:G.a.PageLink,children:Object(n.jsx)(o.d,{to:e.to,activeClassName:G.a.PageLinkActive,title:e.name,children:e.name})})}function M(e){return Object(n.jsx)("a",{className:G.a.PageButton,target:"_blank",rel:"noopener noreferrer",href:e.href,title:e.name,children:Object(n.jsx)("span",{onClick:e.onClick,children:e.name})})}function B(e){var t=Object(b.a)("user",(function(){return w.user})),r=t.error,a=t.data,c=t.isLoading,s="",i="",o="",u="",j=Object(l.g)(),p=Object(d.b)(),h=Object(N.a)((function(e){return w.logout()}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.cancelQueries("user");case 2:return r=p.getQueryData("user"),p.setQueryData("user",(function(e){return{discord:{name:"",discriminator:0,avatar:""},auth:{inGuild:!1,isAdmin:!1,isDeveloper:!1,isOwner:!1,signedIn:!1}}})),e.abrupt("return",{prevUser:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSettled:function(e,t,r,n){p.invalidateQueries("user")}});if(!r&&!c&&a&&a.auth.signedIn)for(var v in a.auth.isDeveloper&&(s=Object(n.jsx)(C,{to:"/dev/",name:"Developer Options"})),i=[Object(n.jsx)(C,{to:"/account/",name:"Account"},0),Object(n.jsx)(C,{to:"/group/new/",name:"Create Group"},1)],o=Object(n.jsx)(M,{onClick:function(){h.mutate({}),j.push("/")},name:"Logout"}),u=[],a.permissions.isAdminOf){var O=a.permissions.isAdminOf[v];u.push(Object(n.jsx)(C,{to:"/group/"+O.id,name:O.groupName},v))}return Object(n.jsxs)("div",{className:G.a.Sidebar,children:[Object(n.jsx)(A,{}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(n.jsxs)("div",{style:{display:"flex",flexGrow:2,flexDirection:"column"},children:[i,s,u]}),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"30px"},children:[Object(n.jsx)(M,{href:"https://discord.gametools.network/",name:"Need help?"}),o]})]})]})}var P=r(8),R=r(11),Q=r.n(R),L=r(35),T=r.n(L);function V(){return Object(n.jsx)("svg",{viewBox:"0 0 24 24",className:T.a.loadingIcon,children:Object(n.jsx)("path",{fill:"currentColor",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})})}function E(e){return Object(n.jsx)("svg",{viewBox:"0 0 24 24",className:T.a.errorIcon,children:Object(n.jsx)("path",{fill:"currentColor",d:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"})})}function J(e){return Object(n.jsx)("div",{className:T.a.status,children:void 0==e.status||null==e.status?"":e.status?Object(n.jsx)(V,{}):Object(n.jsx)(E,{})})}function U(e){var t={};return e.background_color&&(t.background=e.background_color),e.width&&(t.width=e.width),Object(n.jsxs)("button",{value:e.value,className:Q.a.button,disabled:e.disabled,onClick:e.callback,title:e.name,style:t,children:[e.name,Object(n.jsx)(J,{status:e.status})]})}function H(e){return e.disabled?Object(n.jsx)(U,{name:e.name,disabled:!0}):Object(n.jsx)(o.d,{style:e.style,className:Q.a.button,to:e.to,title:e.name,children:e.name})}function F(e){return Object(n.jsx)("div",{className:Q.a.buttonRow,children:e.children})}function K(e){return Object(n.jsx)("input",{defaultValue:e.defaultValue,className:Q.a.TextInput,disabled:e.disabled,style:e.style,type:e.type||"text",placeholder:e.name,onReset:e.callback,onChange:e.callback})}function q(e){return e.disabled?"":Object(n.jsx)("div",{className:Q.a.SmallButton,onClick:function(t){return e.callback(e.vars)},title:e.name,children:e.content||e.name})}function Y(e){var t=Object(a.useState)(e.checked||!1),r=Object(P.a)(t,2),c=r[0],s=r[1],i=c?Q.a.Switch:Q.a.SwitchActive,o=function(){var t=!c;s(t),e.callback&&e.callback(t)};return Object(n.jsxs)("div",{className:i,onClick:o,onKeyPress:function(e){13===e.charCode&&o()},role:"switch",tabindex:"1",children:[Object(n.jsxs)("span",{className:Q.a.SwitchInner,children:[Object(n.jsx)("span",{className:Q.a.SwitchOn}),Object(n.jsx)("span",{className:Q.a.SwitchOff})]}),Object(n.jsx)("span",{className:Q.a.SwitchHandle})]})}function Z(e){var t=Object(a.useState)(!1),r=Object(P.a)(t,2),s=r[0],i=r[1],o=c.a.useRef();return Object(a.useEffect)((function(){var e=function(e){o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}})),Object(n.jsxs)("div",{className:Q.a.container,ref:o,children:[Object(n.jsx)("button",{type:"button",className:Q.a.button,onClick:function(){return i(!s)},children:e.name}),s&&Object(n.jsx)("div",{className:Q.a.dropdown,children:Object(n.jsx)("ul",{className:Q.a.ul,children:e.options.map((function(e){return Object(n.jsx)("li",{className:Q.a.li,onClick:e.callback,children:e.name})}))})})]})}function z(e){var t=Object(a.useState)(0),r=Object(P.a)(t,2),c=r[0],s=r[1];return Object(n.jsx)("div",{className:Q.a.ChoosePageButtonHolder,children:e.buttons.map((function(e,t){return Object(n.jsx)("div",{className:t===c?Q.a.ChoosePageButtonActive:Q.a.ChoosePageButton,onClick:function(r){s(t),e.callback()},title:e.name,children:e.content||e.name},t)}))})}var X=r(36),W=r.n(X);function $(e){return Object(n.jsx)("div",{className:W.a.Column,children:e.children})}function ee(e){return Object(n.jsx)("div",{className:W.a.Row,children:e.children})}var te=r(37),re=r.n(te);function ne(e){return Object(n.jsx)("div",{className:re.a.card,style:e.style,children:e.children})}function ae(e){return Object(n.jsx)("span",{className:re.a.CardRow,children:e.children})}function ce(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(z,{buttons:e.buttons}),Object(n.jsx)("div",{className:re.a.PageCard,style:e.style,children:e.children})]})}var se=r(45),ie=r.n(se);function oe(e){return Object(n.jsx)("div",{className:ie.a.Header,children:e.children})}var ue=r(17),de=r.n(ue);function le(e){var t=e.discord;return Object(n.jsxs)("div",{className:de.a.UserRow,children:[Object(n.jsx)("img",{alt:"",src:t.avatar,className:de.a.Avatar}),Object(n.jsxs)("div",{className:de.a.DiscordName,children:[t.name,Object(n.jsx)("span",{className:de.a.DiscordNum,children:t.discriminator})]}),Object(n.jsxs)("div",{className:de.a.secure,children:[Object(n.jsx)("svg",{viewBox:"0 0 12 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{d:"M6 12C6.39782 12 6.77935 11.842 7.06066 11.5607C7.34196 11.2794 7.5 10.8978 7.5 10.5C7.5 9.6675 6.825 9 6 9C5.60217 9 5.22064 9.15804 4.93934 9.43934C4.65804 9.72065 4.5 10.1022 4.5 10.5C4.5 10.8978 4.65804 11.2794 4.93934 11.5607C5.22064 11.842 5.60217 12 6 12ZM10.5 5.25C10.8978 5.25 11.2794 5.40804 11.5607 5.68934C11.842 5.97065 12 6.35218 12 6.75V14.25C12 14.6478 11.842 15.0294 11.5607 15.3107C11.2794 15.592 10.8978 15.75 10.5 15.75H1.5C1.10218 15.75 0.720644 15.592 0.43934 15.3107C0.158035 15.0294 0 14.6478 0 14.25V6.75C0 5.9175 0.675 5.25 1.5 5.25H2.25V3.75C2.25 2.75544 2.64509 1.80161 3.34835 1.09835C4.05161 0.395088 5.00544 0 6 0C6.49246 0 6.98009 0.0969967 7.43506 0.285452C7.89003 0.473907 8.30343 0.75013 8.65165 1.09835C8.99987 1.44657 9.27609 1.85997 9.46455 2.31494C9.653 2.76991 9.75 3.25754 9.75 3.75V5.25H10.5ZM6 1.5C5.40326 1.5 4.83097 1.73705 4.40901 2.15901C3.98705 2.58097 3.75 3.15326 3.75 3.75V5.25H8.25V3.75C8.25 3.15326 8.01295 2.58097 7.59099 2.15901C7.16903 1.73705 6.59674 1.5 6 1.5Z",fill:"#55F165"})}),"Logged in"]})]})}function je(e){var t=e.user,r=new Date(Date.parse(t.addedAt)),a="".concat(r.getUTCDate()," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getUTCMonth()]," ").concat(r.getUTCHours(),":").concat(r.getUTCMinutes());return Object(n.jsxs)("div",{className:de.a.UserRowSt,children:[Object(n.jsx)("div",{className:de.a.DiscordName,children:t.name}),Object(n.jsx)("div",{className:de.a.DateAdded,children:a}),Object(n.jsx)("div",{className:de.a.DiscordId,children:t.id}),e.button]})}function pe(e){return Object(n.jsx)("div",{className:de.a.UserRowSt})}var be=r(19),he=r.n(be);function me(e){var t=e.group;return Object(n.jsxs)(o.c,{className:he.a.GroupRow,to:"/group/"+t.id,children:[Object(n.jsx)("span",{className:he.a.GroupName,children:t.groupName}),"Manage group"]})}function fe(e){var t=e.server;return null===t.id?Object(n.jsxs)("div",{className:he.a.GroupRow,children:[Object(n.jsx)("span",{className:he.a.GroupName,children:t.name}),e.button]}):Object(n.jsxs)("div",{className:he.a.GroupRow,children:[Object(n.jsx)(o.c,{className:he.a.GroupName,to:"/server/"+t.id,children:t.name}),e.button]})}function ve(e){return Object(n.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",className:he.a.gameStatsAd,href:"https://discord.com/oauth2/authorize?client_id=714524944783900794&scope=bot&permissions=83968",children:[Object(n.jsx)("img",{src:"./game-stats.png"}),Object(n.jsx)("span",{children:"Add Game Stats bot on your Discord server, in order to control BF1 servers with cammands."})]})}var Oe=r(9),xe=r.n(Oe);function ge(e){return Object(n.jsx)("span",{className:xe.a.SmallText,children:e.children})}function ye(e){return Object(n.jsx)("div",{className:xe.a.SettingsRow,children:e.children})}function we(e){return Object(n.jsx)("input",{type:"text",className:xe.a.SmallInput,defaultValue:e.value})}function ke(e){var t=e.server;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:xe.a.ServerInfoColumn,children:[Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Auto kick/ban"})}),Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Kick on ping"})}),Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Discord bot channel"})}),Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Bot lang"})})]}),Object(n.jsxs)("div",{className:xe.a.ServerDescriptionColumn,children:[Object(n.jsx)(ye,{children:Object(n.jsx)(Y,{checked:t.autoBanKick,callback:function(){}})}),Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.autoPingKick})}),Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.discordBotChannel})}),Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.discordBotLang})})]}),Object(n.jsxs)("div",{className:xe.a.ServerDescriptionColumn,children:[Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Bot Min players"})}),Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Bot Prev Req Count"})}),Object(n.jsx)(ye,{children:Object(n.jsx)(ge,{children:"Bot Started Amount"})})]}),Object(n.jsxs)("div",{className:xe.a.ServerDescriptionColumn,children:[Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.discordBotMinPlayerAmount})}),Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.discordBotPrevReqCount})}),Object(n.jsx)(ye,{children:Object(n.jsx)(we,{value:t.discordBotStartedAmount})})]})]})}function _e(e){var t=null,r=null;e.game&&e.game.data&&e.game.data.length>0&&(t=e.game.data[0],r=t.info);var c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1];return Object(n.jsxs)("div",{className:xe.a.ServerInfoColumn,children:[Object(n.jsxs)("div",{className:xe.a.ServerDescriptionRow,children:[Object(n.jsx)("img",{className:xe.a.serverImage,src:r?r.url:"/no-server-image.png"}),Object(n.jsxs)("div",{className:xe.a.GameInfo,children:[Object(n.jsx)("span",{className:xe.a.ServerName,children:r?r.prefix:"Loading"}),Object(n.jsx)(ge,{children:r?"".concat(r.map," - ").concat(r.mode," - ").concat(r.serverInfo," players"):"-"})]})]}),Object(n.jsx)("div",{className:t?t.isAdmin?xe.a.serverStatusOk:xe.a.serverStatusErr:xe.a.serverStatus,children:Object(n.jsxs)("span",{children:["Status: ",t?t.isAdmin?"Managable":"Permission denied":"Pending.."]})}),Object(n.jsxs)(F,{children:[Object(n.jsx)(U,{name:"Restart",disabled:!r,callback:function(t){return e.rotate(r?r.rotationId:null)}}),Object(n.jsxs)("select",{className:xe.a.SwitchGame,value:i,onChange:function(e){return o(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"Switch game.."}),r?r.rotation.map((function(e,t){return Object(n.jsx)("option",{value:e.index,children:e.mapname},t)})):""]}),""!==i?Object(n.jsx)(U,{name:"Apply",disabled:!r,callback:function(t){e.rotate(r?i:null),o("")}}):""]})]})}function Se(e){var t=e.game.data[0].players[e.team].players,r="0"==e.team?"1":"2",a=function(t){return[{name:"Give VIP",callback:function(){return e.giveVip.mutate({sid:e.sid,name:t.name,reason:""})}},{name:"Remove VIP",callback:function(){return e.removeVip.mutate({sid:e.sid,name:t.name,reason:""})}}]};return t.map((function(t,c){return Object(n.jsxs)("div",{className:xe.a.PlayerRow,children:[Object(n.jsxs)("span",{className:xe.a.PlayerName,children:[""!==t.platoon?"[".concat(t.platoon,"] "):"",t.name," - ",t.ping]}),Object(n.jsxs)("div",{className:xe.a.PlayerButtons,children:[Object(n.jsx)(U,{name:"Move",callback:function(n){return e.onMove.mutate({sid:e.sid,name:t.name,team:r})}}),Object(n.jsx)(H,{name:"Kick",to:"/server/".concat(e.sid,"/kick/").concat(t.name,"/")}),Object(n.jsx)(H,{name:"Ban",to:"/server/".concat(e.sid,"/ban/").concat(t.name,"/")}),Object(n.jsx)(Z,{options:a(t),name:"\u2630"})]})]},c)}))}function De(e){return Object(n.jsx)("div",{className:xe.a.ServerInfoRow,children:e.children})}function Ne(e){if(!e.banList)return"Loading..";var t=e.banList;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{children:["List of banned players on this server.",Object(n.jsx)("br",{}),"Used ",Object(n.jsxs)("b",{children:[t.data[0].players.length," slots out of 200"]}),". Use our group-based virtual ban list,",Object(n.jsx)("br",{})," to ban unlimited amount of players."]}),Object(n.jsx)(K,{name:"Search.."}),Object(n.jsx)("div",{style:{maxHeight:"400px",overflowY:"scroll",marginTop:"8px"},children:Object(n.jsx)("table",{style:{borderCollapse:"collapse",width:"100%"},children:Object(n.jsx)("tbody",{children:t.data[0].players.map((function(e,t){return Object(n.jsx)(Ie,{player:e},t)}))})})})]})}function Ie(e){var t=e.player;return Object(n.jsxs)("tr",{className:xe.a.BanRow,children:[Object(n.jsx)("td",{className:xe.a.BanDisplayName,children:t.displayName}),Object(n.jsx)("td",{title:"Player ID",children:t.id}),Object(n.jsx)("td",{children:t.reason}),Object(n.jsx)("td",{children:t.admin}),Object(n.jsx)("td",{children:t.banned_until}),Object(n.jsx)("td",{children:t.ban_timestamp})]})}function Ge(){var e=Object(b.a)("user",(function(){return w.user})),t=e.error,r=e.data,a=e.isLoading,c=Object(n.jsx)(U,{name:"Loading.."});if(!a&&!t&&r&&!r.auth.signedIn||t&&!a)c=Object(n.jsx)(U,{name:"Login with Discord",callback:function(){w.openLoginPage()}});else if(!a&&!t&&r&&r.auth.signedIn)return Object(n.jsx)(l.a,{to:"/account/"});return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Server Panel"})}),Object(n.jsxs)(ne,{style:{maxWidth:"800px"},children:[Object(n.jsx)("h2",{children:"Introducing new tools"}),Object(n.jsx)("p",{children:"Community Network developed server panel to controll Battlefield 1 servers with our internal APIs. With server panel you can manage your servers and setup Discord integration. Instantly add and remove server admins, via the server panel or discord roles. Your admins can ban, kick, move players, add VIPs, revoke bans, watch ban list with more details, download ban and vip lists. As an owner you can access logs and see every action that was made via server panel. We integrating our tools tightly, providing Discord commands to administrate your servers."}),Object(n.jsx)("p",{children:"Contact us to get unlimited free access!"}),Object(n.jsx)(F,{children:c})]})]})})}function Ae(){var e=Object(b.a)("user",(function(){return w.user})),t=e.error,r=e.data,a=e.isLoading,c="";if(t||a||!r){if(t&&!a)return Object(n.jsx)(l.a,{to:"/"})}else{if(!r.auth.signedIn)return Object(n.jsx)(l.a,{to:"/"});c=Object(n.jsx)(le,{discord:r.discord})}return Object(n.jsxs)(ee,{children:[Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Account"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Discord Profile"}),c]})]}),Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Permissions"}),Object(n.jsx)(ae,{children:"Administrator"}),Object(n.jsx)(ae,{children:"Server owner"}),Object(n.jsx)(ae,{children:"System administrator"})]})]})]})}function Ce(){var e=Object(b.a)("devGroups",(function(){return w.getDevGroups()})),t=e.isLoading,r=e.isError,a=e.data,c=[];if(t||r||!a){if(r)return Object(n.jsx)(l.a,{to:"/"})}else a.data.map((function(e,t){c.push(Object(n.jsx)(me,{group:e},t))}));return Object(n.jsxs)(ee,{children:[Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Developer Options"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"List of Groups"}),c,Object(n.jsx)(F,{children:Object(n.jsx)(H,{name:"Add new Group",to:"/group/new/"})})]})]}),Object(n.jsx)($,{})]})}function Me(e){var t,r,c=e.match.params.sid,s=Object(d.b)(),i=Object(b.a)("server"+c,(function(){return w.getServer(c)}),{staleTime:6e4}),o=(i.isError,i.data),u=Object(b.a)("serverGame"+c,(function(){return w.getServerGame(c)}),{staleTime:6e4}),l=u.isError,j=u.data,p=Object(b.a)("serverBanList"+c,(function(){return w.getBanList({sid:c})}),{staleTime:6e4}),h=(p.isError,p.data),v="",O=!1,x=Object(a.useState)(""),g=Object(P.a)(x,2),y=g[0],k=g[1],_=Object(a.useState)({name:"Add Vip",status:!1}),S=Object(P.a)(_,2),D=S[0],I=S[1],G=Object(a.useState)({name:"Remove Vip",status:!1}),A=Object(P.a)(G,2),C=A[0],M=A[1],B=Object(a.useState)({name:"Unban",status:!1}),R=Object(P.a)(B,2),Q=R[0],L=R[1],T=Object(a.useState)("info"),V=Object(P.a)(T,2),E=V[0],J=V[1],q=Object(N.a)((function(e){return w.unbanPlayer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L({name:"Pending..",status:!0}),e.abrupt("return",{status:Q});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){L(n.status)}}),Y=Object(N.a)((function(e){return w.removeVip(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M({name:"Pending..",status:!0}),e.abrupt("return",{status:C});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){M(n.status)}}),Z=Object(N.a)((function(e){return w.addVip(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I({name:"Pending..",status:!0}),e.abrupt("return",{status:D});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e,t,r){},onSettled:function(e,t,r,n){I(n.status)}}),z=Object(N.a)((function(e){return w.movePlayer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.team,a=t.name,e.next=3,s.cancelQueries("serverGame"+r);case 3:return c=s.getQueryData("serverGame"+r),s.setQueryData("serverGame"+r,(function(e){return"1"==n?(e.data[0].players[1].players.push(e.data[0].players[0].players.find((function(e){return e.name===a}))),e.data[0].players[0].players=e.data[0].players[0].players.filter((function(e){return e.name!==a}))):(e.data[0].players[0].players.push(e.data[0].players[1].players.find((function(e){return e.name===a}))),e.data[0].players[1].players=e.data[0].players[1].players.filter((function(e){return e.name!==a}))),e})),e.abrupt("return",{previousGroup:c,sid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){s.setQueryData("serverGame"+r.sid,r.previousGroup)},onSettled:function(e,t,r,n){}}),X=[{name:"Server info",callback:function(){return J("info")}},{name:"Ban list",callback:function(){return J("banlist")}},{name:"Vip players",callback:function(){return J("viplist")}},{name:"Settings",callback:function(){return J("settings")}}],W={info:Object(n.jsx)(De,{children:Object(n.jsx)(_e,{game:j,rotate:function(e){return w.changeRotation({sid:c,map:e})}})}),banlist:Object(n.jsx)(Ne,{banList:h}),viplist:"",settings:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:["Servers can be attached to Discord bots. ",Object(n.jsx)("br",{})," Main bot settings for current server."]}),Object(n.jsx)(De,{children:Object(n.jsx)(ke,{server:o})})]})};t=Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(ce,{buttons:X,children:W[E]})})});var te=!1;if(!l&&j){te="Operations"===j.data[0].info.mode;var re=j.data[0].players[0].players.find((function(e){return e.name==y})),ae=j.data[0].players[1].players.find((function(e){return e.name==y}));void 0!==re?r="1":void 0!==ae&&(r="2");O=""!==y&&(void 0!==re||void 0!==ae);v=Object(n.jsxs)(ee,{children:[Object(n.jsx)($,{children:Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Team 1"}),Object(n.jsx)(Se,{game:j,team:"0",sid:c,onMove:z,giveVip:Z,removeVip:Y})]})}),Object(n.jsx)($,{children:Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Team 2"}),Object(n.jsx)(Se,{game:j,team:"1",sid:c,onMove:z,giveVip:Z,removeVip:Y})]})})]})}return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Dashboard"})})})}),t,Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Console"}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{name:"Player name",callback:function(e){return k(e.target.value)},style:{marginRight:12}}),Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{disabled:""===y,name:"Kick",to:"/server/".concat(c,"/kick/").concat(y,"/")}),Object(n.jsx)(U,{disabled:!O,name:"Move",callback:function(e){return z.mutate({sid:c,team:r,name:y})}}),Object(n.jsx)(H,{disabled:""===y,name:"Ban",to:"/server/".concat(c,"/ban/").concat(y,"/")}),Object(n.jsx)(U,{disabled:""===y||Q.status,name:Q.name,callback:function(e){return q.mutate({sid:c,name:y,reason:""})}}),Object(n.jsx)(U,{disabled:""===y||D.status||te,name:D.name,callback:function(e){return Z.mutate({sid:c,name:y,reason:""})}}),Object(n.jsx)(U,{disabled:""===y||C.status||te,name:C.name,callback:function(e){return Y.mutate({sid:c,name:y,reason:""})}})]})]})]})})}),v]})}function Be(e){var t=e.sid,r=e.eaid,c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1],u=Object(d.b)(),j=Object(N.a)((function(e){return w.kickPlayer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.eaid,t.reason,e.next=3,u.cancelQueries("serverGame"+r);case 3:return a=u.getQueryData("serverGame"+r),u.setQueryData("serverGame"+r,(function(e){return e.data[0].players[0].players=e.data[0].players[0].players.filter((function(e){return e.name!==n})),e.data[0].players[1].players=e.data[0].players[1].players.filter((function(e){return e.name!==n})),e})),e.abrupt("return",{previousGroup:a,sid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){u.setQueryData("serverGame"+r.sid,r.previousGroup)},onSettled:function(e,t,r,n){}}),p=Object(l.g)();return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Kick player"})}),Object(n.jsxs)(ne,{children:[Object(n.jsxs)("h2",{children:["You are going to kick player ",e.eaid]}),Object(n.jsx)(K,{name:"Reason",callback:function(e){return o(e.target.value)}}),Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{name:"Chancel",to:"/server/".concat(e.sid,"/")}),Object(n.jsx)(U,{name:"Kick him!",disabled:""===i,callback:function(){j.mutate({sid:t,eaid:r,reason:i,playername:e.eaid}),p.push("/server/".concat(e.sid,"/"))}})]})]})]})})}function Pe(e){var t=e.sid,r=e.eaid,c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(0),j=Object(P.a)(u,2),p=j[0],b=j[1],h=Object(d.b)(),v=Object(N.a)((function(e){return w.banPlayer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sid,n=t.eaid,e.next=3,h.cancelQueries("serverGame"+r);case 3:return a=h.getQueryData("serverGame"+r),h.setQueryData("serverGame"+r,(function(e){return e.data[0].players[0].players=e.data[0].players[0].players.filter((function(e){return e.name!==n})),e.data[0].players[1].players=e.data[0].players[1].players.filter((function(e){return e.name!==n})),e})),e.abrupt("return",{previousGroup:a,sid:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){h.setQueryData("serverGame"+r.sid,r.previousGroup)},onSettled:function(e,t,r,n){}}),O=Object(l.g)();return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Ban player"})}),Object(n.jsxs)(ne,{children:[Object(n.jsxs)("h2",{children:["You are going to ban player ",e.eaid]}),Object(n.jsx)(K,{name:"Reason",callback:function(e){return o(e.target.value)}}),Object(n.jsx)(K,{type:"number",name:"Ban time",defaultValue:0,callback:function(e){return b(e.target.value)}}),Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{name:"Chancel",to:"/server/".concat(e.sid,"/")}),Object(n.jsx)(U,{name:"Ban hammer!",disabled:""===i||p<0,callback:function(){v.mutate({sid:t,eaid:r,reason:i,name:e.eaid,time:p}),O.push("/server/".concat(e.sid,"/"))}})]})]})]})})}function Re(e){var t=e.match.params,r=t.eaid,a=t.action,c=t.sid;return"kick"===a?Object(n.jsx)(Be,{eaid:r,sid:c}):"ban"===a?Object(n.jsx)(Pe,{eaid:r,sid:c}):Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(oe,{children:Object(n.jsxs)("h2",{children:["Uh? Method ",a," is not allowed.."]})})})})}var Qe=r(23),Le=r(43),Te=Object(n.jsx)("svg",{viewBox:"0 0 24 24",style:{width:"16px"},children:Object(n.jsx)("path",{fill:"currentColor",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})});function Ve(e){var t=e.match.params.gid,r=Object(d.b)(),c=Object(b.a)("groupId"+t,(function(){return w.getGroup(t)}),{staleTime:3e4}),s=c.error,i=c.data,o=Object(b.a)("user",(function(){return w.user})),u=o.error,j=o.data,p=Object(N.a)((function(e){return w.removeGroupAdmin(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.uid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),new Date(Date.now()).toUTCString(),r.setQueryData("groupId"+n,(function(e){return e.data[0].admins=e.data[0].admins.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),h=Object(N.a)((function(e){return w.removeServer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.sid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),r.setQueryData("groupId"+n,(function(e){return e.data[0].servers=e.data[0].servers.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),v=Object(N.a)((function(e){return w.removeGroupOwner(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,a=t.uid,e.next=3,r.cancelQueries("groupId"+n);case 3:return c=r.getQueryData("groupId"+n),new Date(Date.now()).toUTCString(),r.setQueryData("groupId"+n,(function(e){return e.data[0].owners=e.data[0].owners.filter((function(e){return e.id!==a})),e})),e.abrupt("return",{previousGroup:c,gid:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("groupId"+n.gid,n.previousGroup)},onSettled:function(e,t,n,a){r.invalidateQueries("groupId"+a.gid)}}),O=i&&i.data&&i.data.length>0?i.data[0]:null,x=Object(a.useState)("servers"),g=Object(P.a)(x,2),y=g[0],k=g[1],_=Object(a.useState)("account"),S=Object(P.a)(_,2),D=S[0],I=S[1],G={owners:Object(n.jsx)(Ue,{group:O,user:j,gid:t,onDelete:v}),admins:Object(n.jsx)(Ee,{group:O,user:j,gid:t,onDelete:p}),servers:Object(n.jsx)(Je,{group:O,user:j,gid:t,onDelete:h})},A={account:Object(n.jsx)(He,{gid:t,user:j,group:O}),discord:Object(n.jsx)(Fe,{gid:t,user:j,group:O}),danger:Object(n.jsx)(Ke,{gid:t,user:j,group:O})},C=[{name:"Servers",callback:function(){return k("servers")}},{name:"Admins",callback:function(){return k("admins")}},{name:"Owners",callback:function(){return k("owners")}}],M=[{name:"Server account",callback:function(){return I("account")}},{name:"Discord integration",callback:function(){return I("discord")}},{name:"Danger zone",callback:function(){return I("danger")}}];return s||u||i&&i.data&&0===i.data.length?Object(n.jsx)(l.a,{to:"/"}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Group"})})})}),Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsxs)(ne,{children:[Object(n.jsxs)("h2",{children:["Group name - ",O?O.groupName:"pending.."]}),Object(n.jsxs)("p",{style:{marginBottom:0},children:["Identity ",t]})]})})}),Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(ce,{buttons:M,children:A[D]})})}),Object(n.jsx)(ee,{children:Object(n.jsx)($,{children:Object(n.jsx)(ce,{buttons:C,children:G[y]})})})]})}function Ee(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r;return e.group&&(r=Object(Le.a)(e.group.admins)).sort((function(e,t){return Date.parse(t.addedAt)-Date.parse(e.addedAt)})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{children:["Admin role can manage servers. You need to have at least ",Object(n.jsx)("br",{}),"Owner role to add new admins."]}),e.group?r.map((function(r,a){return Object(n.jsx)(je,{user:r,button:Object(n.jsx)(q,{name:"Delete",disabled:!t,content:Te,vars:{gid:e.gid,uid:r.id},callback:e.onDelete.mutate})},a)})):[1,1,1].map((function(e,t){return Object(n.jsx)(pe,{},t)})),Object(n.jsx)(F,{children:t?Object(n.jsx)(H,{name:"Add Admin",to:"/group/"+e.gid+"/add/admin"}):Object(n.jsx)(U,{disabled:!0,name:"Not allowed",content:"Add Admin"})})]})}function Je(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{children:["Servers instances added to current group. You need to have ",Object(n.jsx)("br",{}),"Owner role in order to add new servers."]}),e.group?e.group.servers.map((function(r,a){return Object(n.jsx)(fe,{server:r,button:Object(n.jsx)(q,{name:"Delete",content:Te,disabled:!t,vars:{gid:e.gid,sid:r.id},callback:e.onDelete.mutate})},a)})):[1,1,1].map((function(e,t){return Object(n.jsx)(pe,{},t)})),Object(n.jsx)(F,{children:t?Object(n.jsx)(H,{name:"Add Server",to:"/group/"+e.gid+"/add/server"}):Object(n.jsx)(U,{disabled:!0,name:"Not allowed",content:"Add Server"})})]})}function Ue(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r;return e.group&&(r=Object(Le.a)(e.group.owners)).sort((function(e,t){return Date.parse(t.addedAt)-Date.parse(e.addedAt)})),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{children:["List of current group Owners. This role can add new Servers, ",Object(n.jsx)("br",{}),"Admins and other owners. Be carefull with it!"]}),r?r.map((function(r,a){return Object(n.jsx)(je,{user:r,button:Object(n.jsx)(q,{name:"Delete",content:Te,disabled:!t,vars:{gid:e.gid,uid:r.id},callback:e.onDelete.mutate})},a)})):[1,1,1].map((function(e,t){return Object(n.jsx)(pe,{},t)})),Object(n.jsx)(F,{children:t?Object(n.jsx)(H,{name:"Add Owner",to:"/group/"+e.gid+"/add/owner"}):Object(n.jsx)(U,{disabled:!0,name:"Not allowed",content:"Add Owner"})})]})}function He(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(d.b)(),c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(P.a)(u,2),j=l[0],p=l[1],b=Object(a.useState)(null),h=Object(P.a)(b,2),v=h[0],O=h[1];Object(a.useEffect)((function(){e.group&&(j!==e.group.cookie.remid&&p(e.group.cookie.remid),i!==e.group.cookie.sid&&o(e.group.cookie.sid))}),[e.group]);var x=Object(N.a)((function(e){return w.editGroup(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!1),setTimeout((function(e){return O(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("h5",{style:{marginTop:"0px"},children:["Account manager, that will administrate your servers.",Object(n.jsx)("br",{}),"These cookies can be found at ",Object(n.jsx)("i",{children:"accounts.ea.com"})]}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{type:"password",disabled:!t,callback:function(e){return p(e.target.value)},defaultValue:j,name:"Remid"}),Object(n.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Reminder cookies"})]}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{type:"password",disabled:!t,callback:function(e){return o(e.target.value)},defaultValue:i,name:"Sid"}),Object(n.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Session cookies"})]}),!e.group||i===e.group.cookie.sid&&j===e.group.cookie.remid?"":Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Apply",disabled:!t||null!==v,callback:function(t){return x.mutate({gid:e.gid,value:{cookie:{sid:i,remid:j}}})},status:v})})]})}function Fe(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(d.b)(),c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(""),l=Object(P.a)(u,2),j=l[0],p=l[1],b=Object(a.useState)(""),h=Object(P.a)(b,2),v=h[0],O=h[1],x=Object(a.useState)(null),g=Object(P.a)(x,2),y=g[0],k=g[1];Object(a.useEffect)((function(){e.group&&(v!==e.group.discordGroupId&&O(e.group.discordGroupId),j!==e.group.discordModRoleId&&p(e.group.discordModRoleId),i!==e.group.discordAdminRoleId&&o(e.group.discordAdminRoleId))}),[e.group]);var _=Object(N.a)((function(e){return w.editGroup(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!1),setTimeout((function(e){return k(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ve,{}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["With our bot, you can allow admins to controll your servers",Object(n.jsx)("br",{})," by using commands with ! prefix."]}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{disabled:!t,callback:function(e){return O(e.target.value)},defaultValue:v,name:"Discord Server"}),Object(n.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Your server Discord ID"})]}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["Every person with that role id can use",Object(n.jsx)("br",{})," discord commands to contol the server."]}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{disabled:!t,callback:function(e){return o(e.target.value)},defaultValue:i,name:"Admin Discord ID"}),Object(n.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Id of Admin role"})]}),Object(n.jsxs)(ee,{children:[Object(n.jsx)(K,{disabled:!t,callback:function(e){return p(e.target.value)},defaultValue:j,name:"Mod DIscord ID"}),Object(n.jsx)("p",{style:{margin:"0 0 0 20px",alignSelf:"center"},children:"Id of Moderator role, moderators can only kick players"})]}),!e.group||v===e.group.discordGroupId&&j===e.group.discordModRoleId&&i===e.group.discordAdminRoleId?"":Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Apply",disabled:!t||null!==y,callback:function(t){return _.mutate({gid:e.gid,value:{discordGroupId:v,discordModRoleId:j,discordAdminRoleId:i}})},status:y})})]})}function Ke(e){var t=!1;e.group&&e.user&&(t=e.group.isOwner||e.user.auth.isDeveloper);var r=Object(d.b)(),c=Object(a.useState)(""),s=Object(P.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)(null),l=Object(P.a)(u,2),j=l[0],p=l[1];Object(a.useEffect)((function(){e.group&&i!==e.group.groupName&&o(e.group.groupName)}),[e.group]);var b=Object(N.a)((function(e){return w.editGroup(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSuccess:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!1),setTimeout((function(e){return p(null)}),2e3);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSettled:function(){var t=Object(f.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.invalidateQueries("groupId"+e.gid);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h5",{style:{marginTop:"0px"},children:"You can change the name of current Group."}),Object(n.jsx)(K,{disabled:!t,callback:function(e){return o(e.target.value)},defaultValue:i,name:"Group name"}),e.group&&i!==e.group.groupName?Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Apply changes",disabled:!t||null!==j,callback:function(t){return b.mutate({gid:e.gid,value:{groupName:i}})},status:j})}):"",Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["Once you delete a group, it will remove all the servers,",Object(n.jsx)("br",{})," server account and users used in it."]}),Object(n.jsx)(F,{children:Object(n.jsx)(H,{style:{color:"#FF7575"},name:"Delete Group",to:"/group/".concat(e.gid,"/delete/"),disabled:!t})})]})}function qe(e){var t=e.match.params.gid,r="",a="",c=Object(d.b)(),s=Object(N.a)((function(e){return w.addGroupOwner(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,c.cancelQueries("groupId"+r);case 3:return s=c.getQueryData("groupId"+r),i=new Date(Date.now()).toUTCString(),c.setQueryData("groupId"+r,(function(e){return e.data[0].owners.push({id:n,name:a,addedAt:i}),e.data[0].admins.push({id:n,name:a,addedAt:i}),e})),e.abrupt("return",{previousGroup:s,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){c.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){c.invalidateQueries("groupId"+n.gid)}}),i=Object(l.g)();return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Add new Owner"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Group Owner"}),Object(n.jsx)(K,{name:"Nickname (any, will be auto-updated)",callback:function(e){r=e.target.value}}),Object(n.jsx)(K,{name:"Discord UID",callback:function(e){a=e.target.value}}),Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Add Owner",callback:function(){s.mutate({gid:t,uid:a,nickname:r}),i.push("/group/"+t)}})})]})]})})}function Ye(e){var t=e.match.params.gid,r=Object(a.useState)({uid:"",nickname:"",canAdd:!1}),c=Object(P.a)(r,2),s=c[0],i=c[1],o=Object(d.b)(),u=Object(N.a)((function(e){return w.addGroupAdmin(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.uid,a=t.nickname,e.next=3,o.cancelQueries("groupId"+r);case 3:return c=o.getQueryData("groupId"+r),s=new Date(Date.now()).toUTCString(),o.setQueryData("groupId"+r,(function(e){return e.data[0].admins.push({id:n,name:a,addedAt:s}),e})),e.abrupt("return",{previousGroup:c,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){o.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){o.invalidateQueries("groupId"+n.gid)}}),j=function(e){var t=Object(Qe.a)(Object(Qe.a)({},s),e);t.canAdd=""!==t.uid,i(t)},p=Object(l.g)();return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Add new Admin"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Group Admin"}),Object(n.jsx)(K,{name:"Nickname (any, will be auto-updated)",callback:function(e){return j({nickname:e.target.value})}}),Object(n.jsx)(K,{name:"Discord UID",callback:function(e){return j({uid:e.target.value})}}),Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Add Admin",disabled:!s.canAdd,callback:function(){u.mutate({gid:t,uid:s.uid,nickname:s.nickname}),p.push("/group/"+t)}})})]})]})})}function Ze(e){var t=Object(a.useState)({variables:{groupName:"",discordId:"",adminRole:"",modRole:""},roleDisplay:!1,canAdd:!1}),r=Object(P.a)(t,2),c=r[0],s=r[1],i=Object(d.b)(),o=Object(l.g)(),u=Object(N.a)((function(e){return w.addGroup(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.cancelQueries("devGroups");case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSettled:function(e,t,r,n){i.refetchQueries("devGroups")}}),j=function(e){var t=Object(Qe.a)(Object(Qe.a)({},c),{},{variables:Object(Qe.a)(Object(Qe.a)({},c.variables),e)}),r=t.variables;t.roleDisplay=""!==r.discordId,t.canAdd=""!==r.groupName&&""!==r.remid&&""!==r.sid,s(t)};return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Create new Group"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Group info"}),Object(n.jsxs)("p",{style:{marginBottom:"8px"},children:["Create a new group to manage your community servers.",Object(n.jsx)("br",{}),Object(n.jsx)("i",{children:"NOTE: This tools are in open Beta test"})]}),Object(n.jsx)(K,{name:"Name",callback:function(e){j({groupName:e.target.value})}}),Object(n.jsx)("h5",{style:{marginTop:"8px"},children:"Optionaly, you can add your discord server, to integrate server tools"}),Object(n.jsx)(K,{name:"Discord Server ID",callback:function(e){j({discordId:e.target.value})}}),Object(n.jsx)(K,{name:"Mod role ID",disabled:!c.roleDisplay,callback:function(e){j({modRole:e.target.value})}}),Object(n.jsx)(K,{name:"Admin role ID",disabled:!c.roleDisplay,callback:function(e){j({adminRole:e.target.value})}}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["Every group need to be assigned special account with certain requirments: ",Object(n.jsx)("br",{}),"It should be a BF1 server moderator (owner access not required)",Object(n.jsx)("br",{}),"This account shouldn't be used anywhere else, otherwise it will lead in errors",Object(n.jsx)("br",{})]}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["Session cookies can be found at ",Object(n.jsx)("i",{children:"accounts.ea.com"})]}),Object(n.jsx)(K,{name:"SID cookie",type:"password",callback:function(e){j({sid:e.target.value})}}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["Reminder session cookies can be found at ",Object(n.jsx)("i",{children:"accounts.ea.com"})]}),Object(n.jsx)(K,{name:"REMID cookie",type:"password",callback:function(e){j({remid:e.target.value})}}),Object(n.jsxs)("h5",{style:{marginTop:"8px"},children:["By pressing this button, you agree to give ",Object(n.jsx)("br",{}),"server manager tool access to the account."]}),Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Create group",disabled:!c.canAdd,callback:function(){u.mutate(c.variables),o.push("/dev/")}})})]})]})})}function ze(e){var t=e.match.params.gid,r=Object(d.b)(),a=Object(l.g)(),c=Object(N.a)((function(e){return w.removeGroup(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gid,e.next=3,r.cancelQueries("devGroups");case 3:return a=r.getQueryData("devGroups"),r.setQueryData("devGroups",(function(e){return e&&(e.data=e.data.filter((function(e){return e.id!==n}))),e})),e.abrupt("return",{previousGroups:a,gid:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,n){r.setQueryData("devGroups",n.previousGroups)},onSettled:function(e,t,n,a){r.invalidateQueries("devGroups")}});return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Delete Group"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Danger zone"}),Object(n.jsx)("p",{children:"Are you sure you want to delete this group?"}),Object(n.jsxs)(F,{children:[Object(n.jsx)(H,{name:"Oh, no!",to:"/group/"+t}),Object(n.jsx)(U,{name:"Yes, delete",callback:function(){c.mutate({gid:t}),a.push("/dev/")}})]})]})]})})}function Xe(e){var t=e.match.params.gid,r="",a="",c=Object(d.b)(),s=Object(N.a)((function(e){return w.addGroupServer(e)}),{onMutate:function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.gid,n=t.name,t.alias,e.next=3,c.cancelQueries("groupId"+r);case 3:return a=c.getQueryData("groupId"+r),s=new Date(Date.now()).toUTCString(),c.setQueryData("groupId"+r,(function(e){return e.data[0].servers.push({addedAt:s,id:null,name:n}),e})),e.abrupt("return",{previousGroup:a,gid:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){c.setQueryData("groupId"+r.gid,r.previousGroup)},onSettled:function(e,t,r,n){c.invalidateQueries("groupId"+n.gid)}}),i=Object(l.g)();return Object(n.jsx)(ee,{children:Object(n.jsxs)($,{children:[Object(n.jsx)(oe,{children:Object(n.jsx)("h2",{children:"Add new Server"})}),Object(n.jsxs)(ne,{children:[Object(n.jsx)("h2",{children:"Group Server"}),Object(n.jsx)(K,{name:"Server name",callback:function(e){r=e.target.value}}),Object(n.jsx)(K,{name:"Alias (optional)",callback:function(e){a=e.target.value}}),Object(n.jsx)(F,{children:Object(n.jsx)(U,{name:"Add Server",callback:function(){s.mutate({gid:t,alias:a,name:r}),i.push("/group/"+t)}})})]})]})})}function We(e){return Object(n.jsx)(n.Fragment,{})}function $e(e){return Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{exact:!0,path:"/",component:Ge}),Object(n.jsx)(l.b,{exact:!0,path:"/account/",component:Ae}),Object(n.jsx)(l.b,{exact:!0,path:"/server/:sid/",component:Me}),Object(n.jsx)(l.b,{exact:!0,path:"/server/:sid/:action/:eaid/",component:Re}),Object(n.jsx)(l.b,{exact:!0,path:"/group/new/",component:Ze}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/",component:Ve}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/add/server",component:Xe}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/add/admin/",component:Ye}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/add/owner/",component:qe}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/edit/",component:We}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/logs/"}),Object(n.jsx)(l.b,{exact:!0,path:"/group/:gid/delete",component:ze}),Object(n.jsx)(l.b,{exact:!0,path:"/dev/",component:Ce})]})}var et=r(13);Object(et.b)();var tt=function(){var e=Object(l.h)();return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.b,{children:[Object(n.jsx)(B,{}),Object(n.jsx)(j.a,{component:S,children:Object(n.jsx)(p.a,{classNames:"fade",timeout:200,children:Object(n.jsx)(D,{children:Object(n.jsx)($e,{})})},e.key)})]})})},rt=new u.a;i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(d.a,{client:rt,children:Object(n.jsx)(o.a,{children:Object(n.jsx)(tt,{})})})}),document.getElementById("root"))},9:function(e,t,r){e.exports={SmallText:"Server_SmallText__3uOYG",ServerInfoColumn:"Server_ServerInfoColumn__35hJK",ServerInfoRow:"Server_ServerInfoRow__2Aa7V",serverImage:"Server_serverImage__3m2nE",ServerName:"Server_ServerName__2irVE",GameInfo:"Server_GameInfo__X3Hhq",ServerDescriptionColumn:"Server_ServerDescriptionColumn__3pNJs",ServerDescriptionRow:"Server_ServerDescriptionRow__12wsx",SwitchGame:"Server_SwitchGame__3MjHo",SettingsRow:"Server_SettingsRow__2yzpg",SmallInput:"Server_SmallInput__1fZ_Z",PlayerRow:"Server_PlayerRow__29Z8B",PlayerName:"Server_PlayerName__3tLfO",playerBackgroundInfo:"Server_playerBackgroundInfo__27qMt",PlayerButtons:"Server_PlayerButtons__3dQvb",serverStatus:"Server_serverStatus__2bq0e",serverStatusOk:"Server_serverStatusOk__g8kKz",serverStatusErr:"Server_serverStatusErr__3kLiy",BanRow:"Server_BanRow__2CH-s",BanDisplayName:"Server_BanDisplayName__1mYLa"}}},[[65,1,2]]]);
//# sourceMappingURL=main.6ac3489a.chunk.js.map